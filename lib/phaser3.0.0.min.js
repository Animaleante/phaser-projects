!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Phaser",[],e):"object"==typeof exports?exports.Phaser=e():t.Phaser=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=232)}([function(t,e){function i(t){return!!t.get&&"function"==typeof t.get||!!t.set&&"function"==typeof t.set}function n(t,e,n){var r=n?t[e]:Object.getOwnPropertyDescriptor(t,e);return!n&&r.value&&"object"==typeof r.value&&(r=r.value),!(!r||!i(r))&&(void 0===r.enumerable&&(r.enumerable=!0),void 0===r.configurable&&(r.configurable=!0),r)}function r(t,e){var i=Object.getOwnPropertyDescriptor(t,e);return!!i&&(i.value&&"object"==typeof i.value&&(i=i.value),!1===i.configurable)}function s(t,e,i,s){for(var a in e)if(e.hasOwnProperty(a)){var h=n(e,a,i);if(!1!==h){var u=s||t;if(r(u.prototype,a)){if(o.ignoreFinals)continue;throw new Error("cannot override final property '"+a+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(t.prototype,a,h)}else t.prototype[a]=e[a]}}function a(t,e){if(e){Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++)s(t,e[i].prototype||e[i])}}function o(t){t||(t={});var e,i;if(t.initialize){if("function"!=typeof t.initialize)throw new Error("initialize must be a function");e=t.initialize,delete t.initialize}else if(t.Extends){var n=t.Extends;e=function(){n.apply(this,arguments)}}else e=function(){};t.Extends?(e.prototype=Object.create(t.Extends.prototype),e.prototype.constructor=e,i=t.Extends,delete t.Extends):e.prototype.constructor=e;var r=null;return t.Mixins&&(r=t.Mixins,delete t.Mixins),a(e,r),s(e,t,!0,i),e}o.extend=s,o.mixin=a,o.ignoreFinals=!1,t.exports=o},function(t,e,i){var n=i(0),r=new n({initialize:function(t){this.type=t,this.target,this._propagate=!0},reset:function(t){this.target=t,this._propagate=!0},stopPropagation:function(){this._propagate=!1}});t.exports=r},function(t,e){var i=function(t,e,i){if(t&&"number"!=typeof t){if(t.hasOwnProperty(e))return t[e];if(e.indexOf(".")){for(var n=e.split("."),r=t,s=i,a=0;a<n.length;a++){if(!r.hasOwnProperty(n[a])){s=i;break}s=r[n[a]],r=r[n[a]]}return s}return i}return i};t.exports=i},function(t,e,i){t.exports={Alpha:i(248),Animation:i(249),BlendMode:i(271),ComputedSize:i(272),Flip:i(273),GetBounds:i(274),Origin:i(275),RenderTarget:i(276),ScaleMode:i(277),ScrollFactor:i(278),Size:i(279),Texture:i(280),Tint:i(281),ToJSON:i(282),Transform:i(283),TransformMatrix:i(23),Visible:i(284)}},function(t,e,i){var n=i(70),r=i(2),s=function(t,e,i){var s=r(t,e,null);if(null===s)return i;if(Array.isArray(s))return n.RND.pick(s);if("object"==typeof s){if(s.hasOwnProperty("randInt"))return n.RND.integerInRange(s.randInt[0],s.randInt[1]);if(s.hasOwnProperty("randFloat"))return n.RND.realInRange(s.randFloat[0],s.randFloat[1])}else if("function"==typeof s)return s(e);return s};t.exports=s},function(t,e,i){var n={VERSION:"3.0.0",BlendModes:i(31),ScaleModes:i(26),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};t.exports=n},function(t,e,i){var n=i(0),r=i(3),s=i(285),a=new n({initialize:function(t,e){this.scene=t,this.type=e,this.name="",this.active=!0,this.tabIndex=-1,this.data=new s(t,this),this.renderMask=15,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.scene.sys.sortChildrenFlag=!0},setActive:function(t){return this.active=t,this},setName:function(t){return this.name=t,this},setInteractive:function(t,e){return this.scene.sys.inputManager.enable(this,t,e),this},update:function(){},toJSON:function(){return r.ToJSON(this)},willRender:function(){return this.renderMask===this.renderFlags},destroy:function(){this.scene.sys.displayList.remove(this),this.scene.sys.updateList.remove(this),this.input&&this.scene.sys.inputManager.clear(this),this.body&&this.scene.sys.physicsManager.remove(this),this.active=!1,this.scene=void 0}});t.exports=a},function(t,e){var i=function(t,e,i){var n=typeof t;return t&&"number"!==n&&"string"!==n&&t.hasOwnProperty(e)?t[e]:i};t.exports=i},function(t,e,i){var n=i(0),r=new n({initialize:function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e},setTo:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this}});t.exports=r},function(t,e,i){var n=i(4),r=i(26),s=i(31),a=function(t,e,i){e.x=n(i,"x",0),e.y=n(i,"y",0),e.z=n(i,"z",0),e.flipX=n(i,"flipX",!1),e.flipY=n(i,"flipY",!1);var a=n(i,"scale",null);"number"==typeof a?e.setScale(a):null!==a&&(e.scaleX=n(a,"x",1),e.scaleY=n(a,"y",1));var o=n(i,"scrollFactor",null);"number"==typeof o?e.setScrollFactor(o):null!==o&&(e.scrollFactorX=n(o,"x",1),e.scrollFactorY=n(o,"y",1)),e.rotation=n(i,"rotation",0);var h=n(i,"angle",null);null!==h&&(e.angle=h),e.alpha=n(i,"alpha",1);var u=n(i,"origin",null);if("number"==typeof u)e.setOrigin(u);else if(null!==u){var c=n(i,"x",.5),l=n(i,"y",.5);e.setOrigin(c,l)}return e.scaleMode=n(i,"scaleMode",r.DEFAULT),e.blendMode=n(i,"blendMode",s.NORMAL),e.visible=n(i,"visible",!0),n(i,"add",!0)&&t.sys.displayList.add(e),e};t.exports=a},function(t,e){var i={CREATED:0,INIT:1,DELAY:2,OFFSET_DELAY:3,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING_ADD:20,PAUSED:21,LOOP_DELAY:22,ACTIVE:23,COMPLETE_DELAY:24,PENDING_REMOVE:25,REMOVED:26};t.exports=i},function(t,e){var i={PI2:2*Math.PI,TAU:.5*Math.PI,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI};t.exports=i},function(t,e,i){var n=i(5),r=i(68),s=[],a=!1;t.exports=function(){var t=function(t,e,i,h){void 0===e&&(e=1),void 0===i&&(i=1),void 0===h&&(h=n.CANVAS);var u,c=o(h);return null===c?(c={parent:t,canvas:document.createElement("canvas"),type:h},s.push(c),u=c.canvas):(c.parent=t,u=c.canvas),u.width=e,u.height=i,a&&h===n.CANVAS&&r.disable(u.getContext("2d")),u},e=function(e,i,r){return t(e,i,r,n.CANVAS)},i=function(e,i,r){return t(e,i,r,n.WEBGL)},o=function(t){return void 0===t&&(t=n.CANVAS),s.forEach(function(e){if(!e.parent&&e.type===t)return e}),null},h=function(t){var e=t instanceof HTMLCanvasElement;s.forEach(function(i){(e&&i.canvas===t||!e&&i.parent===t)&&(i.parent=null,i.canvas.width=1,i.canvas.height=1)})},u=function(){var t=0;return s.forEach(function(e){e.parent&&t++}),t},c=function(){return s.length-u()};return{create2D:e,create:t,createWebGL:i,disableSmoothing:function(){a=!0},enableSmoothing:function(){a=!1},first:o,free:c,pool:s,remove:h,total:u}}()},function(t,e){var i={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_DESTROYED:4,FILE_PENDING:5,FILE_LOADING:6,FILE_LOADED:7,FILE_FAILED:8,FILE_PROCESSING:9,FILE_WAITING_LINKFILE:10,FILE_ERRORED:11,FILE_COMPLETE:12,FILE_DESTROYED:13,TEXTURE_ATLAS_JSON_ARRAY:20,TEXTURE_ATLAS_JSON_HASH:21};t.exports=i},function(t,e,i){var n=i(0),r=new n({initialize:function(t,e,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.x=t,this.y=e,this.width=i,this.height=n},setTo:function(t,e,i,n){return this.x=t,this.y=e,this.width=i,this.height=n,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(t,e){return void 0===e&&(e=t),this.x=t,this.y=e,this},setSize:function(t,e){return void 0===e&&(e=t),this.width=t,this.height=e,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(){return{x1:this.x,y1:this.y,x2:this.right,y2:this.y}},getLineB:function(){return{x1:this.right,y1:this.y,x2:this.right,y2:this.bottom}},getLineC:function(){return{x1:this.right,y1:this.bottom,x2:this.x,y2:this.bottom}},getLineD:function(){return{x1:this.x,y1:this.bottom,x2:this.x,y2:this.y}},left:{get:function(){return this.x},set:function(t){t>=this.right?this.width=0:this.width=this.right-t,this.x=t}},right:{get:function(){return this.x+this.width},set:function(t){t<=this.x?this.width=0:this.width=t-this.x}},top:{get:function(){return this.y},set:function(t){t>=this.bottom?(this.height=0,this.y=t):this.height=this.bottom-t}},bottom:{get:function(){return this.y+this.height},set:function(t){t<=this.y?this.height=0:this.height=t-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(t){this.x=t-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(t){this.y=t-this.height/2}}});t.exports=r},function(t,e){var i=function(t){return t.y+t.height-t.height*t.originY};t.exports=i},function(t,e){var i=function(t,e){return t.y=e-t.height+t.height*t.originY,t};t.exports=i},function(t,e){var i=function(t){return t.x-t.width*t.originX};t.exports=i},function(t,e){var i=function(t,e){return t.x=e+t.width*t.originX,t};t.exports=i},function(t,e){var i=function(t){return t.x+t.width-t.width*t.originX};t.exports=i},function(t,e){var i=function(t,e){return t.x=e-t.width+t.width*t.originX,t};t.exports=i},function(t,e){var i=function(t){return t.y-t.height*t.originY};t.exports=i},function(t,e){var i=function(t,e){return t.y=e+t.height*t.originY,t};t.exports=i},function(t,e,i){var n=i(0),r=new n({initialize:function(t,e,i,n,r,s){void 0===t&&(t=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=1),void 0===r&&(r=0),void 0===s&&(s=0),this.matrix=new Float32Array([t,e,i,n,r,s,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0}},loadIdentity:function(){var t=this.matrix;return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,this},translate:function(t,e){var i=this.matrix;return i[4]=i[0]*t+i[2]*e+i[4],i[5]=i[1]*t+i[3]*e+i[5],this},scale:function(t,e){var i=this.matrix;return i[0]*=t,i[1]*=t,i[2]*=e,i[3]*=e,this},rotate:function(t){var e=Math.sin(t),i=Math.cos(t);return this.transform(i,-e,e,i,0,0)},multiply:function(t){var e=this.matrix,i=e[0],n=e[1],r=e[2],s=e[3],a=e[4],o=e[5],h=t[0],u=t[1],c=t[2],l=t[3],f=t[4],d=t[5];return e[0]=h*i+u*r,e[1]=h*n+u*s,e[2]=c*i+l*r,e[3]=c*n+l*s,e[4]=f*i+d*r+a,e[5]=f*n+d*s+o,this},transform:function(t,e,i,n,r,s){var a=this.matrix,o=a[0],h=a[1],u=a[2],c=a[3],l=a[4],f=a[5];return a[0]=t*o+e*u,a[1]=t*h+e*c,a[2]=i*o+n*u,a[3]=i*h+n*c,a[4]=r*o+s*u+l,a[5]=r*h+s*c+f,this},transformPoint:function(t,e,i){void 0===i&&(i={x:0,y:0});var n=this.matrix,r=n[0],s=n[1],a=n[2],o=n[3],h=n[4],u=n[5];return i.x=t*r+e*a+h,i.y=t*s+e*o+u,i},invert:function(){var t=this.matrix,e=t[0],i=t[1],n=t[2],r=t[3],s=t[4],a=t[5],o=e*r-i*n;return t[0]=r/o,t[1]=-i/o,t[2]=-n/o,t[3]=e/o,t[4]=(n*a-r*s)/o,t[5]=-(e*a-i*s)/o,this},setTransform:function(t,e,i,n,r,s){var a=this.matrix;return a[0]=t,a[1]=e,a[2]=i,a[3]=n,a[4]=r,a[5]=s,this},decomposeMatrix:function(){var t=this.decomposedMatrix,e=this.matrix,i=e[0],n=e[1],r=e[2],s=e[3],a=i*i,o=n*n,h=r*r,u=s*s,c=Math.sqrt(a+h),l=Math.sqrt(o+u);return t.translateX=e[4],t.translateY=e[5],t.scaleX=c,t.scaleY=l,t.rotation=Math.acos(i/c)*(Math.atan(-r/i)<0?-1:1),t},applyITRS:function(t,e,i,n,r){var s=this.matrix,a=Math.sin(i),o=Math.cos(i);return s[4]=t,s[5]=e,s[0]=o*n,s[1]=-a*n,s[2]=a*r,s[3]=o*r,this}});t.exports=r},function(t,e,i){var n=i(0),r=i(7),s=i(13),a=i(679),o=i(191),h=i(680),u=i(92),c=new n({initialize:function(t){if(this.type=r(t,"type",!1),this.key=r(t,"key",!1),!this.type||!this.key)throw new Error("Error calling 'Loader."+this.type+"' invalid key provided.");this.url=r(t,"url"),void 0===this.url?this.url=r(t,"path","")+this.key+"."+r(t,"extension",""):this.url=r(t,"path","").concat(this.url),this.src="",this.xhrSettings=u(r(t,"responseType",void 0)),r(t,"xhrSettings",!1)&&(this.xhrSettings=o(this.xhrSettings,r(t,"xhrSettings",{}))),this.xhrLoader=null,this.state=s.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=r(t,"config",{}),this.linkFile=void 0,this.linkType="",this.callback=null},resetXHR:function(){this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0},onLoad:function(t){this.resetXHR(),this.callback(this,!0)},onError:function(t){this.resetXHR(),this.callback(this,!1)},onProgress:function(t){t.lengthComputable&&(this.bytesLoaded=t.loaded,this.bytesTotal=t.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1))},onProcess:function(t){this.state=s.FILE_PROCESSING,this.onComplete(),t(this)},onComplete:function(){this.linkFile?this.linkFile.state===s.FILE_WAITING_LINKFILE?(this.state=s.FILE_COMPLETE,this.linkFile.state=s.FILE_COMPLETE):this.state=s.FILE_WAITING_LINKFILE:this.state=s.FILE_COMPLETE},load:function(t,e,i){void 0===e&&(e=""),this.callback=t,this.src=a(this,e),0===this.src.indexOf("data:")?console.log("Local data URI"):this.xhrLoader=h(this,i)}});t.exports=c},function(t,e){var i=function(){};t.exports=i},function(t,e){t.exports={DEFAULT:0,LINEAR:0,NEAREST:1}},function(t,e){var i=function(t,e,i){return!(t.width<=0||t.height<=0)&&(t.x<=e&&t.x+t.width>=e&&t.y<=i&&t.y+t.height>=i)};t.exports=i},function(t,e,i){var n=i(0),r=i(73),s=i(156),a=new n({initialize:function(t,e,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=255),this.r=0,this.g=0,this.b=0,this.a=255,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(t,e,i,n)},transparent:function(){return this.red=0,this.green=0,this.blue=0,this.alpha=0,this.update()},setTo:function(t,e,i,n){return void 0===n&&(n=255),this.red=t,this.green=e,this.blue=i,this.alpha=n,this.update()},setGLTo:function(t,e,i,n){return void 0===n&&(n=1),this.redGL=t,this.greenGL=e,this.blueGL=i,this.alphaGL=n,this.update()},setFromRGB:function(t){return this.red=t.r,this.green=t.g,this.blue=t.b,t.hasOwnProperty("a")&&(this.alpha=t.a),this.update()},update:function(){return this._color=r(this.r,this.g,this.b),this._color32=s(this.r,this.g,this.b,this.a),this._rgba="rgba("+this.r+","+this.g+","+this.b+","+this.a/255+")",this},clone:function(){return new a(this.r,this.g,this.b,this.a)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(t){this.gl[0]=Math.min(Math.abs(t),1),this.r=Math.floor(255*this.gl[0]),this.update()}},greenGL:{get:function(){return this.gl[1]},set:function(t){this.gl[1]=Math.min(Math.abs(t),1),this.g=Math.floor(255*this.gl[1]),this.update()}},blueGL:{get:function(){return this.gl[2]},set:function(t){this.gl[2]=Math.min(Math.abs(t),1),this.b=Math.floor(255*this.gl[2]),this.update()}},alphaGL:{get:function(){return this.gl[3]},set:function(t){this.gl[3]=Math.min(Math.abs(t),1),this.a=Math.floor(255*this.gl[3]),this.update()}},red:{get:function(){return this.r},set:function(t){t=Math.floor(Math.abs(t)),this.r=Math.min(t,255),this.gl[0]=t/255,this.update()}},green:{get:function(){return this.g},set:function(t){t=Math.floor(Math.abs(t)),this.g=Math.min(t,255),this.gl[1]=t/255,this.update()}},blue:{get:function(){return this.b},set:function(t){t=Math.floor(Math.abs(t)),this.b=Math.min(t,255),this.gl[2]=t/255,this.update()}},alpha:{get:function(){return this.a},set:function(t){t=Math.floor(Math.abs(t)),this.a=Math.min(t,255),this.gl[3]=t/255,this.update()}}});t.exports=a},function(t,e,i){var n=i(0),r=i(393),s=new n({initialize:function(){this.bindings={},this.filters=[],this.hasFilters=!1},getBinding:function(t){if(this.bindings.hasOwnProperty(t))return this.bindings[t]},createBinding:function(t){return this.getBinding(t)||(this.bindings[t]=new r(this,t)),this.bindings[t]},on:function(t,e,i){void 0===i&&(i=0);var n=this.createBinding(t);return n&&n.add(e,i,!1),this},once:function(t,e,i){void 0===i&&(i=0);var n=this.createBinding(t);return n&&n.add(e,i,!0),this},filter:function(t){var e=this.filters.indexOf(t);return-1===e?this.filters.push(t):this.filters.splice(e,1),this.hasFilters=this.filters.length>0,this},has:function(t,e){var i=this.getBinding(t);return!!i&&i.has(e)},total:function(t){var e=this.getBinding(t);if(e)return e.total()},off:function(t,e){var i=this.getBinding(t);return i&&i.remove(e),this},_dispatchHandler:function(t){if(t.reset(this),this.hasFilters)for(var e=0;e<this.filters.length;e++)if(this.filters[e].call(this,t),!t._propagate)return;var i=this.getBinding(t.type);i&&i.dispatch(t)},dispatch:function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this._dispatchHandler(t[e]);else this._dispatchHandler(t)},removeAll:function(t){var e=this.getBinding(t);return e&&e.removeAll(),this},removeAllFilters:function(){return this.filters.length=0,this.hasFilters=!1,this},delete:function(t){var e=this.getBinding(t);return e&&(e.destroy(),delete this.bindings[t]),this},deleteAll:function(){for(var t in this.bindings)t.destroy();this.bindings={}},destroy:function(){this.deleteAll(),this.removeAllFilters()}});t.exports=s},function(t,e,i){var n=i(0),r=new n({initialize:function(t){this.dwordLength=0,this.dwordCapacity=t/4,this.buffer=new ArrayBuffer(t),this.floatView=new Float32Array(this.buffer),this.intView=new Int32Array(this.buffer),this.uintView=new Uint32Array(this.buffer)},clear:function(){this.dwordLength=0},getByteLength:function(){return 4*this.dwordLength},getByteCapacity:function(){return this.buffer.byteLength},allocate:function(t){var e=this.dwordLength;return this.dwordLength+=t,e},getUsedBufferAsFloat:function(){return this.floatView.subarray(0,this.dwordLength)},getUsedBufferAsInt:function(){return this.intView.subarray(0,this.dwordLength)},getUsedBufferAsUint:function(){return this.uintView.subarray(0,this.dwordLength)}});t.exports=r},function(t,e){t.exports={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16}},function(t,e){var i=function(t){return t.x-t.width*t.originX+.5*t.width};t.exports=i},function(t,e){var i=function(t,e){var i=t.width*t.originX;return t.x=e+i-.5*t.width,t};t.exports=i},function(t,e){var i=function(t){return t.y-t.height*t.originY+.5*t.height};t.exports=i},function(t,e){var i=function(t,e){var i=t.height*t.originY;return t.y=e+i-.5*t.height,t};t.exports=i},function(t,e){var i=function(t,e,i){if(t.radius>0&&e>=t.left&&e<=t.right&&i>=t.top&&i<=t.bottom){return(t.x-e)*(t.x-e)+(t.y-i)*(t.y-i)<=t.radius*t.radius}return!1};t.exports=i},function(t,e,i){var n=i(0),r=new n({initialize:function(t){this.wordLength=0,this.wordCapacity=t/2,this.buffer=new ArrayBuffer(t),this.intView=new Int16Array(this.buffer),this.uintView=new Uint16Array(this.buffer)},clear:function(){this.wordLength=0},getByteLength:function(){return 2*this.wordLength},getByteCapacity:function(){return this.buffer.byteLength},allocate:function(t){var e=this.wordLength;return this.wordLength+=t,e},getUsedBufferAsShort:function(){return this.intView.subarray(0,this.wordLength)},getUsedBufferAsWord:function(){return this.uintView.subarray(0,this.wordLength)}});t.exports=r},function(t,e){t.exports={vert:["uniform mat4 u_view_matrix;","attribute vec2 a_position;","attribute vec2 a_tex_coord;","attribute vec3 a_color;","attribute float a_alpha;","varying vec2 v_tex_coord;","varying vec3 v_color;","varying float v_alpha;","void main () {","   gl_Position = u_view_matrix * vec4(a_position, 1.0, 1.0);","   v_tex_coord = a_tex_coord;","   v_color = a_color;","   v_alpha = a_alpha;","}"].join("\n"),frag:["precision mediump float;","uniform sampler2D u_sampler2D;","varying vec2 v_tex_coord;","varying vec3 v_color;","varying float v_alpha;","void main() {","   gl_FragColor = texture2D(u_sampler2D, v_tex_coord) * vec4(v_color, v_alpha);","}"].join("\n")}},function(t,e,i){var n=i(0),r=i(6),s=i(3),a=i(551),o=new n({Extends:r,Mixins:[s.Alpha,s.BlendMode,s.Flip,s.GetBounds,s.Origin,s.RenderTarget,s.ScaleMode,s.ScrollFactor,s.Size,s.Texture,s.Tint,s.Transform,s.Visible,a],initialize:function(t,e,i,n,a){r.call(this,t,"Sprite"),this.anims=new s.Animation(this),this.setTexture(n,a),this.setPosition(e,i),this.setSizeToFrame(),this.setOrigin()},preUpdate:function(t,e){this.anims.update(t,e)},play:function(t,e){return this.anims.play(t,e),this},toJSON:function(){return s.ToJSON(this)}});t.exports=o},function(t,e,i){t.exports={DRAG:i(620),DRAG_END:i(621),DRAG_ENTER:i(622),DRAG_LEAVE:i(623),DRAG_OVER:i(624),DRAG_START:i(625),DROP:i(626),GAME_OBJECT_DOWN:i(627),GAME_OBJECT_MOVE:i(628),GAME_OBJECT_OUT:i(629),GAME_OBJECT_OVER:i(630),GAME_OBJECT_UP:i(631),POINTER_DOWN:i(632),POINTER_MOVE:i(633),POINTER_OUT:i(634),POINTER_OVER:i(635),POINTER_UP:i(636)}},function(t,e,i){var n=i(0),r=new n({initialize:function(t,e,i,n,r,s){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.x3=0,this.y3=0,this.setTo(t,e,i,n,r,s)},setTo:function(t,e,i,n,r,s){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===s&&(s=0),this.x1=t,this.y1=e,this.x2=i,this.y2=n,this.x3=r,this.y3=s,this},getLineA:function(){return{x1:this.x1,y1:this.y1,x2:this.x2,y2:this.y2}},getLineB:function(){return{x1:this.x2,y1:this.y2,x2:this.x3,y2:this.y3}},getLineC:function(){return{x1:this.x3,y1:this.y3,x2:this.x1,y2:this.y1}},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(t){var e=0;e=this.x1<=this.x2&&this.x1<=this.x3?this.x1-t:this.x2<=this.x1&&this.x2<=this.x3?this.x2-t:this.x3-t,this.x1-=e,this.x2-=e,this.x3-=e}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(t){var e=0;e=this.x1>=this.x2&&this.x1>=this.x3?this.x1-t:this.x2>=this.x1&&this.x2>=this.x3?this.x2-t:this.x3-t,this.x1-=e,this.x2-=e,this.x3-=e}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(t){var e=0;e=this.y1<=this.y2&&this.y1<=this.y3?this.y1-t:this.y2<=this.y1&&this.y2<=this.y3?this.y2-t:this.y3-t,this.y1-=e,this.y2-=e,this.y3-=e}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(t){var e=0;e=this.y1>=this.y2&&this.y1>=this.y3?this.y1-t:this.y2>=this.y1&&this.y2>=this.y3?this.y2-t:this.y3-t,this.y1-=e,this.y2-=e,this.y3-=e}}});t.exports=r},function(t,e,i){var n=i(0),r=i(13),s=i(24),a=i(7),o=new n({Extends:s,initialize:function(t,e,i,n,r){var o="string"==typeof t?t:a(t,"key",""),h={type:"image",extension:a(t,"extension","png"),responseType:"blob",key:o,url:a(t,"file",e),path:i,xhrSettings:a(t,"xhr",n),config:a(t,"config",r)};s.call(this,h)},onProcess:function(t){this.state=r.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var e=this;this.data.onload=function(){URL.revokeObjectURL(e.data.src),e.onComplete(),t(e)},this.data.onerror=function(){URL.revokeObjectURL(e.data.src),e.state=r.FILE_ERRORED,t(e)},this.data.src=URL.createObjectURL(this.xhrLoader.response)}});o.create=function(t,e,i,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)t.addFile(new o(e[r],i,t.path,n));else t.addFile(new o(e,i,t.path,n));return t},t.exports=o},function(t,e){var i=function(t){return Math.atan2(t.y2-t.y1,t.x2-t.x1)};t.exports=i},function(t,e,i){(function(e){var i={desktop:!1,webApp:!1,iOS:!1,iOSVersion:0,iPhone:!1,iPad:!1,cocoonJS:!1,cocoonJSApp:!1,cordova:!1,node:!1,nodeWebkit:!1,electron:!1,ejecta:!1,crosswalk:!1,android:!1,chromeOS:!1,linux:!1,macOS:!1,windows:!1,windowsPhone:!1,vita:!1,kindle:!1,pixelRatio:1};t.exports=function(){var t=navigator.userAgent;/Windows/.test(t)?i.windows=!0:/Mac OS/.test(t)?i.macOS=!0:/Linux/.test(t)?i.linux=!0:/Android/.test(t)?i.android=!0:/iP[ao]d|iPhone/i.test(t)?(i.iOS=!0,navigator.appVersion.match(/OS (\d+)/),i.iOSVersion=parseInt(RegExp.$1,10)):/Kindle/.test(t)||/\bKF[A-Z][A-Z]+/.test(t)||/Silk.*Mobile Safari/.test(t)?i.kindle=!0:/CrOS/.test(t)?i.chromeOS=!0:/Playstation Vita/.test(t)&&(i.vita=!0),(/Windows Phone/i.test(t)||/IEMobile/i.test(t))&&(i.android=!1,i.iOS=!1,i.macOS=!1,i.windows=!0,i.windowsPhone=!0);var n=/Silk/.test(t);if((i.windows||i.macOS||i.linux&&!n||i.chromeOS)&&(i.desktop=!0),(i.windowsPhone||/Windows NT/i.test(t)&&/Touch/i.test(t))&&(i.desktop=!1),navigator.standalone&&(i.webApp=!0),void 0!==window.cordova&&(i.cordova=!0),void 0!==e&&void 0!==e.versions.node&&(i.node=!0),i.node&&"object"==typeof e.versions&&(i.nodeWebkit=!!e.versions["node-webkit"],i.electron=!!e.versions.electron),navigator.isCocoonJS){i.cocoonJS=!0;try{i.cocoonJSApp="undefined"!=typeof CocoonJS}catch(t){i.cocoonJSApp=!1}}return void 0!==window.ejecta&&(i.ejecta=!0),/Crosswalk/.test(t)&&(i.crosswalk=!0),i.iPhone=-1!==t.toLowerCase().indexOf("iphone"),i.iPad=-1!==t.toLowerCase().indexOf("ipad"),i.pixelRatio=window.devicePixelRatio||1,i}()}).call(e,i(333))},function(t,e,i){t.exports={ADD_ANIMATION_EVENT:i(399),PAUSE_ALL_ANIMATION_EVENT:i(400),REMOVE_ANIMATION_EVENT:i(401),RESUME_ALL_ANIMATION_EVENT:i(402)}},function(t,e,i){var n=i(0),r=i(180),s=new n({initialize:function(t){this.sys=new r(this,t)},update:function(){},render:function(){}});t.exports=s},function(t,e){var i=function(t,e,i){var n=t.x3-t.x1,r=t.y3-t.y1,s=t.x2-t.x1,a=t.y2-t.y1,o=e-t.x1,h=i-t.y1,u=n*n+r*r,c=n*s+r*a,l=n*o+r*h,f=s*s+a*a,d=s*o+a*h,p=u*f-c*c,v=0===p?0:1/p,g=(f*l-c*d)*v,x=(u*d-c*l)*v;return g>=0&&x>=0&&g+x<1};t.exports=i},function(t,e,i){var n=i(0),r=new n({initialize:function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),this.x=t,this.y=e,this._radius=i,this._diameter=2*i},setTo:function(t,e,i){return this.x=t,this.y=e,this._radius=i,this._diameter=2*i,this},setEmpty:function(){return this.setTo(0,0,0)},setPosition:function(t,e){return void 0===e&&(e=t),this.x=t,this.y=e,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(t){this._radius=t,this._diameter=2*t}},diameter:{get:function(){return this._diameter},set:function(t){this._diameter=t,this._radius=.5*t}},left:{get:function(){return this.x-this._radius},set:function(t){this.x=t+this._radius}},right:{get:function(){return this.x+this._radius},set:function(t){this.x=t-this._radius}},top:{get:function(){return this.y-this._radius},set:function(t){this.y=t+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(t){this.y=t-this._radius}}});t.exports=r},function(t,e){var i=function(t,e,i){return t<e?e:i<t?i:t};t.exports=i},function(t,e){var i=function(t,e,i){var n=i-e;return e+((t-e)%n+n)%n};t.exports=i},function(t,e){var i=function(t,e,i,n){var r=t-i,s=e-n;return Math.sqrt(r*r+s*s)};t.exports=i},function(t,e,i){var n=i(155),r=i(157),s=i(158),a=function(t){return"string"==typeof t?"rgb"===t.substr(0,3).toLowerCase()?n(t):r(t):"number"==typeof t?s(t):void 0};t.exports=a},function(t,e,i){var n=i(44),r={arora:!1,chrome:!1,chromeVersion:0,epiphany:!1,firefox:!1,firefoxVersion:0,mobileSafari:!1,ie:!1,ieVersion:0,midori:!1,opera:!1,safari:!1,safariVersion:0,trident:!1,tridentVersion:0,edge:!1,silk:!1};t.exports=function(){var t=navigator.userAgent;return/Arora/.test(t)?r.arora=!0:/Edge\/\d+/.test(t)?r.edge=!0:/Chrome\/(\d+)/.test(t)&&!n.windowsPhone?(r.chrome=!0,r.chromeVersion=parseInt(RegExp.$1,10)):/Epiphany/.test(t)?r.epiphany=!0:/Firefox\D+(\d+)/.test(t)?(r.firefox=!0,r.firefoxVersion=parseInt(RegExp.$1,10)):/AppleWebKit/.test(t)&&n.iOS?r.mobileSafari=!0:/MSIE (\d+\.\d+);/.test(t)?(r.ie=!0,r.ieVersion=parseInt(RegExp.$1,10)):/Midori/.test(t)?r.midori=!0:/Opera/.test(t)?r.opera=!0:/Safari/.test(t)&&!n.windowsPhone?r.safari=!0:/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(t)&&(r.ie=!0,r.trident=!0,r.tridentVersion=parseInt(RegExp.$1,10),r.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(t)&&(r.silk=!0),r}()},function(t,e,i){t.exports={CONNECTED:i(469),DISCONNECTED:i(470),DOWN:i(471),UP:i(472)}},function(t,e,i){var n=i(0),r=new n({initialize:function(t){if(this.entries=[],Array.isArray(t))for(var e=0;e<t.length;e++)this.set(t[e])},set:function(t){return-1===this.entries.indexOf(t)&&this.entries.push(t),this},get:function(t,e){for(var i=0;i<this.entries.length;i++){var n=this.entries[i];if(n[t]===e)return n}},getArray:function(){return this.entries.slice(0)},delete:function(t){var e=this.entries.indexOf(t);return e>-1&&this.entries.splice(e,1),this},dump:function(){console.group("Set");for(var t=0;t<this.entries.length;t++){var e=this.entries[t];console.log(e)}console.groupEnd()},each:function(t){for(var e=this.entries.slice(),i=0;i<e.length&&!1!==t(e[i]);i++);return this},iterate:function(t){for(var e=0;e<this.entries.length&&!1!==t(this.entries[e],e);e++);return this},clear:function(){return this.entries.length=0,this},contains:function(t){return this.entries.indexOf(t)>-1},union:function(t){var e=new r;return t.values.forEach(function(t){e.add(t)}),this.entries.forEach(function(t){e.add(t)}),e},intersect:function(t){var e=new r;return this.entries.forEach(function(i){t.contains(i)&&e.add(i)}),e},difference:function(t){var e=new r;return this.entries.forEach(function(i){t.contains(i)||e.add(i)}),e},size:{get:function(){return this.entries.length},set:function(t){return this.entries.length=t}}});t.exports=r},function(t,e,i){var n=i(0),r=i(6),s=i(3),a=i(555),o=new n({Extends:r,Mixins:[s.Alpha,s.BlendMode,s.Flip,s.GetBounds,s.Origin,s.RenderTarget,s.ScaleMode,s.ScrollFactor,s.Size,s.Texture,s.Tint,s.Transform,s.Visible,a],initialize:function(t,e,i,n,s){r.call(this,t,"Image"),this.setTexture(n,s),this.setPosition(e,i),this.setSizeToFrame(),this.setOrigin()}});t.exports=o},function(t,e,i){var n=i(0),r=i(6),s=i(3),a=i(559),o=new n({Extends:r,Mixins:[s.Alpha,s.BlendMode,s.Flip,s.GetBounds,s.Origin,s.RenderTarget,s.ScaleMode,s.Size,s.Texture,s.Transform,s.Visible,s.ScrollFactor,a],initialize:function(t,e,i,n,s,a,o,h,u,c){if(r.call(this,t,"Mesh"),this.setTexture(u,c),this.setPosition(e,i),this.setSizeToFrame(),this.setOrigin(),n.length!==s.length)throw new Error("Phaser: Vertex count must match UV count");var l=n.length/2|0;if(o.length>0&&o.length<l)throw new Error("Phaser: Color count must match Vertex count");if(h.length>0&&h.length<l)throw new Error("Phaser: Alpha count must match Vertex count");var f;if(0===o.length)for(f=0;f<l;++f)o[f]=16777215;if(0===h.length)for(f=0;f<l;++f)h[f]=1;this.vertices=new Float32Array(n),this.uv=new Float32Array(s),this.indices=new Uint16Array(a),this.colors=new Uint32Array(o),this.alphas=new Float32Array(h)}});t.exports=o},function(t,e){var i=function(t,e,i){if(t.width<=0||t.height<=0)return!1;var n=(e-t.x)/t.width-.5,r=(i-t.y)/t.height-.5;return n*=n,r*=r,n+r<.25};t.exports=i},function(t,e){var i=function(t){var e={};for(var i in t)Array.isArray(t[i])?e[i]=t[i].slice(0):e[i]=t[i];return e};t.exports=i},function(t,e){t.exports={NEVER:0,LITE:1,PASSIVE:2,ACTIVE:4,FIXED:8}},function(t,e){t.exports={NONE:0,A:1,B:2,BOTH:3}},function(t,e){var i=function(t,e){return t.index<e.index?-1:t.index>e.index?1:0};t.exports=i},function(t,e){var i=function(t,e,i){void 0===i&&(i={x:0,y:0});var n=t.x1,r=t.y1,s=t.x2,a=t.y2,o=e.x1,h=e.y1,u=e.x2,c=e.y2,l=(u-o)*(r-h)-(c-h)*(n-o),f=(s-n)*(r-h)-(a-r)*(n-o),d=(c-h)*(s-n)-(u-o)*(a-r);if(0===d)return!1;var p=l/d,v=f/d;return p>=0&&p<=1&&v>=0&&v<=1&&(i.x=n+p*(s-n),i.y=r+p*(a-r),!0)};t.exports=i},function(t,e,i){var n=i(104),r=function(){var t,e,i,s,a,o,h=arguments[0]||{},u=1,c=arguments.length,l=!1;for("boolean"==typeof h&&(l=h,h=arguments[1]||{},u=2),c===u&&(h=this,--u);u<c;u++)if(null!=(t=arguments[u]))for(e in t)i=h[e],s=t[e],h!==s&&(l&&s&&(n(s)||(a=Array.isArray(s)))?(a?(a=!1,o=i&&Array.isArray(i)?i:[]):o=i&&n(i)?i:{},h[e]=r(l,o,s)):void 0!==s&&(h[e]=s));return h};t.exports=r},function(t,e,i){var n=i(31),r=i(48),s=i(36),a=i(0),o=i(3),h=i(6),u=i(14),c=i(27),l=new a({Extends:h,Mixins:[o.GetBounds,o.Origin,o.ScaleMode,o.Size,o.Transform,o.ScrollFactor,o.Visible],initialize:function(t,e,i,r,s){void 0===r&&(r=1),void 0===s&&(s=r),h.call(this,t,"Zone"),this.setPosition(e,i),this.setSize(r,s),this.blendMode=n.NORMAL},setCircleDropZone:function(t){return this.setDropZone(new r(0,0,t),s)},setRectangleDropZone:function(t,e){var i=-t/2,n=-e/2;return this.setDropZone(new u(i,n,t,e),c)},setDropZone:function(t,e){return void 0===t?this.setRectangleDropZone(this.width,this.height):(this.input||this.setInteractive(t,e),this.input.dropZone=!0),this},renderCanvas:function(){},renderWebGL:function(){}});t.exports=l},function(t,e){var i=function(t,e,i){void 0===e&&(e=1),void 0===i&&(i=[]);var n=Math.round(t.x1),r=Math.round(t.y1),s=Math.round(t.x2),a=Math.round(t.y2),o=Math.abs(s-n),h=Math.abs(a-r),u=n<s?1:-1,c=r<a?1:-1,l=o-h;i.push([n,r]);for(var f=1;n!==s||r!==a;){var d=l<<1;d>-h&&(l-=h,n+=u),d<o&&(l+=o,r+=c),f%e==0&&i.push([n,r]),f++}return i};t.exports=i},function(t,e){var i=function(t,e,i,n,r){var s=n+Math.atan2(t.y-i,t.x-e);return t.x=e+r*Math.cos(s),t.y=i+r*Math.sin(s),t};t.exports=i},function(t,e){var i="";t.exports=function(){var t=function(t){for(var e=["i","webkitI","msI","mozI","oI"],i=0;i<e.length;i++){var n=e[i]+"mageSmoothingEnabled";if(n in t)return n}return null},e=function(e){return""===i&&(i=t(e)),i&&(e[i]=!0),e};return{disable:function(e){return""===i&&(i=t(e)),i&&(e[i]=!1),e},enable:e,getPrefix:t,isEnabled:function(t){return null!==i?t[i]:null}}}()},function(t,e){var i={setCrisp:function(t){return["optimizeSpeed","crisp-edges","-moz-crisp-edges","-webkit-optimize-contrast","optimize-contrast","pixelated"].forEach(function(e){t.style["image-rendering"]=e}),t.style.msInterpolationMode="nearest-neighbor",t},setBicubic:function(t){return t.style["image-rendering"]="auto",t.style.msInterpolationMode="bicubic",t}};t.exports=i},function(t,e,i){var n=i(340);t.exports={PI2:2*Math.PI,TAU:.5*Math.PI,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,Angle:i(341),Distance:i(349),Easing:i(352),Fuzzy:i(353),Interpolation:i(359),Pow2:i(362),Snap:i(364),RND:new n,Average:i(368),Bernstein:i(148),Between:i(72),CatmullRom:i(150),CeilTo:i(369),Clamp:i(49),DegToRad:i(370),Difference:i(371),Factorial:i(149),FloatBetween:i(372),FloorTo:i(373),GetSpeed:i(374),IsEven:i(375),IsEvenStrict:i(376),Linear:i(152),MaxAdd:i(377),MinSub:i(378),Percent:i(379),RadToDeg:i(380),Rotate:i(381),RotateAround:i(382),RotateAroundDistance:i(67),RoundAwayFromZero:i(154),RoundTo:i(383),SinCosTableGenerator:i(384),SmootherStep:i(128),SmoothStep:i(129),Within:i(385),Wrap:i(50)}},function(t,e){var i=function(t,e){return t>0&&0==(t&t-1)&&e>0&&0==(e&e-1)};t.exports=i},function(t,e){var i=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)};t.exports=i},function(t,e){var i=function(t,e,i){return t<<16|e<<8|i};t.exports=i},function(t,e,i){var n=i(0),r=null,s=new n({initialize:function(t,e){this.gl=t,this.bufferTarget=t.ARRAY_BUFFER,this.bufferObject=e,this.attributes=[]},addAttribute:function(t,e,i,n,r,s){return this.attributes.push({index:t,size:e,type:i,normalized:n,stride:r,offset:s}),this},updateResource:function(t,e){var i=this.gl;return r!==this&&(r=this,i.bindBuffer(i.ARRAY_BUFFER,this.bufferObject)),i.bufferSubData(i.ARRAY_BUFFER,e,t),this},bind:function(){var t=this.gl,e=this.bufferObject,i=this.attributes,n=i.length;if(r!==this){r=this,t.bindBuffer(t.ARRAY_BUFFER,e);for(var s=0;s<n;++s){var a=i[s];void 0!==a&&null!==a&&(t.enableVertexAttribArray(a.index),t.vertexAttribPointer(a.index,a.size,a.type,a.normalized,a.stride,a.offset))}}return this}});s.SetDirty=function(){r=null},t.exports=s},function(t,e,i){var n=i(0),r=(i(1),i(29)),s=new n({initialize:function(t,e){this.parent=t,this.events=e||new r,this.list={},this._beforeCallbacks={},this._afterCallbacks={},this._frozen=!1},get:function(t){return this.list[t]},getAll:function(){var t={};for(var e in this.list)t[e]=this.list[e];return t},query:function(t){var e={};for(var i in this.list)i.match(t)&&(e[i]=this.list[i]);return e},set:function(t,e){if(this._frozen)return this;var i,n;return this._beforeCallbacks.hasOwnProperty(t)&&(i=this._beforeCallbacks[t],void 0!==(n=i.callback.call(i.scope,this.parent,t,e))&&(e=n)),this.list[t]=e,this._afterCallbacks.hasOwnProperty(t)&&(i=this._afterCallbacks[t],void 0!==(n=i.callback.call(i.scope,this.parent,t,e))&&(this.list[t]=n)),this},before:function(t,e,i){void 0===e?delete this._beforeCallbacks[t]:this._beforeCallbacks[t]={callback:e,scope:i}},after:function(t,e,i){void 0===e?delete this._afterCallbacks[t]:this._afterCallbacks[t]={callback:e,scope:i}},each:function(t,e){for(var i=[this.parent,null,void 0],n=1;n<arguments.length;n++)i.push(arguments[n]);for(var r in this.list)i[1]=r,i[2]=this.list[r],t.apply(e,i)},merge:function(t,e){void 0===e&&(e=!0);for(var i in t)(e||!e&&!this.has(i))&&(this.list[i]=t)},remove:function(t){!this._frozen&&this.has(t)&&(delete this.list[t],this.removeListeners(t))},removeListeners:function(t){this._beforeCallbacks.hasOwnProperty(t)&&delete this._beforeCallbacks[t],this._afterCallbacks.hasOwnProperty(t)&&delete this._afterCallbacks[t]},pop:function(t){var e=void 0;return!this._frozen&&this.has(t)&&(e=this.list[t],delete this.list[t],this.removeListeners(t)),e},has:function(t){return this.list.hasOwnProperty(t)},reset:function(){for(var t in this.list)delete this.list[t];for(t in this._beforeCallbacks)delete this._beforeCallbacks[t];for(t in this._afterCallbacks)delete this._afterCallbacks[t];this._frozen=!1},destroy:function(){this.reset(),this.parent=null,this.events=null},freeze:{get:function(){return this._frozen},set:function(t){this._frozen=!!t}},count:{get:function(){var t=0;for(var e in this.list)void 0!==this.list[e]&&t++;return t}}});t.exports=s},function(t,e){var i=function(t,e,i,n,r){return void 0===r&&(r={x:0,y:0}),t.applyITRS(e.x,e.y,-e.rotation,e.scaleX,e.scaleY),t.invert(),t.transformPoint(i,n,r)};t.exports=i},function(t,e){t.exports={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWAD_SLASH:191,BACK_SLASH:220,QUOTES:222}},function(t,e,i){var n=i(529),r=i(532),s=i(0),a=i(3),o=i(182),h=i(6),u=new s({Extends:h,Mixins:[a.Alpha,a.BlendMode,a.RenderTarget,a.ScaleMode,a.Size,a.Texture,a.Transform,a.Visible,a.ScrollFactor,n],initialize:function(t,e,i,n,r){h.call(this,t,"Blitter"),this.setTexture(n,r),this.setPosition(e,i),this.children=new o(this),this.renderList=[],this.dirty=!1},create:function(t,e,i,n,s){void 0===n&&(n=!0),void 0===s&&(s=this.children.length),i=void 0===i?this.frame:this.texture.get(i);var a=new r(t,e,i,n);return this.children.addAt(a,s,!1),this.dirty=!0,a},createFromCallback:function(t,e,i,n){for(var r=this.createMultiple(e,i,n),s=0;s<r.length;s++){var a=r[s];t.call(this,a,s)}return r},createMultiple:function(t,e,i){void 0===e&&(e=this.frame),void 0===i&&(i=!0),Array.isArray(e)||(e=[e]);var n=[],r=this;return e.forEach(function(e){for(var s=0;s<t;s++)n.push(r.create(0,0,e,i))}),n},childCanRender:function(t){return t.visible&&t.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0}});t.exports=u},function(t,e,i){var n=i(0),r=i(6),s=i(3),a=i(534),o=i(183),h=new n({Extends:r,Mixins:[s.Alpha,s.BlendMode,s.Origin,s.RenderTarget,s.Texture,s.Tint,s.Transform,s.Visible,s.ScrollFactor,a],initialize:function(t,e,i,n,s,a){void 0===s&&(s=""),r.call(this,t,"DynamicBitmapText"),this.font=n;var o=this.scene.sys.cache.bitmapFont.get(n);this.fontData=o.data,this.text=Array.isArray(s)?s.join("\n"):s,this.fontSize=a||this.fontData.size,this.setTexture(o.texture,o.frame),this.setPosition(e,i),this.setOrigin(0,0),this._bounds=this.getTextBounds(),this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback},setSize:function(t,e){return this.cropWidth=t,this.cropHeight=e,this},setDisplayCallback:function(t){return this.displayCallback=t,this},setFontSize:function(t){return this.fontSize=t,this},setText:function(t){return this.text=t,this},setScrollX:function(t){return this.scrollX=t,this},setScrollY:function(t){return this.scrollY=t,this},getTextBounds:function(t){return this._bounds=o(this,t),this._bounds},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},toJSON:function(){var t=s.ToJSON(this),e={font:this.font,text:this.text,fontSize:this.fontSize};return t.data=e,t}});t.exports=h},function(t,e,i){var n=i(0),r=i(6),s=i(3),a=i(538),o=i(541),h=new n({Extends:r,Mixins:[s.Alpha,s.BlendMode,s.Flip,s.GetBounds,s.Origin,s.RenderTarget,s.ScaleMode,s.Size,s.Texture,s.Transform,s.Visible,s.ScrollFactor,a],initialize:function(t,e,i,n,s,a,o,h,u,c,l){r.call(this,t,"Tilemap"),this.mapData=null!==e?new Uint32Array(e):new Uint32Array(o*h),this.tileWidth=s,this.tileHeight=a,this.mapWidth=o,this.mapHeight=h,this.tileArray=[],this.culledTiles=[],this.tileBorder=u,this.setTexture(c,l),this.setPosition(i,n),this.setSizeToFrame(),this.setOrigin(),this.setSize(s*o,a*h),this.buildTilemap(!!t.sys.game.renderer.gl)},getTotalTileCount:function(){return this.tileArray.length},getVisibleTileCount:function(t){return this.cull(t).length},buildTilemap:function(t){var e=this.tileArray,i=this.mapData,n=this.tileBorder,r=this.tileWidth,s=this.tileHeight,a=r+2*n,h=s+2*n,u=this.texture.source[0].width,c=this.texture.source[0].height,l=this.mapWidth,f=this.mapHeight,d=u/r,p=.5*a,v=.5*h;t||(p=0,v=0),e.length=0;for(var g=0;g<f;++g)for(var x=0;x<l;++x){var m=i[g*l+x],y=(m%d|0)*a+p,E=(m/d|0)*h+v,T=x*r,w=g*s;e.push(new o({index:x+g,id:m,x:T,y:w,width:r,height:s,frameX:y,frameY:E,frameWidth:r,frameHeight:s,textureWidth:u,textureHeight:c,border:n,center:t}))}},cull:function(t){var e=this.culledTiles,i=this.tileArray,n=i.length,r=t.scrollX*this.scrollFactorX,s=t.scrollY*this.scrollFactorY,a=t.width,o=t.height;e.length=0;for(var h=0;h<n;++h){var u=i[h],c=u.x-r,l=u.y-s,f=u.width,d=u.height,p=a+f,v=o+d;u.visible&&c>-f&&l>-d&&c<p&&l<v&&e.push(u)}return e},forEach:function(t){this.tileArray.forEach(t)},getTileAt:function(t,e){var i=0|t,n=0|e,r=this.tileArray,s=n*this.mapWidth+i;return s<r.length?r[s]:null},getTileAtIndex:function(t){var e=this.tileArray;return t<e.length?e[t]:null}});t.exports=h},function(t,e,i){var n=i(0),r=i(6),s=i(3),a=i(543),o=i(38),h=new n({Extends:r,Mixins:[s.Alpha,s.BlendMode,s.Flip,s.GetBounds,s.Origin,s.RenderTarget,s.ScaleMode,s.Size,s.Transform,s.Visible,s.ScrollFactor,a],initialize:function(t,e,i,n,s,a,h){r.call(this,t,"EffectLayer");var u,c,l=0==(n&n-1)&&0==(s&s-1),f=t.sys.game.renderer.resourceManager;this.dstRenderTarget=null,this.renderTexture=null,this.dstShader=null,this.uniforms={},void 0!==f&&(c=t.sys.game.renderer.gl,u=l?c.REPEAT:c.CLAMP_TO_EDGE,this.dstShader=f.createShader(a,{vert:o.vert,frag:h}),this.renderTexture=f.createTexture(0,c.LINEAR,c.LINEAR,u,u,c.RGBA,null,n,s),this.dstRenderTarget=f.createRenderTarget(n,s,this.renderTexture,null),t.sys.game.renderer.currentTexture[0]=null),this.flipY=!0,this.setPosition(e,i),this.setSize(n,s),this.setOrigin(0,0)},setClearAlpha:function(t){this.dstRenderTarget&&(this.dstRenderTarget.clearAlpha=t)},renderOffScreen:function(){this.renderTarget=this.dstRenderTarget},renderOnScreen:function(){this.renderTarget=null},add:function(t){void 0!==t.renderTarget&&(t.renderTarget=this.dstRenderTarget)},remove:function(t){void 0!==t.renderTarget&&(t.renderTarget=null)},getUniformLocation:function(t){var e,i=this.dstShader,n=this.uniforms;return t in n?e=n[t]:(e=i.getUniformLocation(t),n[t]=e),e},setFloat:function(t,e){var i=this.dstShader;null!==i&&i.setConstantFloat1(this.getUniformLocation(t),e)},setFloat2:function(t,e,i){var n=this.dstShader;null!==n&&n.setConstantFloat2(this.getUniformLocation(t),e,i)},setFloat3:function(t,e,i,n){var r=this.dstShader;null!==r&&r.setConstantFloat3(this.getUniformLocation(t),e,i,n)},setFloat4:function(t,e,i,n,r){var s=this.dstShader;null!==s&&s.setConstantFloat4(this.getUniformLocation(t),e,i,n,r)},setInt:function(t,e){var i=this.dstShader;null!==i&&i.setConstantInt1(this.getUniformLocation(t),e)},setInt2:function(t,e,i){var n=this.dstShader;null!==n&&n.setConstantInt2(this.getUniformLocation(t),e,i)},setInt3:function(t,e,i,n){var r=this.dstShader;null!==r&&r.setConstantInt3(this.getUniformLocation(t),e,i,n)},setInt4:function(t,e,i,n,r){var s=this.dstShader;null!==s&&s.setConstantInt4(this.getUniformLocation(t),e,i,n,r)},setMatrix2x2:function(t,e){var i=this.dstShader;null!==i&&i.setConstantMatrix2x2(this.getUniformLocation(t),e)},setMatrix3x3:function(t,e){var i=this.dstShader;null!==i&&i.setConstantMatrix3x3(this.getUniformLocation(t),e)},setMatrix4x4:function(t,e){var i=this.dstShader;null!==i&&i.setConstantMatrix4x4(this.getUniformLocation(t),e)}});t.exports=h},function(t,e,i){var n=i(0),r=i(6),s=i(3),a=i(547),o=i(83),h=i(11),u=i(2),c=(i(12),i(181)),l=new n({Extends:r,Mixins:[s.Alpha,s.BlendMode,s.Transform,s.RenderTarget,s.Visible,s.ScrollFactor,a],initialize:function(t,e){var i=u(e,"x",0),n=u(e,"y",0);r.call(this,t,"Graphics"),this.setPosition(i,n),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this.setDefaultStyles(e);var s=t.sys.game.renderer.resourceManager;void 0!==s&&(this.resourceManager=s,this.gl=t.sys.game.renderer.gl)},setDefaultStyles:function(t){return u(t,"lineStyle",null)&&(this.defaultStrokeWidth=u(t,"lineStyle.width",1),this.defaultStrokeColor=u(t,"lineStyle.color",16777215),this.defaultStrokeAlpha=u(t,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),u(t,"fillStyle",null)&&(this.defaultFillColor=u(t,"fillStyle.color",16777215),this.defaultFillAlpha=u(t,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(t,e,i){return void 0===i&&(i=1),this.commandBuffer.push(o.LINE_STYLE,t,e,i),this},fillStyle:function(t,e){return void 0===e&&(e=1),this.commandBuffer.push(o.FILL_STYLE,t,e),this},beginPath:function(){return this.commandBuffer.push(o.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(o.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(o.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(o.STROKE_PATH),this},fillCircleShape:function(t){return this.fillCircle(t.x,t.y,t.radius)},strokeCircleShape:function(t){return this.strokeCircle(t.x,t.y,t.radius)},fillCircle:function(t,e,i){return this.beginPath(),this.arc(t,e,i,0,h.PI2),this.fillPath(),this.closePath(),this},strokeCircle:function(t,e,i){return this.beginPath(),this.arc(t,e,i,0,h.PI2),this.closePath(),this.strokePath(),this},fillRectShape:function(t){return this.fillRect(t.x,t.y,t.width,t.height)},strokeRectShape:function(t){return this.strokeRect(t.x,t.y,t.width,t.height)},fillRect:function(t,e,i,n){return this.commandBuffer.push(o.FILL_RECT,t,e,i,n),this},strokeRect:function(t,e,i,n){return this.beginPath(),this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+n),this.lineTo(t,e+n),this.lineTo(t,e),this.strokePath(),this.closePath(),this},fillPointShape:function(t,e){return this.fillPoint(t.x,t.y,e)},fillPoint:function(t,e,i){return this.commandBuffer.push(o.FILL_RECT,t,e,i,i),this},fillTriangleShape:function(t){return this.fillTriangle(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)},strokeTriangleShape:function(t){return this.strokeTriangle(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)},fillTriangle:function(t,e,i,n,r,s){return this.commandBuffer.push(o.FILL_TRIANGLE,t,e,i,n,r,s),this},strokeTriangle:function(t,e,i,n,r,s){return this.commandBuffer.push(o.STROKE_TRIANGLE,t,e,i,n,r,s),this},strokeLineShape:function(t){return this.lineBetween(t.x1,t.y1,t.x2,t.y2)},lineBetween:function(t,e,i,n){return this.beginPath(),this.moveTo(t,e),this.lineTo(i,n),this.strokePath(),this.closePath(),this},lineTo:function(t,e){return this.commandBuffer.push(o.LINE_TO,t,e),this},moveTo:function(t,e){return this.commandBuffer.push(o.MOVE_TO,t,e),this},lineFxTo:function(t,e,i,n){return this.commandBuffer.push(o.LINE_FX_TO,t,e,i,n,1),this},moveFxTo:function(t,e,i,n){return this.commandBuffer.push(o.MOVE_FX_TO,t,e,i,n,1),this},arc:function(t,e,i,n,r,s){return this.commandBuffer.push(o.ARC,t,e,i,n,r,s),this},save:function(){return this.commandBuffer.push(o.SAVE),this},restore:function(){return this.commandBuffer.push(o.RESTORE),this},translate:function(t,e){return this.commandBuffer.push(o.TRANSLATE,t,e),this},scale:function(t,e){return this.commandBuffer.push(o.SCALE,t,e),this},rotate:function(t){return this.commandBuffer.push(o.ROTATE,t),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(t,e,i){void 0===e&&(e=this.scene.sys.game.config.width),void 0===i&&(i=this.scene.sys.game.config.height),l.TargetCamera.setViewport(0,0,e,i),l.TargetCamera.scrollX=this.x,l.TargetCamera.scrollY=this.y;var n=this.scene.sys.game.textures.createCanvas(t,e,i),r=n.source[0].image.getContext("2d");n.add("__BASE",0,0,0,e,i),this.renderCanvas(this.scene.sys.game.renderer,this,0,l.TargetCamera,r),this.gl&&this.scene.sys.game.renderer.uploadCanvasToGPU(r.canvas,n.source[0].glTexture,!0)}});l.TargetCamera=new c(0,0,0,0),t.exports=l},function(t,e){t.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,LINE_FX_TO:12,MOVE_FX_TO:13,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18}},function(t,e,i){var n=i(0),r=i(55),s=i(2),a=i(184),o=i(105),h=i(39),u=new n({initialize:function(t,e,i){this.scene=t,this.children=new r(e),this.classType=h,i&&this.createMultiple(i)},update:function(t,e){for(var i=this.children.entries.slice(),n=0;n<i.length&&!1!==i[n].update(t,e);n++);},add:function(t){return this.children.set(t),this},addMultiple:function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this.children.set(t[e]);return this},create:function(t,e,i,n,r){void 0===r&&(r=!0);var s=new this.classType(this.scene,t,e,i,n);return this.scene.sys.displayList.add(s),s.preUpdate&&this.scene.sys.updateList.add(s),s.visible=r,this.children.set(s),s},createFromConfig:function(t){this.classType=s(t,"classType",this.classType);var e=s(t,"key",void 0),i=s(t,"frame",null),n=s(t,"visible",!0),r=[];if(void 0===e)return r;Array.isArray(e)||(e=[e]),Array.isArray(i)||(i=[i]);for(var h=s(t,"repeat",0),u=s(t,"randomKey",!1),c=s(t,"randomFrame",!1),l=s(t,"yoyo",!1),f=s(t,"frameQuantity",1),d=s(t,"max",0),p=a(e,i,{max:d,qty:f,random:u,randomB:c,repeat:h,yoyo:l}),v=0;v<p.length;v++)r.push(this.create(0,0,p[v].a,p[v].b,n));var g=s(t,"setXY.x",0),x=s(t,"setXY.y",0),m=s(t,"setXY.stepX",0),y=s(t,"setXY.stepY",0);o.SetXY(r,g,x,m,y);var E=s(t,"setRotation.value",0),T=s(t,"setRotation.step",0);o.SetRotation(r,E,T);var w=s(t,"setScale.x",1),b=s(t,"setScale.y",w),_=s(t,"setScale.stepX",0),A=s(t,"setScale.stepY",0);o.SetScale(r,w,b,_,A);var S=s(t,"setAlpha.value",1),R=s(t,"setAlpha.step",0);o.SetAlpha(r,S,R);var O=s(t,"hitArea",null),C=s(t,"hitAreaCallback",null);O&&o.SetHitArea(r,O,C);var M=s(t,"gridAlign",!1);return M&&o.GridAlign(r,M),r},createMultiple:function(t){Array.isArray(t)||(t=[t]);for(var e=[],i=0;i<t.length;i++){var n=this.createFromConfig(t[i]);e=e.concat(n)}return e},remove:function(t){return this.children.delete(t),this},clear:function(){return this.children.clear(),this},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getFirst:function(t,e){return void 0===e&&(e=0),o.GetFirst(this.children.entries,t,e)},destroy:function(){this.children.clear(),this.scene=void 0,this.children=void 0},angle:function(t){return o.Angle(this.children.entries,t),this},gridAlign:function(t){return o.GridAlign(this.children.entries,t),this},incAlpha:function(t,e){return o.IncAlpha(this.children.entries,t,e),this},incX:function(t){return o.IncX(this.children.entries,t),this},incXY:function(t,e){return o.IncXY(this.children.entries,t,e),this},incY:function(t){return o.IncY(this.children.entries,t),this},placeOnCircle:function(t,e,i){return o.PlaceOnCircle(this.children.entries,t,e,i),this},placeOnEllipse:function(t,e,i){return o.PlaceOnEllipse(this.children.entries,t,e,i),this},placeOnLine:function(t){return o.PlaceOnLine(this.children.entries,t),this},placeOnRectangle:function(t,e){return o.PlaceOnRectangle(this.children.entries,t,e),this},placeOnTriangle:function(t,e){return o.PlaceOnTriangle(this.children.entries,t,e),this},playAnimation:function(t,e){return o.PlayAnimation(this.children.entries,t,e),this},randomCircle:function(t){return o.RandomCircle(this.children.entries,t),this},randomEllipse:function(t){return o.RandomEllipse(this.children.entries,t),this},randomLine:function(t){return o.RandomLine(this.children.entries,t),this},randomRectangle:function(t){return o.RandomRectangle(this.children.entries,t),this},randomTriangle:function(t){return o.RandomTriangle(this.children.entries,t),this},rotate:function(t,e){return o.Rotate(this.children.entries,t,e),this},rotateAround:function(t,e){return o.RotateAround(this.children.entries,t,e),this},rotateAroundDistance:function(t,e,i){return o.RotateAroundDistance(this.children.entries,t,e,i),this},setAlpha:function(t,e){return o.SetAlpha(this.children.entries,t,e),this},setOrigin:function(t,e){return o.SetOrigin(this.children.entries,t,e),this},scaleX:function(t){return o.ScaleX(this.children.entries,t),this},scaleXY:function(t,e){return o.ScaleXY(this.children.entries,t,e),this},scaleY:function(t){return o.ScaleY(this.children.entries,t),this},setRotation:function(t,e){return o.SetRotation(this.children.entries,t,e),this},setScale:function(t,e,i,n){return o.SetScale(this.children.entries,t,e,i,n),this},setScaleX:function(t,e){return o.SetScaleX(this.children.entries,t,e),this},setScaleY:function(t,e){return o.SetScaleY(this.children.entries,t,e),this},setVisible:function(t){return o.SetVisible(this.children.entries,t),this},setX:function(t,e){return o.SetX(this.children.entries,t,e),this},setXY:function(t,e,i,n){return o.SetXY(this.children.entries,t,e,i,n),this},setY:function(t,e){return o.SetY(this.children.entries,t,e),this},setZ:function(t,e){return o.SetZ(this.children.entries,t,e),this},shiftPosition:function(t,e,i,n){return o.ShiftPosition(this.children.entries,t,e,i,n),this},smootherStep:function(t,e,i,n){return o.SmootherStep(this.children.entries,t,e,i,n),this},smoothStep:function(t,e,i,n){return o.SmoothStep(this.children.entries,t,e,i,n),this},spread:function(t,e,i,n){return o.Spread(this.children.entries,t,e,i,n),this},toggleVisible:function(){return o.ToggleVisible(this.children.entries),this}});t.exports=u},function(t,e,i){var n=i(0),r=i(57),s=new n({Extends:r,initialize:function(t,e,i,n,s){var a=[0,0,0,0,0,0,0,0],o=[0,0,0,1,1,1,1,0],h=[0,1,2,0,2,3],u=[16777215,16777215,16777215,16777215],c=[1,1,1,1];r.call(this,t,e,i,a,o,h,u,c,n,s),this.resetPosition()},topLeftX:{get:function(){return this.x+this.vertices[0]},set:function(t){this.vertices[0]=t-this.x}},topLeftY:{get:function(){return this.y+this.vertices[1]},set:function(t){this.vertices[1]=t-this.y}},topRightX:{get:function(){return this.x+this.vertices[6]},set:function(t){this.vertices[6]=t-this.x}},topRightY:{get:function(){return this.y+this.vertices[7]},set:function(t){this.vertices[7]=t-this.y}},bottomLeftX:{get:function(){return this.x+this.vertices[2]},set:function(t){this.vertices[2]=t-this.x}},bottomLeftY:{get:function(){return this.y+this.vertices[3]},set:function(t){this.vertices[3]=t-this.y}},bottomRightX:{get:function(){return this.x+this.vertices[4]},set:function(t){this.vertices[4]=t-this.x}},bottomRightY:{get:function(){return this.y+this.vertices[5]},set:function(t){this.vertices[5]=t-this.y}},topLeftAlpha:{get:function(){return this.alphas[0]},set:function(t){this.alphas[0]=t}},topRightAlpha:{get:function(){return this.alphas[3]},set:function(t){this.alphas[3]=t}},bottomLeftAlpha:{get:function(){return this.alphas[1]},set:function(t){this.alphas[1]=t}},bottomRightAlpha:{get:function(){return this.alphas[2]},set:function(t){this.alphas[2]=t}},topLeftColor:{get:function(){return this.colors[0]},set:function(t){this.colors[0]=t}},topRightColor:{get:function(){return this.colors[3]},set:function(t){this.colors[3]=t}},bottomLeftColor:{get:function(){return this.colors[1]},set:function(t){this.colors[1]=t}},bottomRightColor:{get:function(){return this.colors[2]},set:function(t){this.colors[2]=t}},setTopLeft:function(t,e){return this.topLeftX=t,this.topLeftY=e,this},setTopRight:function(t,e){return this.topRightX=t,this.topRightY=e,this},setBottomLeft:function(t,e){return this.bottomLeftX=t,this.bottomLeftY=e,this},setBottomRight:function(t,e){return this.bottomRightX=t,this.bottomRightY=e,this},resetPosition:function(){var t=this.x,e=this.y,i=Math.floor(this.width/2),n=Math.floor(this.height/2);return this.setTopLeft(t-i,e-n),this.setTopRight(t+i,e-n),this.setBottomLeft(t-i,e+n),this.setBottomRight(t+i,e+n),this},resetAlpha:function(){var t=this.alphas;return t[0]=1,t[1]=1,t[2]=1,t[3]=1,this},resetColors:function(){var t=this.colors;return t[0]=16777215,t[1]=16777215,t[2]=16777215,t[3]=16777215,this},reset:function(){this.resetPosition(),this.resetAlpha(),this.resetColors()}});t.exports=s},function(t,e,i){var n=i(0),r=i(6),s=i(3),a=i(564),o=i(38),h=new n({Extends:r,Mixins:[s.Alpha,s.BlendMode,s.Flip,s.GetBounds,s.Origin,s.RenderTarget,s.ScaleMode,s.ScrollFactor,s.Size,s.Tint,s.Transform,s.Visible,a],initialize:function(t,e,i,n,s,a,h){r.call(this,t,"RenderPass");var u,c,l=t.sys.game.renderer.resourceManager,f=0==(n&n-1)&&0==(s&s-1);this.renderer=t.sys.game.renderer,this.passRenderTarget=null,this.renderTexture=null,this.passShader=null,this.uniforms={},this.textures={},void 0!==l&&(u=t.sys.game.renderer.gl,c=f?u.REPEAT:u.CLAMP_TO_EDGE,this.passShader=l.createShader(a,{vert:o.vert,frag:h}),this.renderTexture=l.createTexture(0,u.LINEAR,u.LINEAR,c,c,u.RGBA,null,n,s),this.passRenderTarget=l.createRenderTarget(n,s,this.renderTexture,null),t.sys.game.renderer.currentTexture[0]=null),this.flipY=!0,this.setPosition(e,i),this.setSize(n,s),this.setOrigin(0,0)},clearColorBuffer:function(t,e,i,n){var r=this.renderer.gl;r&&(r.bindFramebuffer(r.FRAMEBUFFER,this.passRenderTarget.framebufferObject),r.clearColor(t,e,i,n),r.clear(r.COLOR_BUFFER_BIT),r.bindFramebuffer(r.FRAMEBUFFER,null))},clearDepthStencilBuffers:function(t,e){var i=this.renderer.gl;i&&(i.bindFramebuffer(i.FRAMEBUFFER,this.passRenderTarget.framebufferObject),i.clearDepth(t),i.clearStencil(e),i.clear(i.DEPTH_BUFFER_BIT|i.STENCIL_BUFFER_BIT),i.bindFramebuffer(i.FRAMEBUFFER,null))},clearAllBuffers:function(t,e,i,n,r,s){var a=this.renderer.gl;a&&(a.bindFramebuffer(a.FRAMEBUFFER,this.passRenderTarget.framebufferObject),a.clearColor(t,e,i,n),a.clearDepth(r),a.clearStencil(s),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT|a.STENCIL_BUFFER_BIT),a.bindFramebuffer(a.FRAMEBUFFER,null))},render:function(t,e){var i=this.renderer.gl;if(i){this.renderer.setRenderer(this.renderer.spriteBatch,null,null),this.renderer.spriteBatch.addSprite(t,e);for(var n in this.textures){var r=this.textures[n];this.setInt(n,r.unit),i.activeTexture(i.TEXTURE0+r.unit),i.bindTexture(i.TEXTURE_2D,r.texture),i.activeTexture(i.TEXTURE0)}this.renderer.spriteBatch.flush(this.passShader,this.passRenderTarget.framebufferObject)}},renderRect:function(t,e,i,n,r){var s=this.renderer.gl;if(s){this.renderer.setRenderer(this.renderer.spriteBatch,null,null),this.renderer.spriteBatch.addTileTextureRect(null,t,e,i,n,1,4294967295,this.scrollFactorX,this.scrollFactorY,i,n,0,0,i,n,r,null);for(var a in this.textures){var o=this.textures[a];this.setInt(a,o.unit),s.activeTexture(s.TEXTURE0+o.unit),s.bindTexture(s.TEXTURE_2D,o.texture),s.activeTexture(s.TEXTURE0)}this.renderer.spriteBatch.flush(this.passShader,this.passRenderTarget.framebufferObject)}},setRenderTextureAt:function(t,e,i){this.renderer.gl&&(i=i>0?i:1,this.textures[e]={texture:t.texture,unit:i})},getUniformLocation:function(t){var e,i=this.passShader,n=this.uniforms;return t in n?e=n[t]:(e=i.getUniformLocation(t),n[t]=e),e},setFloat:function(t,e){var i=this.passShader;null!==i&&i.setConstantFloat1(this.getUniformLocation(t),e)},setFloat2:function(t,e,i){var n=this.passShader;null!==n&&n.setConstantFloat2(this.getUniformLocation(t),e,i)},setFloat3:function(t,e,i,n){var r=this.passShader;null!==r&&r.setConstantFloat3(this.getUniformLocation(t),e,i,n)},setFloat4:function(t,e,i,n,r){var s=this.passShader;null!==s&&s.setConstantFloat4(this.getUniformLocation(t),e,i,n,r)},setInt:function(t,e){var i=this.passShader;null!==i&&i.setConstantInt1(this.getUniformLocation(t),e)},setInt2:function(t,e,i){var n=this.passShader;null!==n&&n.setConstantInt2(this.getUniformLocation(t),e,i)},setInt3:function(t,e,i,n){var r=this.passShader;null!==r&&r.setConstantInt3(this.getUniformLocation(t),e,i,n)},setInt4:function(t,e,i,n,r){var s=this.passShader;null!==s&&s.setConstantInt4(this.getUniformLocation(t),e,i,n,r)},setMatrix2x2:function(t,e){var i=this.passShader;null!==i&&i.setConstantMatrix2x2(this.getUniformLocation(t),e)},setMatrix3x3:function(t,e){var i=this.passShader;null!==i&&i.setConstantMatrix3x3(this.getUniformLocation(t),e)},setMatrix4x4:function(t,e){var i=this.passShader;null!==i&&i.setConstantMatrix4x4(this.getUniformLocation(t),e)}});t.exports=h},function(t,e,i){var n=i(0),r=i(3),s=i(6),a=i(183),o=i(570),h=i(571),u=i(572),c=new n({Extends:s,Mixins:[r.Alpha,r.BlendMode,r.Origin,r.RenderTarget,r.ScaleMode,r.Texture,r.Tint,r.Transform,r.Visible,r.ScrollFactor,u],initialize:function(t,e,i,n,r,a){void 0===r&&(r=""),s.call(this,t,"BitmapText"),this.font=n;var o=this.scene.sys.cache.bitmapFont.get(n);this.fontData=o.data,this.text=Array.isArray(r)?r.join("\n"):r,this.fontSize=a||this.fontData.size,this.setTexture(o.texture,o.frame),this.setPosition(e,i),this.setOrigin(0,0),this._bounds=this.getTextBounds()},setFontSize:function(t){return this.fontSize=t,this},setText:function(t){return this.text=t,this},getTextBounds:function(t){return this._bounds=a(this,t),this._bounds},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},toJSON:function(){var t=r.ToJSON(this),e={font:this.font,text:this.text,fontSize:this.fontSize};return t.data=e,t}});c.ParseRetroFont=h,c.ParseFromAtlas=o,t.exports=c},function(t,e,i){var n=i(0),r=i(6),s=i(3),a=i(576),o=i(169),h=new n({Extends:r,Mixins:[s.Alpha,s.BlendMode,s.Flip,s.GetBounds,s.Origin,s.RenderTarget,s.ScaleMode,s.Size,s.Texture,s.Transform,s.Visible,s.ScrollFactor,a],initialize:function(t,e,i,n,s,a,o,h,u,c,l){r.call(this,t,"StaticTilemap"),this.vbo=null,this.gl=t.sys.game.renderer.gl?t.sys.game.renderer.gl:null,this.tilemapRenderer=t.sys.game.renderer.tilemapRenderer?t.sys.game.renderer.tilemapRenderer:null,this.resourceManager=this.gl?t.sys.game.renderer.resourceManager:null,this.bufferData=null,this.mapData=e,this.tileWidth=s,this.tileHeight=a,this.mapWidth=o,this.mapHeight=h,this.dirty=!0,this.vertexCount=0,this.cullStart=0,this.cullEnd=0,this.tileBorder=u,this.setTexture(c,l),this.setPosition(i,n),this.setSizeToFrame(),this.setOrigin(),this.setSize(s*o,a*h)},upload:function(t){if(this.gl){if(this.dirty){var e,i=this.gl,n=this.vbo,r=this.mapWidth,s=this.mapHeight,a=this.tileBorder,h=this.tileWidth,u=this.tileHeight,c=h+2*a,l=u+2*a,f=this.bufferData,d=0,p=0,v=this.texture.source[0].width,g=this.texture.source[0].height,x=v/h,m=this.mapData;null===this.vbo&&(n=this.resourceManager.createBuffer(i.ARRAY_BUFFER,r*s*24*4,i.STATIC_DRAW),n.addAttribute(this.tilemapRenderer.shader.getAttribLocation("a_position"),2,i.FLOAT,!1,o.VERTEX_SIZE,0),n.addAttribute(this.tilemapRenderer.shader.getAttribLocation("a_tex_coord"),2,i.FLOAT,!1,o.VERTEX_SIZE,8),f=this.bufferData=new ArrayBuffer(r*s*24*4),this.vbo=n,n.bind()),e=new Float32Array(f);for(var y=0;y<s;++y)for(var E=0;E<r;++E){var T=m[y*r+E],w=.5*c,b=.5*l,_=(T%x|0)*c+w,A=(T/x|0)*l+b,S=E*h,R=y*u,O=S+h,C=R+u,M=(_-(w-.5))/v,L=(A-(b-.5))/g,F=(_+(w-.5))/v,D=(A+(b-.5))/g,I=S,B=R,P=S,k=C,N=O,X=C,U=O,Y=R;e[d+0]=I,e[d+1]=B,e[d+2]=M,e[d+3]=L,e[d+4]=P,e[d+5]=k,e[d+6]=M,e[d+7]=D,e[d+8]=N,e[d+9]=X,e[d+10]=F,e[d+11]=D,e[d+12]=I,e[d+13]=B,e[d+14]=M,e[d+15]=L,e[d+16]=N,e[d+17]=X,e[d+18]=F,e[d+19]=D,e[d+20]=U,e[d+21]=Y,e[d+22]=F,e[d+23]=L,d+=24,p+=6}this.vertexCount=p,n.updateResource(f,0),this.dirty=!1}this.tilemapRenderer.shader.setConstantFloat2(this.tilemapRenderer.scrollLocation,-t.scrollX,-t.scrollY),this.tilemapRenderer.shader.setConstantFloat2(this.tilemapRenderer.scrollFactorLocation,this.scrollFactorX,this.scrollFactorY),this.tilemapRenderer.shader.setConstantFloat2(this.tilemapRenderer.tilemapPositionLocation,this.x,this.y)}else if(this.dirty&&!this.gl){var r=this.mapWidth,s=this.mapHeight,a=this.tileBorder,h=this.tileWidth,u=this.tileHeight,c=h+2*a,l=u+2*a,v=this.texture.source[0].width,g=this.texture.source[0].height,x=v/h,m=this.mapData;this.tiles=[];for(var y=0;y<s;++y)for(var E=0;E<r;++E){var T=m[y*r+E],z=(T%x|0)*c,V=(T/x|0)*l,S=E*h,R=y*u;this.tiles.push({x:S,y:R,frameX:z,frameY:V})}this.dirty=!1}},getTotalTileCount:function(){return this.mapData.length},getVisibleTileCount:function(t){return this.cull(t),(this.cullEnd-this.cullStart)/6},cull:function(t){this.cullStart=0,this.cullEnd=0;var e=this.tileWidth,i=this.tileHeight,n=this.x-t.scrollX*this.scrollFactorX,r=this.y-t.scrollY*this.scrollFactorY,s=this.mapWidth*e,a=this.mapHeight*i;if(n<t.x+t.width+2*e&&n+s>t.x+-2*e&&r<t.y+t.height+2*i&&r+a>t.y+-2*i){var o=Math.max(n,t.x+-2*e),h=Math.max(r,t.y+-2*i),u=Math.min(n+s,t.x+t.width+2*e)-o,c=Math.min(r+a,t.y+t.height+2*i)-h;o=(o+t.scrollX*this.scrollFactorX)/e|0,h=(h+t.scrollY*this.scrollFactorY)/i|0,u=u/e|0,c=c/i|0,this.cullStart=6*(h*this.mapWidth+o),this.cullEnd=6*((h+c)*this.mapWidth+o)}}});t.exports=h},function(t,e,i){var n=i(0),r=i(6),s=i(3),a=i(12),o=i(580),h=i(583),u=i(585),c=new n({Extends:r,Mixins:[s.Alpha,s.BlendMode,s.Flip,s.GetBounds,s.Origin,s.RenderTarget,s.ScaleMode,s.ScrollFactor,s.Tint,s.Transform,s.Visible,o],initialize:function(t,e,i,n,s){void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=" "),r.call(this,t,"Text"),this.setPosition(e,i),this.setOrigin(0,0),this.canvas=a.create(this),this.context=this.canvas.getContext("2d"),this.style=new h(this,s),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this.text=Array.isArray(n)?n.join("\n"):n,this.resolution=1,this.padding={x:0,y:0},this.width=1,this.height=1,this.canvasTexture=null,this.dirty=!1,""!==n&&this.updateText()},setText:function(t){return Array.isArray(t)&&(t=t.join("\n")),t!==this.text&&(this.text=t.toString(),this.updateText()),this},setStyle:function(t){return this.style.setStyle(t)},setFont:function(t){return this.style.setFont(t)},setFixedSize:function(t,e){return this.style.setFixedSize(t,e)},setBackgroundColor:function(t){return this.style.setBackgroundColor(t)},setFill:function(t){return this.style.setFill(t)},setStroke:function(t,e){return this.style.setStroke(t,e)},setShadow:function(t,e,i,n,r,s){return this.style.setShadow(t,e,i,n,r,s)},setShadowOffset:function(t,e){return this.style.setShadowOffset(t,e)},setShadowColor:function(t){return this.style.setShadowColor(t)},setShadowBlur:function(t){return this.style.setShadowBlur(t)},setShadowStroke:function(t){return this.style.setShadowStroke(t)},setShadowFill:function(t){return this.style.setShadowFill(t)},setAlign:function(t){return this.style.setAlign(t)},setMaxLines:function(t){return this.style.setMaxLines(t)},updateText:function(){var t=this.canvas,e=this.context,i=this.style,n=i.metrics,r=this.text,s=r.split(this.splitRegExp),a=u(this,n,s);i.fixedWidth||(this.width=a.width),i.fixedHeight||(this.height=a.height),this.updateOrigin();var o=this.padding,h=(a.width+2*o.x)*this.resolution,c=(a.height+2*o.y)*this.resolution;t.width!==h||t.height!==c?(t.width=h,t.height=c):e.clearRect(0,0,h,c),i.backgroundColor&&(e.fillStyle=i.backgroundColor,e.fillRect(0,0,h,c)),i.syncFont(t,e),e.textBaseline="alphabetic",e.translate(o.x,o.y);for(var l,f,d=0;d<a.lines;d++)l=i.strokeThickness/2,f=i.strokeThickness/2+d*a.lineHeight+n.ascent,d>0&&(f+=a.lineSpacing*d),"right"===i.align?l+=a.width-a.lineWidths[d]:"center"===i.align&&(l+=(a.width-a.lineWidths[d])/2),this.autoRound&&(l=Math.round(l),f=Math.round(f)),i.strokeThickness&&(this.style.syncShadow(e,i.shadowStroke),e.strokeText(s[d],l,f)),i.fill&&(this.style.syncShadow(e,i.shadowFill),e.fillText(s[d],l,f));return this.dirty=!0,this},getTextMetrics:function(){return this.style.getTextMetrics()},toJSON:function(){var t=s.ToJSON(this),e={autoRound:this.autoRound,text:this.text,style:this.style.toJSON(),resolution:this.resolution,padding:{x:this.padding.x,y:this.padding.y}};return t.data=e,t}});t.exports=c},function(t,e,i){var n=i(12),r=i(0),s=i(3),a=i(6),o=i(153),h=i(587),u=new r({Extends:a,Mixins:[s.Alpha,s.BlendMode,s.Flip,s.GetBounds,s.Origin,s.RenderTarget,s.ScaleMode,s.ScrollFactor,s.Size,s.Texture,s.Tint,s.Transform,s.Visible,h],initialize:function(t,e,i,r,s,h,u){var c=t.sys.game.renderer.resourceManager;if(a.call(this,t,"TileSprite"),this.tilePositionX=0,this.tilePositionY=0,this.dirty=!0,this.tileTexture=null,this.renderer=null,this.setTexture(h,u),this.setPosition(e,i),this.setSize(r,s),this.setOrigin(),this.potWidth=o(this.frame.width),this.potHeight=o(this.frame.height),this.canvasPattern=null,c){this.renderer=t.sys.game.renderer;var l=t.sys.game.renderer.gl;this.tileTexture=c.createTexture(0,l.LINEAR,l.LINEAR,l.REPEAT,l.REPEAT,l.RGBA,this.canvasBuffer,this.potWidth,this.potHeight)}this.canvasBuffer=n.create2D(null,this.potWidth,this.potHeight),this.canvasBufferCtx=this.canvasBuffer.getContext("2d"),this.updateTileTexture()},updateTileTexture:function(){this.dirty&&(this.canvasBufferCtx.drawImage(this.frame.source.image,this.frame.cutX,this.frame.cutY,this.frame.cutWidth,this.frame.cutHeight,0,0,this.potWidth,this.potHeight),this.renderer?this.renderer.uploadCanvasToGPU(this.canvasBuffer,this.tileTexture,!1):this.canvasPattern=this.canvasBufferCtx.createPattern(this.canvasBuffer,"repeat"),this.dirty=!1)},destroy:function(){this.renderer&&this.renderer.gl.deleteTexture(this.tileTexture),n.remove(this.canvasBuffer),this.canvasPattern=null,this.canvasBufferCtx=null,this.canvasBuffer=null,this.renderer=null,this.visible=!1}});t.exports=u},function(t,e,i){var n=i(0),r=new n({initialize:function(t,e,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.x=t,this.y=e,this.width=i,this.height=n},setTo:function(t,e,i,n){return this.x=t,this.y=e,this.width=i,this.height=n,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(t,e){return void 0===e&&(e=t),this.x=t,this.y=e,this},setSize:function(t,e){return void 0===e&&(e=t),this.width=t,this.height=e,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x},set:function(t){t>=this.right?this.width=0:this.width=this.right-t,this.x=t}},right:{get:function(){return this.x+this.width},set:function(t){t<=this.x?this.width=0:this.width=t-this.x}},top:{get:function(){return this.y},set:function(t){t>=this.bottom?(this.height=0,this.y=t):this.height=this.bottom-t}},bottom:{get:function(){return this.y+this.height},set:function(t){t<=this.y?this.height=0:this.height=t-this.y}}});t.exports=r},function(t,e){var i=function(t,e,i,n,r){return void 0===t&&(t=""),void 0===e&&(e=!0),void 0===i&&(i=""),void 0===n&&(n=""),void 0===r&&(r=0),{responseType:t,async:e,user:i,password:n,timeout:r,header:void 0,headerValue:void 0,overrideMimeType:void 0}};t.exports=i},function(t,e,i){var n=i(0),r=i(13),s=i(24),a=i(7),o=new n({Extends:s,initialize:function(t,e,i,n){var r="string"==typeof t?t:a(t,"key",""),o={type:"json",extension:a(t,"extension","json"),responseType:"text",key:r,url:a(t,"file",e),path:i,xhrSettings:a(t,"xhr",n)};s.call(this,o)},onProcess:function(t){this.state=r.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText),this.onComplete(),t(this)}});o.create=function(t,e,i,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)t.addFile(new o(e[r],i,t.path,n));else t.addFile(new o(e,i,t.path,n));return t},t.exports=o},function(t,e,i){var n=i(59),r=function(t,e){var i=n(t);for(var r in e)i.hasOwnProperty(r)||(i[r]=e[r]);return i};t.exports=r},function(t,e,i){t.exports={Acceleration:i(705),BodyScale:i(706),BodyType:i(707),Bounce:i(708),CheckAgainst:i(709),Collides:i(710),Debug:i(711),Friction:i(712),Gravity:i(713),Offset:i(714),SetGameObject:i(715),Velocity:i(716)}},function(t,e,i){var n=i(0),r=new n({initialize:function(t,e,i,n,r){void 0===i&&(i=-1),void 0===n&&(n=this.makeGameObject),void 0===r&&(r=this),this.manager=t,this.scene=t.scene,this.displayList=this.scene.sys.displayList,this.updateList=this.scene.sys.updateList,this.createCallback=n,this.callbackScope=r,this.maxSize=i,this.classType=e,this._list=[]},makeGameObject:function(){var t=new this.classType(this.scene);return this.displayList.add(t),t.setActive(!1),t.setVisible(!1),t},add:function(t){var e;e=Array.isArray(t)?t:t.hasOwnProperty("children")?t.children.getArray():[t];var i=e.length;if(this.maxSize>-1){var n=this.maxSize-this._list.length;i>n&&(i=n)}for(var r=0;r<i;r++)this._list.push(e[r]);return this},create:function(t){for(var e=0;e<t;e++)this.isFull()||this._list.push(this.createCallback.call(this.callbackScope));return this},get:function(){return this.getFreeGameObject()},getFreeGameObject:function(){for(var t,e=0;e<this._list.length;e++)if(t=this._list[e],!t.active)return t.setActive(!0),t.setVisible(!0),t;return this.isFull()?null:(t=this.createCallback.call(this.callbackScope),t.setActive(!0),t.setVisible(!0),this._list.push(t),t)},kill:function(t){this._list.indexOf(t)>-1&&t.setActive(!1)},killAndHide:function(t){this._list.indexOf(t)>-1&&(t.setActive(!1),t.setVisible(!1))},purge:function(t){if(void 0===t&&(t=!0),t)for(var e=0;e<this._list.length;e++)this._list[e].destroy();this._list.length=0},isFull:function(){return-1!==this.maxSize&&this._list.length===this.maxSize},update:function(t,e){for(var i=0;i<this._list.length;i++){var n=this._list[i];n.active&&n.update(t,e)}},getTotalUsed:function(){for(var t=0,e=0;e<this._list.length;e++)this._list[e].active&&t++;return t},getTotalFree:function(){var t=this.getTotalUsed();return(-1===this.maxSize?999999999999:this.maxSize)-t},destroy:function(){this.manager=void 0,this.scene=void 0,this.displayList=void 0,this.updateList=void 0,this.createCallback=void 0,this.callbackScope=void 0,this._list.length=0}});t.exports=r},function(t,e,i){var n=i(194),r=i(4),s=i(195),a=i(196),o=i(197),h=i(731),u=i(198),c=i(2),l=i(733),f=i(734),d=i(747),p=function(t,e,i){void 0===i&&(i=n);for(var p=i.targets?i.targets:u(e),v=h(e),g=o(e,"delay",i.delay),x=o(e,"duration",i.duration),m=c(e,"easeParams",i.easeParams),y=a(c(e,"ease",i.ease),m),E=o(e,"hold",i.hold),T=o(e,"repeat",i.repeat),w=o(e,"repeatDelay",i.repeatDelay),b=s(e,"yoyo",i.yoyo),_=s(e,"flipX",i.flipX),A=s(e,"flipY",i.flipY),S=[],R=0;R<v.length;R++)for(var O=v[R].key,C=v[R].value,M=0;M<p.length;M++){var L=l(O,C),F=d(p[M],O,L.getEnd,L.getStart,a(c(C,"ease",y),m),o(C,"delay",g),o(C,"duration",x),s(C,"yoyo",b),o(C,"hold",E),o(C,"repeat",T),o(C,"repeatDelay",w),s(C,"flipX",_),s(C,"flipY",A));S.push(F)}var D=new f(t,S,p);D.offset=r(e,"offset",null),D.completeDelay=r(e,"completeDelay",0),D.loop=Math.round(r(e,"loop",0)),D.loopDelay=Math.round(r(e,"loopDelay",0)),D.paused=s(e,"paused",!1),D.useFrames=s(e,"useFrames",!1);for(var I=c(e,"callbackScope",D),B=[D,null],P=f.TYPES,k=0;k<P.length;k++){var N=P[k],X=c(e,N,!1);if(X){var U=c(e,N+"Scope",I),Y=c(e,N+"Params",[]);D.setCallback(N,X,B.concat(Y),U)}}return D};t.exports=p},function(t,e){var i=function(t,e,i,n){void 0===i&&(i=!1),void 0===n&&(n=[]);for(var r,s,a,o,h,u,c=t.x3-t.x1,l=t.y3-t.y1,f=t.x2-t.x1,d=t.y2-t.y1,p=c*c+l*l,v=c*f+l*d,g=f*f+d*d,x=p*g-v*v,m=0===x?0:1/x,y=t.x1,E=t.y1,T=0;T<e.length&&(a=e[T].x-y,o=e[T].y-E,h=c*a+l*o,u=f*a+d*o,r=(g*h-v*u)*m,s=(p*u-v*h)*m,!(r>=0&&s>=0&&r+s<1&&(n.push({x:e[T].x,y:e[T].y}),i)));T++);return n};t.exports=i},function(t,e){var i=function(t,e,i,n){var r=Math.cos(n),s=Math.sin(n),a=t.x1-e,o=t.y1-i;return t.x1=a*r-o*s+e,t.y1=a*s+o*r+i,a=t.x2-e,o=t.y2-i,t.x2=a*r-o*s+e,t.y2=a*s+o*r+i,t};t.exports=i},function(t,e){var i=function(t,e){return t.x*e.x+t.y*e.y};t.exports=i},function(t,e){var i=function(t){return 0===t.height?NaN:t.width/t.height};t.exports=i},function(t,e){var i=function(t,e,i,n){var r=Math.cos(n),s=Math.sin(n),a=t.x1-e,o=t.y1-i;return t.x1=a*r-o*s+e,t.y1=a*s+o*r+i,a=t.x2-e,o=t.y2-i,t.x2=a*r-o*s+e,t.y2=a*s+o*r+i,a=t.x3-e,o=t.y3-i,t.x3=a*r-o*s+e,t.y3=a*s+o*r+i,t};t.exports=i},function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e){var i=function(t){if("object"!=typeof t||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0};t.exports=i},function(t,e,i){t.exports={Angle:i(243),Call:i(244),GetFirst:i(245),GridAlign:i(246),IncAlpha:i(286),IncX:i(287),IncXY:i(288),IncY:i(289),PlaceOnCircle:i(290),PlaceOnEllipse:i(291),PlaceOnLine:i(292),PlaceOnRectangle:i(293),PlaceOnTriangle:i(294),PlayAnimation:i(295),RandomCircle:i(296),RandomEllipse:i(297),RandomLine:i(298),RandomRectangle:i(299),RandomTriangle:i(300),Rotate:i(301),RotateAround:i(302),RotateAroundDistance:i(303),ScaleX:i(304),ScaleXY:i(305),ScaleY:i(306),SetAlpha:i(307),SetHitArea:i(308),SetOrigin:i(309),SetRotation:i(310),SetScale:i(311),SetScaleX:i(312),SetScaleY:i(313),SetVisible:i(314),SetX:i(315),SetXY:i(316),SetY:i(317),SetZ:i(318),ShiftPosition:i(319),SmootherStep:i(320),SmoothStep:i(321),Spread:i(322),ToggleVisible:i(323)}},function(t,e){var i={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};t.exports=i},function(t,e,i){var n=i(32),r=i(15),s=i(33),a=i(16),o=function(t,e,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),s(t,n(e)+i),a(t,r(e)+o),t};t.exports=o},function(t,e,i){var n=i(17),r=i(15),s=i(18),a=i(16),o=function(t,e,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),s(t,n(e)-i),a(t,r(e)+o),t};t.exports=o},function(t,e,i){var n=i(19),r=i(15),s=i(20),a=i(16),o=function(t,e,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),s(t,n(e)+i),a(t,r(e)+o),t};t.exports=o},function(t,e,i){var n=i(32),r=i(34),s=i(111),a=function(t,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=0),s(t,n(e)+i,r(e)+a),t};t.exports=a},function(t,e,i){var n=i(33),r=i(35),s=function(t,e,i){return n(t,e),r(t,i)};t.exports=s},function(t,e,i){var n=i(17),r=i(34),s=i(18),a=i(35),o=function(t,e,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),s(t,n(e)-i),a(t,r(e)+o),t};t.exports=o},function(t,e,i){var n=i(19),r=i(34),s=i(20),a=i(35),o=function(t,e,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),s(t,n(e)+i),a(t,r(e)+o),t};t.exports=o},function(t,e,i){var n=i(32),r=i(21),s=i(33),a=i(22),o=function(t,e,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),s(t,n(e)+i),a(t,r(e)-o),t};t.exports=o},function(t,e,i){var n=i(17),r=i(21),s=i(18),a=i(22),o=function(t,e,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),s(t,n(e)-i),a(t,r(e)-o),t};t.exports=o},function(t,e,i){var n=i(19),r=i(21),s=i(20),a=i(22),o=function(t,e,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),s(t,n(e)+i),a(t,r(e)-o),t};t.exports=o},function(t,e,i){var n=i(50),r=function(t){return n(t,-Math.PI,Math.PI)};t.exports=r},function(t,e,i){var n=i(50),r=function(t){return n(t,-180,180)};t.exports=r},function(t,e,i){var n=i(120),r=function(t,e,i,r){if(void 0===r&&(r=[]),!e&&!i)return r;e?i=Math.round(n(t)/e):e=n(t)/i;for(var s=t.x,a=t.y,o=0,h=0;h<i;h++)switch(r.push({x:s,y:a}),o){case 0:s+=e,s>=t.right&&(o=1,a+=s-t.right,s=t.right);break;case 1:a+=e,a>=t.bottom&&(o=2,s-=a-t.bottom,a=t.bottom);break;case 2:s-=e,s<=t.left&&(o=3,a-=t.left-s,s=t.left);break;case 3:a-=e,a<=t.top&&(o=0,a=t.top)}return r};t.exports=r},function(t,e){var i=function(t){return 2*(t.width+t.height)};t.exports=i},function(t,e){var i=function(t,e){void 0===e&&(e=1);for(var i=null,n=0;n<e;n++)i=t.shift(),t.push(i);return i};t.exports=i},function(t,e){var i=function(t,e){void 0===e&&(e=1);for(var i=null,n=0;n<e;n++)i=t.pop(),t.unshift(i);return i};t.exports=i},function(t,e,i){var n=i(8),r=function(t,e){void 0===e&&(e=new n);var i=2*Math.PI*Math.random(),r=Math.random()+Math.random(),s=r>1?2-r:r,a=s*Math.cos(i),o=s*Math.sin(i);return e.x=t.x+a*t.radius,e.y=t.y+o*t.radius,e};t.exports=r},function(t,e,i){var n=i(8),r=function(t,e){void 0===e&&(e=new n);var i=Math.random()*Math.PI*2,r=Math.sqrt(Math.random());return e.x=t.x+r*Math.cos(i)*t.width/2,e.y=t.y+r*Math.sin(i)*t.height/2,e};t.exports=r},function(t,e,i){var n=i(8),r=function(t,e){void 0===e&&(e=new n);var i=Math.random();return e.x=t.x1+i*(t.x2-t.x1),e.y=t.y1+i*(t.y2-t.y1),e};t.exports=r},function(t,e,i){var n=i(8),r=function(t,e){return void 0===e&&(e=new n),e.x=t.x+Math.random()*t.width,e.y=t.y+Math.random()*t.height,e};t.exports=r},function(t,e){var i=function(t,e){void 0===e&&(e={x:0,y:0});var i=t.x2-t.x1,n=t.y2-t.y1,r=t.x3-t.x1,s=t.y3-t.y1,a=Math.random(),o=Math.random();return a+o>=1&&(a=1-a,o=1-o),e.x=t.x1+(i*a+r*o),e.y=t.y1+(n*a+s*o),e};t.exports=i},function(t,e){var i=function(t,e,i){return(t=Math.max(0,Math.min(1,(t-e)/(i-e))))*t*t*(t*(6*t-15)+10)};t.exports=i},function(t,e){var i=function(t,e,i){return(t=Math.max(0,Math.min(1,(t-e)/(i-e))))*t*(3-2*t)};t.exports=i},function(t,e,i){var n=i(2),r=i(131),s=i(12),a=function(t){var e=n(t,"data",[]),i=n(t,"canvas",null),a=n(t,"palette",r),o=n(t,"pixelWidth",1),h=n(t,"pixelHeight",o),u=n(t,"resizeCanvas",!0),c=n(t,"clearCanvas",!0),l=n(t,"preRender",null),f=n(t,"postRender",null),d=Math.floor(Math.abs(e[0].length*o)),p=Math.floor(Math.abs(e.length*h));i||(i=s.create2D(this,d,p),u=!1,c=!1),u&&(i.width=d,i.height=p);var v=i.getContext("2d");c&&v.clearRect(0,0,d,p),l&&l(i,v);for(var g=0;g<e.length;g++)for(var x=e[g],m=0;m<x.length;m++){var y=x[m];"."!==y&&" "!==y&&(v.fillStyle=a[y],v.fillRect(m*o,g*h,o,h))}return f&&f(i,v),i};t.exports=a},function(t,e){t.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},function(t,e){var i=function(t,e,i){void 0===i&&(i=!0);var n;return e&&("string"==typeof e?n=document.getElementById(e):"object"==typeof e&&1===e.nodeType&&(n=e)),n||(n=document.body),i&&n.style&&(n.style.overflow="hidden"),n.appendChild(t),t};t.exports=i},function(t,e,i){var n=i(44),r=!1,s=function(t){if(!r){if("complete"===document.readyState||"interactive"===document.readyState)return r=!0,void t();var e=function(){r=!0,document.removeEventListener("deviceready",e,!0),document.removeEventListener("DOMContentLoaded",e,!0),window.removeEventListener("load",e,!0),t()};document.body?n.cordova&&!n.cocoonJS?document.addEventListener("deviceready",e,!1):(document.addEventListener("DOMContentLoaded",e,!0),window.addEventListener("load",e,!0)):window.setTimeout(e,20)}};t.exports=s},function(t,e){var i=function(t){var e="";try{if(window.DOMParser){var i=new DOMParser;e=i.parseFromString(t,"text/xml")}else e=new ActiveXObject("Microsoft.XMLDOM"),e.loadXML(t)}catch(t){e=null}return e&&e.documentElement&&!e.getElementsByTagName("parsererror").length?e:null};t.exports=i},function(t,e,i){var n=i(25),r=function(){this.isRunning=!1,this.callback=n,this.tick=0,this.isSetTimeOut=!1,this.timeOutID=null;var t=this,e=function(i){t.tick=i,t.callback(i),t.timeOutID=window.requestAnimationFrame(e)},i=function(){var e=Date.now();t.tick=e,t.callback(e),t.timeOutID=window.setTimeout(i,t.timeToCall)};this.step=e,this.stepTimeout=i};r.prototype.constructor=r,r.prototype={start:function(t,e){this.callback=t,this.isSetTimeOut=e,this.isRunning=!0;var i=this;this.timeOutID=e?window.setTimeout(i.stepTimeout,0):window.requestAnimationFrame(i.step)},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=n}},t.exports=r},function(t,e){var i=function(t){return t%=2*Math.PI,t>=0?t:t+2*Math.PI};t.exports=i},function(t,e){function i(t,e){return void 0===e&&(e=1.70158),t*t*((e+1)*t-e)}function n(t,e){return void 0===e&&(e=1.70158),--t*t*((e+1)*t+e)+1}function r(t,e){void 0===e&&(e=1.70158);var i=1.525*e;return(t*=2)<1?t*t*((i+1)*t-i)*.5:.5*((t-=2)*t*((i+1)*t+i)+2)}t.exports={In:i,Out:n,InOut:r}},function(t,e){function i(t){return t=1-t,t<1/2.75?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}function n(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function r(t){var e=!1;return t<.5?(t=1-2*t,e=!0):t=2*t-1,t<1/2.75?t*=7.5625*t:t=t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5}t.exports={In:i,Out:n,InOut:r}},function(t,e){function i(t){return 1-Math.sqrt(1-t*t)}function n(t){return Math.sqrt(1- --t*t)}function r(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}t.exports={In:i,Out:n,InOut:r}},function(t,e){function i(t){return t*t*t}function n(t){return--t*t*t+1}function r(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}t.exports={In:i,Out:n,InOut:r}},function(t,e){function i(t,e,i){if(void 0===e&&(e=.1),void 0===i&&(i=.1),0===t)return 0;if(1===t)return 1;var n=i/4;return e<1?e=1:n=i*Math.asin(1/e)/(2*Math.PI),-e*Math.pow(2,10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/i)}function n(t,e,i){if(void 0===e&&(e=.1),void 0===i&&(i=.1),0===t)return 0;if(1===t)return 1;var n=i/4;return e<1?e=1:n=i*Math.asin(1/e)/(2*Math.PI),e*Math.pow(2,-10*t)*Math.sin((t-n)*(2*Math.PI)/i)+1}function r(t,e,i){if(void 0===e&&(e=.1),void 0===i&&(i=.1),0===t)return 0;if(1===t)return 1;var n=i/4;return e<1?e=1:n=i*Math.asin(1/e)/(2*Math.PI),(t*=2)<1?e*Math.pow(2,10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/i)*-.5:e*Math.pow(2,-10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/i)*.5+1}t.exports={In:i,Out:n,InOut:r}},function(t,e){function i(t){return Math.pow(2,10*(t-1))-.001}function n(t){return 1-Math.pow(2,-10*t)}function r(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))}t.exports={In:i,Out:n,InOut:r}},function(t,e){var i=function(t){return t};t.exports=i},function(t,e){function i(t){return t*t}function n(t){return t*(2-t)}function r(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}t.exports={In:i,Out:n,InOut:r}},function(t,e){function i(t){return t*t*t*t}function n(t){return 1- --t*t*t*t}function r(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}t.exports={In:i,Out:n,InOut:r}},function(t,e){function i(t){return t*t*t*t*t}function n(t){return--t*t*t*t*t+1}function r(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}t.exports={In:i,Out:n,InOut:r}},function(t,e){function i(t){return 0===t?0:1===t?1:1-Math.cos(t*Math.PI/2)}function n(t){return 0===t?0:1===t?1:Math.sin(t*Math.PI/2)}function r(t){return 0===t?0:1===t?1:.5*(1-Math.cos(Math.PI*t))}t.exports={In:i,Out:n,InOut:r}},function(t,e,i){var n=i(149),r=function(t,e){return n(t)/n(e)/n(t-e)};t.exports=r},function(t,e){var i=function(t){if(0===t)return 1;for(var e=t;--t;)e*=t;return e};t.exports=i},function(t,e){var i=function(t,e,i,n,r){var s=.5*(i-t),a=.5*(n-e),o=r*r;return(2*e-2*i+s+a)*(r*o)+(-3*e+3*i-2*s-a)*o+s*r+e};t.exports=i},function(t,e,i){var n=i(152),r=function(t,e){var i=t.length-1,r=i*e,s=Math.floor(r);return e<0?n(t[0],t[1],r):e>1?n(t[i],t[i-1],i-r):n(t[s],t[s+1>i?i:s+1],r-s)};t.exports=r},function(t,e){var i=function(t,e,i){return(e-t)*i+t};t.exports=i},function(t,e){var i=function(t){var e=Math.log(t)/.6931471805599453;return 1<<Math.ceil(e)};t.exports=i},function(t,e){var i=function(t){return t>0?Math.ceil(t):Math.floor(t)};t.exports=i},function(t,e,i){var n=i(28),r=function(t){var e=new n,i=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(t.toLowerCase());if(i){var r=parseInt(i[1],10),s=parseInt(i[2],10),a=parseInt(i[3],10),o=void 0!==i[4]?parseFloat(i[4]):1;e.setTo(r,s,a,255*o)}return e};t.exports=r},function(t,e){var i=function(t,e,i,n){return n<<24|t<<16|e<<8|i};t.exports=i},function(t,e,i){var n=i(28),r=function(t){var e=new n;t=t.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,i,n){return e+e+i+i+n+n});var i=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);if(i){var r=parseInt(i[1],16),s=parseInt(i[2],16),a=parseInt(i[3],16);e.setTo(r,s,a)}return e};t.exports=r},function(t,e,i){var n=i(28),r=i(159),s=function(t){var e=r(t);return new n(e.r,e.g,e.b,e.a)};t.exports=s},function(t,e){var i=function(t){return t>16777215?{a:t>>>24,r:t>>16&255,g:t>>8&255,b:255&t}:{a:255,r:t>>16&255,g:t>>8&255,b:255&t}};t.exports=i},function(t,e,i){function n(){var t=new ArrayBuffer(4),e=new Uint8Array(t),i=new Uint32Array(t);return e[0]=161,e[1]=178,e[2]=195,e[3]=212,3569595041===i[0]||2712847316!==i[0]&&null}var r=i(44),s=i(53),a=(i(12),{canvas:!1,canvasBitBltShift:null,webGL:!1,file:!1,fileSystem:!1,localStorage:!1,worker:!1,pointerLock:!1,vibration:!1,getUserMedia:!0,littleEndian:!1,support32bit:!1});t.exports=function(){a.canvas=!!window.CanvasRenderingContext2D||r.cocoonJS;try{a.localStorage=!!localStorage.getItem}catch(t){a.localStorage=!1}a.file=!!(window.File&&window.FileReader&&window.FileList&&window.Blob),a.fileSystem=!!window.requestFileSystem;var t=!1;return a.webGL=!0,a.worker=!!window.Worker,a.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,a.getUserMedia=a.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,s.firefox&&s.firefoxVersion<21&&(a.getUserMedia=!1),!r.iOS&&(s.ie||s.firefox||s.chrome)&&(a.canvasBitBltShift=!0),(s.safari||s.mobileSafari)&&(a.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(a.vibration=!0),"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint32Array&&(a.littleEndian=n()),a.support32bit="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof Int32Array&&null!==a.littleEndian&&t,a}()},function(t,e,i){function n(){var t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",e="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",i=new Image;return i.onload=function(){var n=new Image;n.onload=function(){var t=s.create(n,6,1),e=t.getContext("2d");if(e.globalCompositeOperation="multiply",e.drawImage(i,0,0),e.drawImage(n,2,0),!e.getImageData(2,0,1,1))return!1;var r=e.getImageData(2,0,1,1).data;s.remove(n),a.supportNewBlendModes=255===r[0]&&0===r[1]&&0===r[2]},n.src=t+"/wCKxvRF"+e},i.src=t+"AP804Oa6"+e,!1}function r(){var t=s.create(this,2,1),e=t.getContext("2d");e.fillStyle="rgba(10, 20, 30, 0.5)",e.fillRect(0,0,1,1);var i=e.getImageData(0,0,1,1);if(null===i)return!1;e.putImageData(i,1,0);var n=e.getImageData(1,0,1,1);return n.data[0]===i.data[0]&&n.data[1]===i.data[1]&&n.data[2]===i.data[2]&&n.data[3]===i.data[3]}var s=i(12),a={supportNewBlendModes:!1,supportInverseAlpha:!1};t.exports=function(){return void 0!==document&&(a.supportNewBlendModes=n(),a.supportInverseAlpha=r()),a}()},function(t,e){var i={DISPATCHER_IDLE:0,DISPATCHER_DISPATCHING:1,DISPATCHER_REMOVING:2,DISPATCHER_DESTROYED:3,LISTENER_PENDING:4,LISTENER_ACTIVE:5,LISTENER_REMOVING:6};t.exports=i},function(t,e,i){var n=i(405),r=i(2),s=function(t,e){var i,s,a,o,h=[],u=1;if("string"==typeof e){o=e;var c=t.get(o),l=c.getFrameNames();e=[],l.forEach(function(t,i){e.push({key:o,frame:i})})}if(!Array.isArray(e)||0===e.length)return h;for(a=0;a<e.length;a++){var f=e[a],d=r(f,"key",null);if(d){var p=r(f,"frame",0),v=t.getFrame(d,p);s=new n(d,p,u,v),s.duration=r(f,"duration",0),s.onUpdate=r(f,"onUpdate",null);var g=r(f,"visible",null);null!==g&&(s.setVisible=!0,s.visible=g),s.isFirst=!i,i&&(i.nextFrame=s,s.prevFrame=i),h.push(s),i=s,u++}}if(h.length>0){s.isLast=!0,s.nextFrame=h[0],h[0].prevFrame=s;var x=1/(h.length-1);for(a=0;a<h.length;a++)h[a].progress=a*x}return h};t.exports=s},function(t,e){var i=function(t,e,i,n){void 0===e&&(e=0),void 0===i&&(i=" "),void 0===n&&(n=3),t=t.toString();var r=0;if(e+1>=t.length)switch(n){case 1:t=new Array(e+1-t.length).join(i)+t;break;case 3:var s=Math.ceil((r=e-t.length)/2),a=r-s;t=new Array(a+1).join(i)+t+new Array(s+1).join(i);break;default:t+=new Array(e+1-t.length).join(i)}return t};t.exports=i},function(t,e,i){var n=i(0),r=new n({initialize:function(t){if(this.entries={},this.size=0,Array.isArray(t))for(var e=0;e<t.length;e++)this.set(t[e][0],t[e][1])},set:function(t,e){return this.has(t)||(this.entries[t]=e,this.size++),this},get:function(t){if(this.has(t))return this.entries[t]},getArray:function(){var t=[],e=this.entries;for(var i in e)t.push(e[i]);return t},has:function(t){return this.entries.hasOwnProperty(t)},delete:function(t){return this.has(t)&&(delete this.entries[t],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(t){delete this.entries[t]}),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var t=[],e=this.entries;for(var i in e)t.push(e[i]);return t},dump:function(){var t=this.entries;console.group("Map");for(var e in t)console.log(e,t[e]);console.groupEnd()},each:function(t){var e=this.entries;for(var i in e)if(!1===t(i,e[i]))break;return this},contains:function(t){var e=this.entries;for(var i in e)if(e[i]===t)return!0;return!1},merge:function(t,e){void 0===e&&(e=!1);var i=this.entries,n=t.entries;for(var r in n)i.hasOwnProperty(r)&&e?i[r]=n[r]:this.set(r,n[r]);return this}});t.exports=r},function(t,e){var i=function(t,e){return t.getContext("2d",e)||null};t.exports=i},function(t,e,i){t.exports={IndexBuffer:i(449),RenderTarget:i(450),Shader:i(451),Texture:i(452),VertexBuffer:i(74)}},function(t,e,i){"use strict";function n(t,e,i){i=i||2;var n=e&&e.length,s=n?e[0]*i:t.length,o=r(t,0,s,i,!0),h=[];if(!o)return h;var u,c,f,d,p,v,g;if(n&&(o=l(t,e,o,i)),t.length>80*i){u=f=t[0],c=d=t[1];for(var x=i;x<s;x+=i)p=t[x],v=t[x+1],p<u&&(u=p),v<c&&(c=v),p>f&&(f=p),v>d&&(d=v);g=Math.max(f-u,d-c)}return a(o,h,i,u,c,g),h}function r(t,e,i,n,r){var s,a;if(r===L(t,e,i,n)>0)for(s=e;s<i;s+=n)a=O(s,t[s],t[s+1],a);else for(s=i-n;s>=e;s-=n)a=O(s,t[s],t[s+1],a);return a&&w(a,a.next)&&(C(a),a=a.next),a}function s(t,e){if(!t)return t;e||(e=t);var i,n=t;do{if(i=!1,n.steiner||!w(n,n.next)&&0!==T(n.prev,n,n.next))n=n.next;else{if(C(n),(n=e=n.prev)===n.next)return null;i=!0}}while(i||n!==e);return e}function a(t,e,i,n,r,l,f){if(t){!f&&l&&v(t,n,r,l);for(var d,p,g=t;t.prev!==t.next;)if(d=t.prev,p=t.next,l?h(t,n,r,l):o(t))e.push(d.i/i),e.push(t.i/i),e.push(p.i/i),C(t),t=p.next,g=p.next;else if((t=p)===g){f?1===f?(t=u(t,e,i),a(t,e,i,n,r,l,2)):2===f&&c(t,e,i,n,r,l):a(s(t),e,i,n,r,l,1);break}}}function o(t){var e=t.prev,i=t,n=t.next;if(T(e,i,n)>=0)return!1;for(var r=t.next.next;r!==t.prev;){if(y(e.x,e.y,i.x,i.y,n.x,n.y,r.x,r.y)&&T(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function h(t,e,i,n){var r=t.prev,s=t,a=t.next;if(T(r,s,a)>=0)return!1;for(var o=r.x<s.x?r.x<a.x?r.x:a.x:s.x<a.x?s.x:a.x,h=r.y<s.y?r.y<a.y?r.y:a.y:s.y<a.y?s.y:a.y,u=r.x>s.x?r.x>a.x?r.x:a.x:s.x>a.x?s.x:a.x,c=r.y>s.y?r.y>a.y?r.y:a.y:s.y>a.y?s.y:a.y,l=x(o,h,e,i,n),f=x(u,c,e,i,n),d=t.nextZ;d&&d.z<=f;){if(d!==t.prev&&d!==t.next&&y(r.x,r.y,s.x,s.y,a.x,a.y,d.x,d.y)&&T(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(d=t.prevZ;d&&d.z>=l;){if(d!==t.prev&&d!==t.next&&y(r.x,r.y,s.x,s.y,a.x,a.y,d.x,d.y)&&T(d.prev,d,d.next)>=0)return!1;d=d.prevZ}return!0}function u(t,e,i){var n=t;do{var r=n.prev,s=n.next.next;!w(r,s)&&b(r,n,n.next,s)&&A(r,s)&&A(s,r)&&(e.push(r.i/i),e.push(n.i/i),e.push(s.i/i),C(n),C(n.next),n=t=s),n=n.next}while(n!==t);return n}function c(t,e,i,n,r,o){var h=t;do{for(var u=h.next.next;u!==h.prev;){if(h.i!==u.i&&E(h,u)){var c=R(h,u);return h=s(h,h.next),c=s(c,c.next),a(h,e,i,n,r,o),void a(c,e,i,n,r,o)}u=u.next}h=h.next}while(h!==t)}function l(t,e,i,n){var a,o,h,u,c,l=[];for(a=0,o=e.length;a<o;a++)h=e[a]*n,u=a<o-1?e[a+1]*n:t.length,c=r(t,h,u,n,!1),c===c.next&&(c.steiner=!0),l.push(m(c));for(l.sort(f),a=0;a<l.length;a++)d(l[a],i),i=s(i,i.next);return i}function f(t,e){return t.x-e.x}function d(t,e){if(e=p(t,e)){var i=R(e,t);s(i,i.next)}}function p(t,e){var i,n=e,r=t.x,s=t.y,a=-1/0;do{if(s<=n.y&&s>=n.next.y&&n.next.y!==n.y){var o=n.x+(s-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(o<=r&&o>a){if(a=o,o===r){if(s===n.y)return n;if(s===n.next.y)return n.next}i=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!i)return null;if(r===a)return i.prev;var h,u=i,c=i.x,l=i.y,f=1/0;for(n=i.next;n!==u;)r>=n.x&&n.x>=c&&r!==n.x&&y(s<l?r:a,s,c,l,s<l?a:r,s,n.x,n.y)&&((h=Math.abs(s-n.y)/(r-n.x))<f||h===f&&n.x>i.x)&&A(n,t)&&(i=n,f=h),n=n.next;return i}function v(t,e,i,n){var r=t;do{null===r.z&&(r.z=x(r.x,r.y,e,i,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,g(r)}function g(t){var e,i,n,r,s,a,o,h,u=1;do{for(i=t,t=null,s=null,a=0;i;){for(a++,n=i,o=0,e=0;e<u&&(o++,n=n.nextZ);e++);for(h=u;o>0||h>0&&n;)0!==o&&(0===h||!n||i.z<=n.z)?(r=i,i=i.nextZ,o--):(r=n,n=n.nextZ,h--),s?s.nextZ=r:t=r,r.prevZ=s,s=r;i=n}s.nextZ=null,u*=2}while(a>1);return t}function x(t,e,i,n,r){return t=32767*(t-i)/r,e=32767*(e-n)/r,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1}function m(t){var e=t,i=t;do{e.x<i.x&&(i=e),e=e.next}while(e!==t);return i}function y(t,e,i,n,r,s,a,o){return(r-a)*(e-o)-(t-a)*(s-o)>=0&&(t-a)*(n-o)-(i-a)*(e-o)>=0&&(i-a)*(s-o)-(r-a)*(n-o)>=0}function E(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!_(t,e)&&A(t,e)&&A(e,t)&&S(t,e)}function T(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function w(t,e){return t.x===e.x&&t.y===e.y}function b(t,e,i,n){return!!(w(t,e)&&w(i,n)||w(t,n)&&w(i,e))||T(t,e,i)>0!=T(t,e,n)>0&&T(i,n,t)>0!=T(i,n,e)>0}function _(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&b(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}function A(t,e){return T(t.prev,t,t.next)<0?T(t,e,t.next)>=0&&T(t,t.prev,e)>=0:T(t,e,t.prev)<0||T(t,t.next,e)<0}function S(t,e){var i=t,n=!1,r=(t.x+e.x)/2,s=(t.y+e.y)/2;do{i.y>s!=i.next.y>s&&i.next.y!==i.y&&r<(i.next.x-i.x)*(s-i.y)/(i.next.y-i.y)+i.x&&(n=!n),i=i.next}while(i!==t);return n}function R(t,e){var i=new M(t.i,t.x,t.y),n=new M(e.i,e.x,e.y),r=t.next,s=e.prev;return t.next=e,e.prev=t,i.next=r,r.prev=i,n.next=i,i.prev=n,s.next=n,n.prev=s,n}function O(t,e,i,n){var r=new M(t,e,i);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function C(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function M(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function L(t,e,i,n){for(var r=0,s=e,a=i-n;s<i;s+=n)r+=(t[a]-t[s])*(t[s+1]+t[a+1]),a=s;return r}t.exports=n,n.deviation=function(t,e,i,n){var r=e&&e.length,s=r?e[0]*i:t.length,a=Math.abs(L(t,0,s,i));if(r)for(var o=0,h=e.length;o<h;o++){var u=e[o]*i,c=o<h-1?e[o+1]*i:t.length;a-=Math.abs(L(t,u,c,i))}var l=0;for(o=0;o<n.length;o+=3){var f=n[o]*i,d=n[o+1]*i,p=n[o+2]*i;l+=Math.abs((t[f]-t[p])*(t[d+1]-t[f+1])-(t[f]-t[d])*(t[p+1]-t[f+1]))}return 0===a&&0===l?0:Math.abs((l-a)/a)},n.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},n=0,r=0;r<t.length;r++){for(var s=0;s<t[r].length;s++)for(var a=0;a<e;a++)i.vertices.push(t[r][s][a]);r>0&&(n+=t[r-1].length,i.holes.push(n))}return i}},function(t,e){var i={VERTEX_SIZE:16,INDEX_SIZE:2,TILEMAP_VERTEX_COUNT:4,TILEMAP_INDEX_COUNT:6,TILEMAP_VERTEX_COMPONENT_COUNT:4,MAX_TILEMAP:2e3};t.exports=i},function(t,e,i){var n=i(0),r=i(171),s=i(54),a=new n({initialize:function(t){this.manager=t,this.events=t.events,this.enabled=!1,this.target,this.handler,this.gamepads=[],this.queue=[]},boot:function(){var t=this.manager.config;this.enabled=t.inputGamepad&&this.manager.game.device.Input.gamepads,this.target=window,this.enabled&&this.startListeners()},startListeners:function(){var t=this.queue,e=function(e){e.preventDefaulted||t.push(e)};this.handler=e,this.target.addEventListener("gamepadconnected",e,!1),this.target.addEventListener("gamepaddisconnected",e,!1),this.target.addEventListener("gamepadbuttondown",e,!1),this.target.addEventListener("gamepadbuttonup",e,!1),this.target.addEventListener("gamepadaxismove",e,!1)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.handler),this.target.removeEventListener("gamepaddisconnected",this.handler),this.target.removeEventListener("gamepadbuttondown",this.handler),this.target.removeEventListener("gamepadbuttonup",this.handler),this.target.removeEventListener("gamepadaxismove",this.handler)},disconnectAll:function(){for(var t=0;t<this.gamepads.length;t++)this.gamepads.connected=!1},addPad:function(t){var e=new r(this,t.id,t.index);return this.gamepads[t.index]=e,e},removePad:function(t,e){},refreshPads:function(t){if(null===t)this.disconnectAll();else for(var e=0;e<t.length;e++){var i=t[e];null!==i&&(void 0===this.gamepads[i.index]&&this.addPad(i),this.gamepads[i.index].update(i))}},getAll:function(){for(var t=[],e=0;e<this.gamepads.length;e++)this.gamepads[e]&&t.push(this.gamepads[e]);return t},getPad:function(t){for(var e=0;e<this.gamepads.length;e++)if(this.gamepads[e].index===t)return this.gamepads[e]},update:function(){if(this.enabled){this.refreshPads(navigator.getGamepads());var t=this.queue.length;if(0!==t)for(var e=this.queue.splice(0,t),i=0;i<t;i++){var n,r=e[i];switch(r.type){case"gamepadconnected":n=this.getPad(r.gamepad.index),this.events.dispatch(new s.CONNECTED(n,r));break;case"gamepaddisconnected":n=this.getPad(r.gamepad.index),this.events.dispatch(new s.DISCONNECTED(n,r))}}}},total:{get:function(){return this.gamepads.length}}});t.exports=a},function(t,e,i){var n=i(172),r=i(173),s=i(0),a=(i(54),new s({initialize:function(t,e,i){this.manager=t,this.events=t.events,this.id=e,this.index=i,this.connected=!0,this.timestamp=0,this.buttons=[],this.axes=[]},update:function(t){this.timestamp=t.timestamp,this.connected=t.connected;for(var e=0;e<t.buttons.length;e++){var i=t.buttons[e];void 0===this.buttons[e]&&(this.buttons[e]=new r(this,e)),this.buttons[e].update(i)}for(var e=0;e<t.axes.length;e++){var s=t.axes[e];void 0===this.axes[e]&&(this.axes[e]=new n(this,e)),this.axes[e].update(s)}}}));t.exports=a},function(t,e,i){var n=i(0),r=(i(54),new n({initialize:function(t,e){this.pad=t,this.events=t.events,this.index=e,this.value=0,this.threshold=.05},update:function(t){this.value=t},getValue:function(){var t=(Math.abs(this.value)-this.threshold)/(1-this.threshold);return t<0&&(t=0),t*(this.value>0?1:-1)}}));t.exports=r},function(t,e,i){var n=i(0),r=i(54),s=new n({initialize:function(t,e){this.pad=t,this.events=t.events,this.index=e,this.value=0,this.threshold=0,this.pressed=!1},update:function(t){this.value=t.value,this.value>=this.threshold?this.pressed||(this.pressed=!0,this.events.dispatch(new r.DOWN(this.pad,this,this.value,t))):this.pressed&&(this.pressed=!1,this.events.dispatch(new r.UP(this.pad,this,this.value,t)))}});t.exports=s},function(t,e,i){var n=i(0),r=i(475),s=i(175),a=i(77),o=i(176),h=(i(177),i(481)),u=i(482),c=new n({initialize:function(t){this.manager=t,this.enabled=!1,this.target,this.keys=[],this.combos=[],this.captures=[],this.queue=[],this.handler},boot:function(){var t=this.manager.config;this.enabled=t.inputKeyboard,this.target=t.inputKeyboardEventTarget,this.enabled&&this.startListeners()},startListeners:function(){var t=this.queue,e=this.captures,i=function(i){i.preventDefaulted||(t.push(i),e[i.keyCode]&&i.preventDefault())};this.handler=i,this.target.addEventListener("keydown",i,!1),this.target.addEventListener("keyup",i,!1)},stopListeners:function(){this.target.removeEventListener("keydown",this.handler),this.target.removeEventListener("keyup",this.handler)},createCursorKeys:function(){return this.addKeys({up:a.UP,down:a.DOWN,left:a.LEFT,right:a.RIGHT})},addKeys:function(t){var e={};for(var i in t)e[i]=this.addKey(t[i]);return e},addKey:function(t){var e=this.keys;return e[t]||(e[t]=new s(t),this.captures[t]=!0),e[t]},removeKey:function(t){this.keys[t]&&(this.keys[t]=void 0,this.captures[t]=!1)},addKeyCapture:function(t){Array.isArray(t)||(t=[t]);for(var e=0;e<t.length;e++)this.captures[t[e]]=!0},removeKeyCapture:function(t){Array.isArray(t)||(t=[t]);for(var e=0;e<t.length;e++)this.captures[t[e]]=!1},createCombo:function(t,e){return new o(this,t,e)},update:function(){var t=this.queue.length;if(this.enabled&&0!==t)for(var e,i=this.queue.splice(0,t),n=this.keys,s=0;s<t;s++){var a=i[s];"keydown"===a.type?(this.manager.events.dispatch(new r.KEY_DOWN_EVENT(a)),e=r._DOWN[a.keyCode],e&&this.manager.events.dispatch(new e(a)),n[a.keyCode]&&h(n[a.keyCode],a)):(this.manager.events.dispatch(new r.KEY_UP_EVENT(a)),e=r._UP[a.keyCode],e&&this.manager.events.dispatch(new e(a)),n[a.keyCode]&&u(n[a.keyCode],a))}}});t.exports=c},function(t,e,i){var n=i(0),r=new n({initialize:function(t){this.keyCode=t,this.originalEvent=void 0,this.preventDefault=!0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1}});t.exports=r},function(t,e,i){var n=i(0),r=i(7),s=i(478),a=i(177),o=i(480),h=new n({initialize:function(t,e,i){if(void 0===i&&(i={}),e.length<2)return!1;this.manager=t,this.enabled=!0,this.keyCodes=[];for(var n=0;n<e.length;n++){var h=e[n];"string"==typeof h?this.keyCodes.push(h.toUpperCase().charCodeAt(0)):"number"==typeof h?this.keyCodes.push(h):h.hasOwnProperty("keyCode")&&this.keyCodes.push(h.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=r(i,"resetOnWrongKey",!0),this.maxKeyDelay=r(i,"maxKeyDelay",0),this.resetOnMatch=r(i,"resetOnMatch",!1),this.deleteOnMatch=r(i,"deleteOnMatch",!1);var u=this,c=function(t){if(!u.matched&&u.enabled){a(t.data,u)&&(u.manager.events.dispatch(new s(u,t)),u.resetOnMatch?o(u):u.deleteOnMatch&&u.destroy())}};this.onKeyDown=c,this.manager.events.on("KEY_DOWN_EVENT",c)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.events.off("KEY_DOWN",this.onKeyDown),this.manager=void 0}});t.exports=h},function(t,e,i){var n=i(479),r=function(t,e){if(e.matched)return!0;var i=!1,r=!1;if(t.keyCode===e.current)if(e.index>0&&e.maxKeyDelay>0){var s=e.timeLastMatched+e.maxKeyDelay;t.timeStamp<=s&&(r=!0,i=n(t,e))}else r=!0,i=n(t,e);return!r&&e.resetOnWrongKey&&(e.index=0,e.current=e.keyCodes[0]),i&&(e.timeLastMatched=t.timeStamp,e.matched=!0,e.timeMatched=t.timeStamp),i};t.exports=r},function(t,e,i){var n=i(0),r=new n({initialize:function(t){this.manager=t,this.capture=!1,this.enabled=!1,this.target,this.handler},boot:function(){var t=this.manager.config;this.enabled=t.inputMouse,this.target=t.inputMouseEventTarget,this.target||(this.target=this.manager.game.canvas),t.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.startListeners()},disableContextMenu:function(){return document.body.addEventListener("contextmenu",function(t){return t.preventDefault(),!1}),this},startListeners:function(){var t=this.manager.queue,e=this,i=function(i){i.preventDefaulted||(t.push(i),e.capture&&i.preventDefault())};this.handler=i,this.target.addEventListener("mousemove",i,!1),this.target.addEventListener("mousedown",i,!1),this.target.addEventListener("mouseup",i,!1)},stopListeners:function(){this.target.removeEventListener("mousemove",this.handler),this.target.removeEventListener("mousedown",this.handler),this.target.removeEventListener("mouseup",this.handler)}});t.exports=r},function(t,e){var i=function(t,e,i){return!!t.hitArea&&(e+=t.displayOriginX,i+=t.displayOriginY,t.hitAreaCallback(t.hitArea,e,i))};t.exports=i},function(t,e,i){var n=i(493),r=i(0),s=i(524),a=i(75),o=i(526),h=i(182),u=i(29),c=i(527),l=i(590),f=i(619),d=i(673),p=i(690),v=i(719),g=i(721),x=i(722),m=i(725),y=i(726),E=i(760),T=new r({initialize:function(t,e){this.scene=t,this.config=e,this.settings=x.create(e),this.sortChildrenFlag=!1,this.canvas,this.context,this.game,this.anims,this.cache,this.registry,this.textures,this.add,this.cameras,this.data,this.dataStore,this.displayList,this.events,this.inputManager,this.load,this.make,this.physicsManager,this.pool,this.sceneManager,this.time,this.tweens,this.updateList},init:function(t){var e=this.scene;this.game=t,this.anims=t.anims,this.cache=t.cache,this.registry=t.registry,this.textures=t.textures,this.add=new l(e),this.cameras=new n(e),this.data=new a(e),this.dataStore=new o(e),this.displayList=new h(e),this.events=new u,this.inputManager=new f(e),this.load=new d(e),this.make=new c(e),this.physicsManager=new p(e),this.pool=new v(e),this.sceneManager=new g(e),this.time=new s(e),this.tweens=new y(e),this.updateList=new E(e),this.add.boot(),this.inputManager.boot(),this.physicsManager.boot(),this.inject()},inject:function(){var t=this.settings.map;for(var e in t)"sys"!==e&&(this.scene[t[e]]=this[e])},step:function(t,e){this.sceneManager.update(),this.settings.active&&(this.pool.begin(t),this.updateList.begin(t),this.time.begin(t),this.tweens.begin(t),this.inputManager.begin(t),this.physicsManager.update(t,e),this.pool.update(t,e),this.updateList.update(t,e),this.time.update(t,e),this.tweens.update(t,e),this.cameras.update(t,e),this.inputManager.update(t,e),this.scene.update.call(this.scene,t,e))},render:function(t,e){this.settings.visible&&(this.depthSort(),this.cameras.render(e,this.displayList,t))},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(m.inplace(this.displayList.list,this.sortZ),this.sortChildrenFlag=!1)},sortZ:function(t,e){return t._z-e._z},pause:function(){this.settings.active=!1,this.scene.pause&&this.scene.pause.call(this.scene)},resume:function(){this.settings.active=!0,this.scene.resume&&this.scene.resume.call(this.scene)},sleep:function(){this.settings.active=!1,this.settings.visible=!1,this.scene.sleep&&this.scene.sleep.call(this.scene)},wake:function(){this.settings.active=!0,this.settings.visible=!0,this.scene.wake&&this.scene.wake.call(this.scene)},start:function(t){this.settings.data=t,this.settings.active=!0,this.settings.visible=!0},shutdown:function(){this.settings.active=!1,this.settings.visible=!1,this.pool.shutdown(),this.displayList.shutdown(),this.updateList.shutdown(),this.time.shutdown(),this.tweens.shutdown(),this.scene.shutdown&&this.scene.shutdown.call(this.scene)},destroy:function(){this.pool.destroy(),this.time.destroy(),this.tweens.destroy(),this.scene.destroy&&this.scene.destroy.call(this.scene)}});t.exports=T},function(t,e,i){var n=i(0),r=i(14),s=i(23),a=i(52),o=new n({initialize:function(t,e,i,n){this.scene,this.name="",this.x=t,this.y=e,this.width=i,this.height=n,this.roundPixels=!1,this.useBounds=!1,this._bounds=new r,this.inputEnabled=!0,this.scrollX=0,this.scrollY=0,this.zoom=1,this.rotation=0,this.matrix=new s(1,0,0,1,0,0),this.transparent=!0,this.clearBeforeRender=!0,this.backgroundColor=a("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this._shakeDuration=0,this._shakeIntensity=0,this._shakeOffsetX=0,this._shakeOffsetY=0,this._fadeDuration=0,this._fadeRed=0,this._fadeGreen=0,this._fadeBlue=0,this._fadeAlpha=0,this._flashDuration=0,this._flashRed=1,this._flashGreen=1,this._flashBlue=1,this._flashAlpha=0,this._follow=null,this._id=0},cameraToScreen:i(494),centerToBounds:i(495),centerToSize:i(496),cull:i(497),cullHitTest:i(498),cullTilemap:i(499),destroy:i(500),fade:i(501),flash:i(502),ignore:i(503),preRender:i(504),removeBounds:i(505),setBackgroundColor:i(506),setBounds:i(507),setName:i(508),setPosition:i(509),setRotation:i(510),setRoundPixels:i(511),setScene:i(512),setScroll:i(513),setSize:i(514),setViewport:i(515),setZoom:i(516),shake:i(517),startFollow:i(518),stopFollow:i(519),toJSON:i(520),update:i(521)});t.exports=o},function(t,e,i){var n=i(0),r=new n({initialize:function(t){this.scene=t,this.list=[],this.position=0},add:function(t){return-1===this.getIndex(t)&&this.list.push(t),t},addAt:function(t,e){return void 0===e&&(e=0),0===this.list.length?this.add(t):(e>=0&&e<=this.list.length&&-1===this.getIndex(t)&&this.list.splice(e,0,t),t)},addMultiple:function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this.add(t[e]);return t},getAt:function(t){return this.list[t]},getIndex:function(t){return this.list.indexOf(t)},sortGameObjects:function(t){return void 0===t&&(t=this.list),this.scene.sys.depthSort(),t.sort(this.sortIndexHandler.bind(this))},getTopGameObject:function(t){return this.sortGameObjects(t),t[t.length-1]},sortIndexHandler:function(t,e){var i=this.getIndex(t),n=this.getIndex(e);return i<n?-1:i>n?1:0},getByKey:function(t,e){for(var i=0;i<this.list.length;i++)if(this.list[i][t]===e)return this.list[i];return null},getByName:function(t){return this.getByKey("name",t)},getRandom:function(t,e){if(void 0===t&&(t=0),void 0===e&&(e=this.list.length),0===e||e>this.list.length)return null;var i=t+Math.floor(Math.random()*e);return this.list[i]},getFirst:function(t,e,i,n){void 0===i&&(i=0),void 0===n&&(n=this.list.length);for(var r=i;r<n;r++){var s=this.list[r];if(s[t]===e)return s}return null},getAll:function(t,e,i,n){void 0===i&&(i=0),void 0===n&&(n=this.list.length);for(var r=[],s=i;s<n;s++){var a=this.list[s];t?a[t]===e&&r.push(a):r.push(a)}return r},swap:function(t,e){if(t!==e){var i=this.getIndex(t),n=this.getIndex(e);if(i<0||n<0)throw new Error("DisplayList.swap: Supplied objects must be children of the same list");this.list[i]=e,this.list[n]=t}},moveTo:function(t,e){var i=this.getIndex(t);if(-1===i||e<0||e>=this.list.length)throw new Error("DisplayList.moveTo: The supplied index is out of bounds");return this.list.splice(i,1),this.list.splice(e,0,t),t},remove:function(t){var e=this.list.indexOf(t);return-1!==e&&this.list.splice(e,1),t},removeAt:function(t){var e=this.list[t];return e&&this.children.splice(t,1),e},removeBetween:function(t,e){void 0===t&&(t=0),void 0===e&&(e=this.list.length);var i=e-t;if(i>0&&i<=e){return this.list.splice(t,i)}if(0===i&&0===this.list.length)return[];throw new Error("DisplayList.removeBetween: Range Error, numeric values are outside the acceptable range")},removeAll:function(){for(var t=this.list.length;t--;)this.remove(this.list[t]);return this},shutdown:function(){this.removeAll()},bringToTop:function(t){return this.getIndex(t)<this.list.length&&(this.remove(t),this.add(t)),t},sendToBack:function(t){return this.getIndex(t)>0&&(this.remove(t),this.addAt(t,0)),t},moveUp:function(t){var e=this.getIndex(t);if(-1!==e&&e<this.list.length-1){var i=this.getAt(e+1);i&&this.swap(t,i)}return t},moveDown:function(t){var e=this.getIndex(t);if(e>0){var i=this.getAt(e-1);i&&this.swap(t,i)}return t},reverse:function(){return this.list.reverse(),this},shuffle:function(){for(var t=this.list.length-1;t>0;t--){var e=Math.floor(Math.random()*(t+1)),i=this.list[t];this.list[t]=this.list[e],this.list[e]=i}return this},replace:function(t,e){var i=this.getIndex(t);if(-1!==i)return e.scene.sys.displayList.remove(e),this.remove(t),this.addAt(e,i),t},exchange:function(t,e){if(t!==e&&t.scene!==e.scene){var i=e.scene.sys.displayList,n=this.getIndex(t),r=i.getIndex(e);if(n<0||r<0)throw new Error("Children.swap: Supplied objects must be children of parents");this.remove(t),i.remove(e),this.addAt(e,n),i.addAt(t,r)}},exists:function(t){return this.list.indexOf(t)>-1},setAll:function(t,e){for(var i=0;i<this.list.length;i++)this.list[i]&&(this.list[i][t]=e)},each:function(t,e){for(var i=[null],n=1;n<arguments.length;n++)i.push(arguments[n]);for(n=0;n<this.list.length;n++)i[0]=this.list[n],t.apply(e,i)},reparent:function(t){if(t!==this.scene)for(var e=0;e<this.list.length;e++){var i=this.remove(this.list[e]);t.sys.displayList.add(i)}return t},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});t.exports=r},function(t,e){var i=function(t,e){for(var i=t.text,n=i.length,r=Number.MAX_VALUE,s=Number.MAX_VALUE,a=0,o=0,h=t.fontData.chars,u=t.fontData.lineHeight,c=0,l=0,f=0,d=0,p=null,v=0,g=0,x=0,m=0,y=null,E=0,T=0;T<n;++T)if(10!==(d=i.charCodeAt(T))){if(p=h[d]){if(v=p.width,g=p.height,x=f+p.xOffset+c,m=p.yOffset+l,null!==y){var w=p.kerning[E];x+=void 0!==w?w:0}r>x&&(r=x),s>m&&(s=m);var b=x+v-r,_=m+g-s;a<b&&(a=b),o<_&&(o=_),c+=p.xAdvance,f+=1,y=p,E=d}}else c=0,f=0,l+=u,y=null;var A=t.fontSize/t.fontData.size,S=A*t.scaleX,R=A*t.scaleY,O={local:{x:r*A,y:s*A,width:a*A,height:o*A},global:{x:t.x+r*S,y:t.y+s*R,width:a*S,height:o*R}};return e&&(O.local.x=Math.round(O.local.x),O.local.y=Math.round(O.local.y),O.local.width=Math.round(O.local.width),O.local.height=Math.round(O.local.height),O.global.x=Math.round(O.global.x),O.global.y=Math.round(O.global.y),O.global.width=Math.round(O.global.width),O.global.height=Math.round(O.global.height)),O};t.exports=i},function(t,e,i){var n=i(185),r=i(2),s=function(t,e,i){for(var n=[],r=0;r<t.length;r++)for(var s=0;s<e.length;s++)for(var a=0;a<i;a++)n.push({a:t[r],b:e[s]});return n},a=function(t,e,i){var a=r(i,"max",0),o=r(i,"qty",1),h=r(i,"random",!1),u=r(i,"randomB",!1),c=r(i,"repeat",0),l=r(i,"yoyo",!1),f=[];if(u&&n(e),-1===c)if(0===a)c=0;else{var d=t.length*e.length*o;l&&(d*=2),c=Math.ceil(a/d)}for(var p=0;p<=c;p++){var v=s(t,e,o);h&&n(v),f=f.concat(v),l&&(v.reverse(),f=f.concat(v))}return a&&f.splice(a),f};t.exports=a},function(t,e){var i=function(t){for(var e=t.length-1;e>0;e--){var i=Math.floor(Math.random()*(e+1)),n=t[e];t[e]=t[i],t[i]=n}return t};t.exports=i},function(t,e){function i(t,e){return parseInt(t.getAttribute(e),10)}var n=function(t,e,n,r){void 0===e&&(e=0),void 0===n&&(n=0);var s={},a=t.getElementsByTagName("info")[0],o=t.getElementsByTagName("common")[0];s.font=a.getAttribute("face"),s.size=i(a,"size"),s.lineHeight=i(o,"lineHeight")+n,s.chars={};var h=t.getElementsByTagName("char"),u=void 0!==r&&r.trimmed;if(u)var c=r.height,l=r.width;for(var f=0;f<h.length;f++){var d=h[f],p=i(d,"id"),v=i(d,"x"),g=i(d,"y"),x=i(d,"width"),m=i(d,"height");u&&(v<l&&(l=v),g<c&&(c=g)),s.chars[p]={x:v,y:g,width:x,height:m,centerX:Math.floor(x/2),centerY:Math.floor(m/2),xOffset:i(d,"xoffset"),yOffset:i(d,"yoffset"),xAdvance:i(d,"xadvance")+e,data:{},kerning:{}}}if(u&&0!==c&&0!==l)for(var y in s.chars){var E=s.chars[y];E.x-=r.x,E.y-=r.y}var T=t.getElementsByTagName("kerning");for(f=0;f<T.length;f++){var w=T[f],b=i(w,"first"),_=i(w,"second"),A=i(w,"amount");s.chars[_].kerning[b]=A}return s};t.exports=n},function(t,e,i){var n=i(0),r=i(3),s=i(599),a=i(6),o=i(600),h=i(601),u=i(602),c=i(603),l=i(604),f=i(609),d=i(38),p=i(74),v=i(188),g=new n({Extends:a,Mixins:[r.Alpha,r.BlendMode,r.Origin,r.RenderTarget,r.ScrollFactor,r.Visible,l],initialize:function(t){a.call(this,t,"LightLayer");var e=t.sys.game.renderer.resourceManager;if(this._isDeferred=v.has("WEBGL_draw_buffers"),this.renderer=t.sys.game.renderer,this.passShader=null,this.gl=null,this.ambientLightColorR=0,this.ambientLightColorG=0,this.ambientLightColorB=0,this.lightPool=[],this.spritePool=[],this.lights=[],this.sprites=[],this.lightsLocations=[],this._z=0,void 0===e||this._isDeferred){var i=this.gl=t.sys.game.renderer.gl;this.ext=t.sys.game.renderer.getExtension("WEBGL_draw_buffers"),this.gBufferShaderPass=e.createShader("GBufferShader",{vert:d.vert,frag:o()});var n=c(s.DEFERRED_MAX_LIGHTS);this.lightPassShader=e.createShader("Phong2DShaderDeferred",{vert:n.vert,frag:n.frag}),this.lightPassVBO=i.createBuffer(),i.bindBuffer(i.ARRAY_BUFFER,this.lightPassVBO),i.bufferData(i.ARRAY_BUFFER,new Float32Array([-1,7,-1,-1,7,-1]),i.STATIC_DRAW),this.uMainTextureLoc=this.gBufferShaderPass.getUniformLocation("uMainTexture"),this.uNormTextureLoc=this.gBufferShaderPass.getUniformLocation("uNormTexture"),this.gBufferShaderPass.setConstantInt1(this.uMainTextureLoc,0),this.gBufferShaderPass.setConstantInt1(this.uNormTextureLoc,1),this.ambientLightColorLoc=this.lightPassShader.getUniformLocation("uAmbientLightColor"),this.uResolutionLoc=this.lightPassShader.getUniformLocation("uResolution"),this.uGbufferColorLoc=this.lightPassShader.getUniformLocation("uGbufferColor"),this.uGbufferNormalLoc=this.lightPassShader.getUniformLocation("uGbufferNormal"),this.uCameraLoc=this.lightPassShader.getUniformLocation("uCamera"),this.lightPassShader.setConstantInt1(this.uGbufferColorLoc,0),this.lightPassShader.setConstantInt1(this.uGbufferNormalLoc,1),this.gBufferShaderPass.bindAttribLocation(0,"v_tex_coord"),this.gBufferShaderPass.bindAttribLocation(1,"v_color"),this.gBufferShaderPass.bindAttribLocation(2,"v_alpha"),this.lightPassShader.bindAttribLocation(0,"vertexPosition");for(var r=0;r<s.DEFERRED_MAX_LIGHTS;++r)this.lightsLocations[r]={position:this.lightPassShader.getUniformLocation("uLights["+r+"].position"),color:this.lightPassShader.getUniformLocation("uLights["+r+"].color"),attenuation:this.lightPassShader.getUniformLocation("uLights["+r+"].attenuation"),radius:this.lightPassShader.getUniformLocation("uLights["+r+"].radius")};this.gBufferFbo=i.createFramebuffer(),this.gBufferColorTex=i.createTexture(),this.gBufferNormalTex=i.createTexture(),i.bindFramebuffer(i.FRAMEBUFFER,this.gBufferFbo),i.bindTexture(i.TEXTURE_2D,this.gBufferColorTex),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,t.sys.game.renderer.width,t.sys.game.renderer.height,0,i.RGBA,i.UNSIGNED_BYTE,null),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.bindTexture(i.TEXTURE_2D,this.gBufferNormalTex),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,t.sys.game.renderer.width,t.sys.game.renderer.height,0,i.RGBA,i.UNSIGNED_BYTE,null),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.framebufferTexture2D(i.FRAMEBUFFER,this.ext.COLOR_ATTACHMENT0_WEBGL,i.TEXTURE_2D,this.gBufferColorTex,0),i.framebufferTexture2D(i.FRAMEBUFFER,this.ext.COLOR_ATTACHMENT1_WEBGL,i.TEXTURE_2D,this.gBufferNormalTex,0),this.ext.drawBuffersWEBGL([this.ext.COLOR_ATTACHMENT0_WEBGL,this.ext.COLOR_ATTACHMENT1_WEBGL]);var h=i.checkFramebufferStatus(i.FRAMEBUFFER);if(h!==i.FRAMEBUFFER_COMPLETE){var l={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"};throw new Error("Framebuffer incomplete. Framebuffer status: "+l[h])}i.bindFramebuffer(i.FRAMEBUFFER,null),p.SetDirty()}else{this.gl=t.sys.game.renderer.gl,this.passShader=e.createShader("Phong2DShaderForward",{vert:d.vert,frag:u(s.MAX_LIGHTS)}),this.ambientLightColorLoc=this.passShader.getUniformLocation("uAmbientLightColor"),this.uMainTextureLoc=this.passShader.getUniformLocation("uMainTexture"),this.uNormTextureLoc=this.passShader.getUniformLocation("uNormTexture"),this.uResolutionLoc=this.passShader.getUniformLocation("uResolution"),this.uCameraLoc=this.passShader.getUniformLocation("uCamera"),this.passShader.setConstantInt1(this.uMainTextureLoc,0),this.passShader.setConstantInt1(this.uNormTextureLoc,1);for(var r=0;r<s.MAX_LIGHTS;++r)this.lightsLocations[r]={position:this.passShader.getUniformLocation("uLights["+r+"].position"),color:this.passShader.getUniformLocation("uLights["+r+"].color"),attenuation:this.passShader.getUniformLocation("uLights["+r+"].attenuation"),radius:this.passShader.getUniformLocation("uLights["+r+"].radius")}}this.setOrigin(0,0)},forEachLight:function(t){if(t)for(var e=this.lights,i=e.length,n=0;n<i;++n)t(e[n])},get z(){return this._z},set z(t){this._z=t},setAmbientLightColor:function(t,e,i){this.ambientLightColorR=t,this.ambientLightColorG=e,this.ambientLightColorB=i},getMaxLights:function(){return this._isDeferred?s.DEFERRED_MAX_LIGHTS:s.MAX_LIGHTS},getLightCount:function(){return this.lights.length},isDeferred:function(){return this._isDeferred},addSprite:function(t,e){var i;this.spritePool.length>0?(i=this.spritePool.pop(),i.set(t,e)):i=new f(t,e),this.scene.sys.displayList.remove(t),this.sprites.push(i)},removeSprite:function(t){for(var e=this.sprites.length,i=0;i<e;++i)if(this.sprites[i].spriteRef===t){this.spritePool.push(this.sprites[i]),this.sprites.splice(i,1);break}return t},addLight:function(t,e,i,n,r,s,a,o){if(this.lights.length<this.getMaxLights()){var u=null;return this.lightPool.length>0?(u=this.lightPool.pop(),u.set(t,e,i,n,r,s,a,o)):u=new h(t,e,i,n,r,s,a,o),this.lights.push(u),u}return null},removeLight:function(t){var e=this.lights.indexOf(t);e>=0&&(this.lightPool.push(t),this.lights.splice(e,1))},updateLights:function(t,e,i){if(null!==this.gl){var n=this.lightsLocations,r=this.lights,s=r.length,a={x:0,y:0},o=t.height,h=e.matrix,u=this.gl;i.bind(),u.uniform2f(this.uResolutionLoc,t.width,t.height),u.uniform3f(this.ambientLightColorLoc,this.ambientLightColorR,this.ambientLightColorG,this.ambientLightColorB),u.uniform4f(this.uCameraLoc,e.x,e.y,e.rotation,e.zoom);for(var c=0;c<s;++c){var l=r[c];h.transformPoint(l.x,l.y,a),u.uniform1f(n[c].attenuation,l.attenuation),u.uniform1f(n[c].radius,l.radius),u.uniform3f(n[c].position,a.x-e.scrollX*l.scrollFactorX*e.zoom,o-(a.y-e.scrollY*l.scrollFactorY*e.zoom),l.z),u.uniform3f(n[c].color,l.r,l.g,l.b)}}}});t.exports=g},function(t,e){var i=function(){var t=document.createElement("canvas").getContext("webgl"),e=t?t.getSupportedExtensions():[];return{has:function(t){return e.indexOf(t)>=0}}}();t.exports=i},function(t,e,i){var n=i(25),r=function(t,e,i){return{gameObject:t,enabled:!0,draggable:!1,dropZone:!1,target:null,camera:null,hitArea:e,hitAreaCallback:i,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragX:0,dragY:0,callbackContext:t,onUp:n,onDown:n,onOver:n,onOut:n,onMove:n,onDragStart:n,onDrag:n,onDragEnd:n}};t.exports=r},function(t,e){var i=function(t,e,i,n){for(var r=[],s=t;s<=e;s++)if(i||n){var a=i?i+s.toString():s.toString();n&&(a=a.concat(n)),r.push(a)}else r.push(s);return r};t.exports=i},function(t,e,i){var n=i(92),r=function(t,e){var i=void 0===t?n():Object.assign(t);if(e)for(var r in e)void 0!==e[r]&&(i[r]=e[r]);return i};t.exports=r},function(t,e,i){var n=i(0),r=i(13),s=i(24),a=i(7),o=i(134),h=new n({Extends:s,initialize:function(t,e,i,n){var r="string"==typeof t?t:a(t,"key",""),o={type:"xml",extension:a(t,"extension","xml"),responseType:"text",key:r,url:a(t,"file",e),path:i,xhrSettings:a(t,"xhr",n)};s.call(this,o)},onProcess:function(t){if(this.state=r.FILE_PROCESSING,this.data=o(this.xhrLoader.responseText),null===this.data)throw new Error("XMLFile: Invalid XML");this.onComplete(),t(this)}});h.create=function(t,e,i,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)t.addFile(new h(e[r],i,t.path,n));else t.addFile(new h(e,i,t.path,n));return t},t.exports=h},function(t,e,i){var n=i(0),r=i(13),s=i(24),a=new n({Extends:s,initialize:function(t,e,i,n){var r={type:"text",extension:"txt",responseType:"text",key:t,url:e,path:i,xhrSettings:n};s.call(this,r)},onProcess:function(t){this.state=r.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onComplete(),t(this)}});a.create=function(t,e,i,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)t.addFile(new a(e[r],i,t.path,n));else t.addFile(new a(e,i,t.path,n));return t},t.exports=a},function(t,e){var i={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1};t.exports=i},function(t,e){var i=function(t,e,i){return t&&t.hasOwnProperty(e)?t[e]:i};t.exports=i},function(t,e,i){var n=i(728),r=function(t,e){if("string"==typeof t&&n.hasOwnProperty(t)){if(e){var i=e.slice(0);return i.unshift(0),function(e){return i[0]=e,n[t].apply(this,i)}}return n[t]}return"function"==typeof t?t:(Array.isArray(t)&&t.length,n.Power0)};t.exports=r},function(t,e){var i=function(t,e,i){var n;if(t.hasOwnProperty(e)){n="function"===typeof t[e]?function(i,n,r){return t[e](i,n,r)}:function(){return t[e]}}else n="function"==typeof i?i:function(){return i};return n};t.exports=i},function(t,e,i){var n=i(2),r=function(t){var e=n(t,"targets",null);return null===e?e:("function"==typeof e&&(e=e.call()),Array.isArray(e)||(e=[e]),e)};t.exports=r},function(t,e){var i=function(t,e){return!(t.width<=0||t.height<=0||e.width<=0||e.height<=0)&&!(t.right<e.x||t.bottom<e.y||t.x>e.right||t.y>e.bottom)};t.exports=i},function(t,e,i){var n=i(36),r={x:0,y:0},s=function(t,e,i){if(void 0===i&&(i=r),n(e,t.x1,t.y1))return i.x=t.x1,i.y=t.y1,!0;if(n(e,t.x2,t.y2))return i.x=t.x2,i.y=t.y2,!0;var s=t.x2-t.x1,a=t.y2-t.y1,o=e.x-t.x1,h=e.y-t.y1,u=s*s+a*a,c=s,l=a;if(u>0){var f=(o*s+h*a)/u;c*=f,l*=f}return i.x=t.x1+c,i.y=t.y1+l,c*c+l*l<=u&&c*s+l*a>=0&&n(e,i.x,i.y)};t.exports=s},function(t,e){var i=function(t,e){return(t.x-e.x1)*(e.y2-e.y1)==(e.x2-e.x1)*(t.y-e.y1)};t.exports=i},function(t,e){var i=function(t,e){return void 0===e&&(e=[]),e.push({x:t.x,y:t.y}),e.push({x:t.right,y:t.y}),e.push({x:t.right,y:t.bottom}),e.push({x:t.x,y:t.bottom}),e};t.exports=i},function(t,e){var i=function(t,e){return void 0===e&&(e=[]),e.push({x:t.x1,y:t.y1}),e.push({x:t.x2,y:t.y2}),e.push({x:t.x3,y:t.y3}),e};t.exports=i},function(t,e,i){var n=i(0),r=new n({initialize:function(t,e,i,n){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.setTo(t,e,i,n)},setTo:function(t,e,i,n){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.x1=t,this.y1=e,this.x2=i,this.y2=n,this},getPointA:function(){return{x1:this.x1,y1:this.y1}},getPointB:function(){return{x1:this.x2,y1:this.y2}},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(t){this.x1<=this.x2?this.x1=t:this.x2=t}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(t){this.x1>this.x2?this.x1=t:this.x2=t}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(t){this.y1<=this.y2?this.y1=t:this.y2=t}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(t){this.y1>this.y2?this.y1=t:this.y2=t}}});t.exports=r},function(t,e,i){var n=i(11),r=i(50),s=i(43),a=function(t){var e=s(t)-n.TAU;return r(e,-Math.PI,Math.PI)};t.exports=a},function(t,e){var i=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)};t.exports=i},function(t,e){var i=function(t){return t.x*t.x+t.y*t.y};t.exports=i},function(t,e){var i=function(t,e,i){return t.x*=e,t.y*=i,t};t.exports=i},function(t,e,i){var n=i(206),r=function(t){if(0!==t.x&&0!==t.y){var e=n(t);t.x/=e,t.y/=e}return t};t.exports=r},function(t,e,i){var n=i(0),r=new n({initialize:function(t){this.area=0,this.points=[],t&&this.setTo(t)},setTo:function(t){if(this.area=0,this.points=[],!Array.isArray(t))return this;for(var e,i=Number.MAX_VALUE,n=0;n<t.length;n++)e={x:0,y:0},"number"==typeof t[n]?(e.x=t[n],e.y=t[n+1],n++):Array.isArray(void 0)?(e.x=t[n][0],e.y=t[n][1]):(e.x=t[n].x,e.y=t[n].y),this.points.push(e),e.y<i&&(i=e.y);return this.calculateArea(i),this},calculateArea:function(t){if(this.points.length<3)return this.area=0,this.area;for(var e,i,n=0,r=0;r<this.points.length-1;r++)e=this.points[r],i=this.points[r+1],n+=(i.x-e.x)*(e.y+i.y);return e=this.points[0],i=this.points[this.points.length-1],n+=(e.x-i.x)*(i.y+e.y),this.area=.5*-n,this.area}});t.exports=r},function(t,e){var i=function(t,e,i){for(var n=!1,r=-1,s=t.points.length-1;++r<t.points.length;s=r){var a=t.points[r].x,o=t.points[r].y,h=t.points[s].x,u=t.points[s].y;(o<=i&&i<u||u<=i&&i<o)&&e<(h-a)*(i-o)/(u-o)+a&&(n=!n)}return n};t.exports=i},function(t,e){var i=function(t,e,i){return t.x=e-t.width/2,t.y=i-t.height/2,t};t.exports=i},function(t,e){var i=function(t,e){return void 0===e&&(e={x:0,y:0}),e.x=(t.x1+t.x2+t.x3)/3,e.y=(t.y1+t.y2+t.y3)/3,e};t.exports=i},function(t,e){var i=function(t,e,i){return t.x1+=e,t.y1+=i,t.x2+=e,t.y2+=i,t.x3+=e,t.y3+=i,t};t.exports=i},function(t,e){function i(t,e,i,n){var r=t-i,s=e-n,a=r*r+s*s;return Math.sqrt(a)}var n=function(t,e){void 0===e&&(e={x:0,y:0});var n=t.x1,r=t.y1,s=t.x2,a=t.y2,o=t.x3,h=t.y3,u=i(o,h,s,a),c=i(n,r,o,h),l=i(s,a,n,r),f=u+c+l;return e.x=(n*u+s*c+o*l)/f,e.y=(r*u+a*c+h*l)/f,e};t.exports=n},function(t,e){var i=function(t,e){return Math.min(255,t+e)};t.exports=i},function(t,e){var i=function(t,e){return 0===e?e:Math.max(0,255-(255-t<<8)/e)};t.exports=i},function(t,e){var i=function(t,e){return 255===e?e:Math.min(255,(t<<8)/(255-e))};t.exports=i},function(t,e){var i=function(t,e){return e>t?t:e};t.exports=i},function(t,e){var i=function(t,e){return 255===e?e:Math.min(255,t*t/(255-e))};t.exports=i},function(t,e){var i=function(t,e){return e<128?2*t*e/255:255-2*(255-t)*(255-e)/255};t.exports=i},function(t,e,i){var n=i(217),r=i(218),s=function(t,e){return e<128?n(t,2*e):r(t,2*(e-128))};t.exports=s},function(t,e){var i=function(t,e){return e>t?e:t};t.exports=i},function(t,e,i){var n=i(225),r=function(t,e){return n(t,e)};t.exports=r},function(t,e){var i=function(t,e){return Math.max(0,t+e-255)};t.exports=i},function(t,e,i){var n=i(216),r=function(t,e){return n(t,e)};t.exports=r},function(t,e){var i=function(t){var e=t.toString(16);return 1===e.length?"0"+e:e};t.exports=i},function(t,e,i){(function(t){var e=function(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t};t.export=e}).call(e,i(947)(t))},function(t,e,i){var n=i(73),r=function(t,e,i){void 0===e&&(e=1),void 0===i&&(i=1);var r=Math.floor(6*t),s=6*t-r,a=Math.floor(i*(1-e)*255),o=Math.floor(i*(1-s*e)*255),h=Math.floor(i*(1-(1-s)*e)*255);i=Math.floor(i*=255);var u={r:i,g:i,b:i,color:0},c=r%6;return 0===c?(u.g=h,u.b=a):1===c?(u.r=o,u.b=a):2===c?(u.r=a,u.b=h):3===c?(u.r=a,u.g=o):4===c?(u.r=h,u.g=a):5===c&&(u.g=a,u.b=o),u.color=n(u.r,u.g,u.b),u};t.exports=r},function(t,e){function i(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function n(t,e){return t<e?-1:t>e?1:0}var r=function(t,e,s,a,o){for(s=s||0,a=a||t.length-1,o=o||n;a>s;){if(a-s>600){var h=a-s+1,u=e-s+1,c=Math.log(h),l=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*l*(h-l)/h)*(u-h/2<0?-1:1),d=Math.max(s,Math.floor(e-u*l/h+f)),p=Math.min(a,Math.floor(e+(h-u)*l/h+f));r(t,e,d,p,o)}var v=t[e],g=s,x=a;for(i(t,s,e),o(t[a],v)>0&&i(t,s,a);g<x;){for(i(t,g,x),g++,x--;o(t[g],v)<0;)g++;for(;o(t[x],v)>0;)x--}0===o(t[s],v)?i(t,s,x):(x++,i(t,x,a)),x<=e&&(s=x+1),e<=x&&(a=x-1)}};t.exports=r},function(t,e){var i=function(t,e){if(!(e>=t.length)){for(var i=t.length-1,n=t[e],r=e;r<i;r++)t[r]=t[r+1];return t.length=i,n}};t.exports=i},function(t,e,i){(function(e){i(233);var n=i(5),r=i(64),s={Actions:i(105),Create:i(324),DOM:i(331),Game:i(338),Event:i(1),EventDispatcher:i(29),Math:i(70),Geom:i(808),Graphics:i(927),Input:i(953),GameObjects:i(964),Scene:i(46),Loader:{ImageFile:i(42)},Sound:i(965),Structs:i(968),Class:i(0),Utils:i(970)};s=r(!1,s,n),t.exports=s,e.Phaser=s}).call(e,i(103))},function(t,e,i){i(234),i(235),i(236),i(237),i(238),i(239),i(240),i(241),i(242)},function(t,e){Array.prototype.forEach||(Array.prototype.forEach=function(t){"use strict";if(void 0===this||null===this)throw new TypeError;var e=Object(this),i=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var n=arguments.length>=2?arguments[1]:void 0,r=0;r<i;r++)r in e&&t.call(n,e[r],r,e)})},function(t,e){Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)})},function(t,e){!function(t,e,i){"use strict";function n(t){t&&(t.setTargetAtTime||(t.setTargetAtTime=t.setTargetValueAtTime))}window.hasOwnProperty("webkitAudioContext")&&!window.hasOwnProperty("AudioContext")&&(window.AudioContext=webkitAudioContext,AudioContext.prototype.hasOwnProperty("createGain")||(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),AudioContext.prototype.hasOwnProperty("createDelay")||(AudioContext.prototype.createDelay=AudioContext.prototype.createDelayNode),AudioContext.prototype.hasOwnProperty("createScriptProcessor")||(AudioContext.prototype.createScriptProcessor=AudioContext.prototype.createJavaScriptNode),AudioContext.prototype.hasOwnProperty("createPeriodicWave")||(AudioContext.prototype.createPeriodicWave=AudioContext.prototype.createWaveTable),AudioContext.prototype.internal_createGain=AudioContext.prototype.createGain,AudioContext.prototype.createGain=function(){var t=this.internal_createGain();return n(t.gain),t},AudioContext.prototype.internal_createDelay=AudioContext.prototype.createDelay,AudioContext.prototype.createDelay=function(t){var e=t?this.internal_createDelay(t):this.internal_createDelay();return n(e.delayTime),e},AudioContext.prototype.internal_createBufferSource=AudioContext.prototype.createBufferSource,AudioContext.prototype.createBufferSource=function(){var t=this.internal_createBufferSource();return t.start?(t.internal_start=t.start,t.start=function(e,i,n){void 0!==n?t.internal_start(e||0,i,n):t.internal_start(e||0,i||0)}):t.start=function(t,e,i){e||i?this.noteGrainOn(t||0,e,i):this.noteOn(t||0)},t.stop?(t.internal_stop=t.stop,t.stop=function(e){t.internal_stop(e||0)}):t.stop=function(t){this.noteOff(t||0)},n(t.playbackRate),t},AudioContext.prototype.internal_createDynamicsCompressor=AudioContext.prototype.createDynamicsCompressor,AudioContext.prototype.createDynamicsCompressor=function(){var t=this.internal_createDynamicsCompressor();return n(t.threshold),n(t.knee),n(t.ratio),n(t.reduction),n(t.attack),n(t.release),t},AudioContext.prototype.internal_createBiquadFilter=AudioContext.prototype.createBiquadFilter,AudioContext.prototype.createBiquadFilter=function(){var t=this.internal_createBiquadFilter();return n(t.frequency),n(t.detune),n(t.Q),n(t.gain),t},AudioContext.prototype.hasOwnProperty("createOscillator")&&(AudioContext.prototype.internal_createOscillator=AudioContext.prototype.createOscillator,AudioContext.prototype.createOscillator=function(){var t=this.internal_createOscillator();return t.start?(t.internal_start=t.start,t.start=function(e){t.internal_start(e||0)}):t.start=function(t){this.noteOn(t||0)},t.stop?(t.internal_stop=t.stop,t.stop=function(e){t.internal_stop(e||0)}):t.stop=function(t){this.noteOff(t||0)},t.setPeriodicWave||(t.setPeriodicWave=t.setWaveTable),n(t.frequency),n(t.detune),t})),window.hasOwnProperty("webkitOfflineAudioContext")&&!window.hasOwnProperty("OfflineAudioContext")&&(window.OfflineAudioContext=webkitOfflineAudioContext)}(window)},function(t,e){window.console||(window.console={},window.console.log=window.console.assert=function(){},window.console.warn=window.console.assert=function(){})},function(t,e){Function.prototype.bind||(Function.prototype.bind=function(){var t=Array.prototype.slice;return function(e){function i(){var s=r.concat(t.call(arguments));n.apply(this instanceof i?this:e,s)}var n=this,r=t.call(arguments,1);if("function"!=typeof n)throw new TypeError;return i.prototype=function t(e){if(e&&(t.prototype=e),!(this instanceof t))return new t}(n.prototype),i}}())},function(t,e){Math.trunc||(Math.trunc=function(t){return t<0?Math.ceil(t):Math.floor(t)})},function(t,e){!function(){if("performance"in window==!1&&(window.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now"in window.performance==!1){var t=Date.now();performance.timing&&performance.timing.navigationStart&&(t=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-t}}}()},function(t,e,i){(function(t){if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!t.performance||!t.performance.now){var e=Date.now();t.performance||(t.performance={}),t.performance.now=function(){return Date.now()-e}}for(var i=Date.now(),n=["ms","moz","webkit","o"],r=0;r<n.length&&!t.requestAnimationFrame;++r)t.requestAnimationFrame=t[n[r]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[n[r]+"CancelAnimationFrame"]||t[n[r]+"CancelRequestAnimationFrame"];t.requestAnimationFrame||(t.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),n=16+i-e;return n<0&&(n=0),i=e,setTimeout(function(){i=Date.now(),t(performance.now())},n)}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){clearTimeout(t)})}).call(e,i(103))},function(t,e){if("function"!=typeof window.Uint32Array&&"object"!=typeof window.Uint32Array){var i=function(t){var e=new Array;window[t]=function(t){if("number"==typeof t){Array.call(this,t),this.length=t;for(var e=0;e<this.length;e++)this[e]=0}else{Array.call(this,t.length),this.length=t.length;for(var e=0;e<this.length;e++)this[e]=t[e]}},window[t].prototype=e,window[t].constructor=window[t]};i("Float32Array"),i("Uint32Array"),i("Uint16Array"),i("Int16Array"),i("ArrayBuffer")}},function(t,e){var i=function(t,e){for(var i=0;i<t.length;i++)t[i].angle+=e;return t};t.exports=i},function(t,e){var i=function(t,e,i){for(var n=0;n<t.length;n++){var r=t[n];e.call(i,r)}return t};t.exports=i},function(t,e){var i=function(t,e,i){for(var n=i;n<t.length;n++){var r=t[n],s=!0;for(var a in e)r[a]!==e[a]&&(s=!1);if(s)return r}return null};t.exports=i},function(t,e,i){var n=i(106),r=i(247),s=i(65),a=i(2),o=new s({sys:{sortChildrenFlag:!1}},0,0,1,1),h=function(t,e){var i=a(e,"width",-1),s=a(e,"height",-1),h=a(e,"cellWidth",1),u=a(e,"cellHeight",h),c=a(e,"position",n.TOP_LEFT),l=a(e,"x",0),f=a(e,"y",0),d=0,p=0,v=i*h,g=s*u;o.setPosition(l,f),o.setSize(h,u);for(var x=0;x<t.length;x++)if(r(t[x],o,c),-1===i)p+=u,o.y+=u,p===g&&(p=0,o.x+=h,o.y=f);else if(-1===s)d+=h,o.x+=h,d===v&&(d=0,o.x=l,o.y+=u);else if(d+=h,o.x+=h,d===v&&(d=0,p+=u,o.x=l,o.y+=u,p===g))break;return t};t.exports=h},function(t,e,i){var n=i(106),r=[];r[n.BOTTOM_CENTER]=i(107),r[n.BOTTOM_LEFT]=i(108),r[n.BOTTOM_RIGHT]=i(109),r[n.CENTER]=i(110),r[n.LEFT_CENTER]=i(112),r[n.RIGHT_CENTER]=i(113),r[n.TOP_CENTER]=i(114),r[n.TOP_LEFT]=i(115),r[n.TOP_RIGHT]=i(116);var s=function(t,e,i,n,s){return r[i](t,e,n,s)};t.exports=s},function(t,e,i){var n=i(49),r={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(t,e,i,r){return void 0===t&&(t=1),void 0===e?this.alpha=t:(this._alphaTL=n(t,0,1),this._alphaTR=n(e,0,1),this._alphaBL=n(i,0,1),this._alphaBR=n(r,0,1)),this},alpha:{get:function(){return this._alpha},set:function(t){var e=n(t,0,1);this._alpha=e,this._alphaTL=e,this._alphaTR=e,this._alphaBL=e,this._alphaBR=e,0===e?this.renderFlags&=-3:this.renderFlags|=2}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(t){var e=n(t,0,1);this._alphaTL=e,0!==e&&(this.renderFlags|=2)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(t){var e=n(t,0,1);this._alphaTR=e,0!==e&&(this.renderFlags|=2)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(t){var e=n(t,0,1);this._alphaBL=e,0!==e&&(this.renderFlags|=2)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(t){var e=n(t,0,1);this._alphaBR=e,0!==e&&(this.renderFlags|=2)}}};t.exports=r},function(t,e,i){var n=i(0),r=i(250),s=new n({initialize:function(t){this.parent=t,this.animationManager=t.scene.sys.anims,this.animationManager.events.once("REMOVE_ANIMATION_EVENT",this.remove.bind(this)),this.isPlaying=!1,this.currentAnim=null,this.currentFrame=null,this._timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this._delay=0,this._repeat=0,this._repeatDelay=0,this._yoyo=!1,this.forward=!0,this.accumulator=0,this.nextTick=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._callbackArgs=[t,null],this._updateParams=[]},destroy:function(){},delay:r.Delay,delayedPlay:r.DelayedPlay,getCurrentKey:r.GetCurrentKey,load:r.Load,pause:r.Pause,paused:r.Paused,play:r.Play,progress:r.Progress,remove:r.Remove,repeat:r.Repeat,repeatDelay:r.RepeatDelay,restart:r.Restart,resume:r.Resume,stop:r.Stop,timeScale:r.TimeScale,totalFrames:r.TotalFrames,totalProgress:r.TotalProgress,update:r.Update,updateFrame:r.UpdateFrame,yoyo:r.Yoyo});t.exports=s},function(t,e,i){t.exports={Delay:i(251),DelayedPlay:i(252),GetCurrentKey:i(253),Load:i(254),Pause:i(255),Paused:i(256),Play:i(257),Progress:i(258),Remove:i(259),Repeat:i(260),RepeatDelay:i(261),Restart:i(262),Resume:i(263),Stop:i(264),TimeScale:i(265),TotalFrames:i(266),TotalProgress:i(267),Update:i(268),UpdateFrame:i(269),Yoyo:i(270)}},function(t,e){var i=function(t){return void 0===t?this._delay:(this._delay=t,this)};t.exports=i},function(t,e){var i=function(t,e,i){return this.play(e,i),this.nextTick+=1e3*t,this};t.exports=i},function(t,e){var i=function(){if(this.currentAnim)return this.currentAnim.key};t.exports=i},function(t,e){var i=function(t,e){return void 0===e&&(e=0),this.isPlaying&&this.stop(),this.animationManager.load(this,t,e),this};t.exports=i},function(t,e){var i=function(t){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),void 0!==t&&this.updateFrame(t),this};t.exports=i},function(t,e){var i=function(t){return void 0!==t?t?this.pause():this.resume():this._paused};t.exports=i},function(t,e){var i=function(t,e,i){if(void 0===e&&(e=!1),void 0===i&&(i=0),e&&this.isPlaying&&this.currentAnim.key===t)return this;this.load(t,i);var n=this.currentAnim;return this.repeatCounter=-1===this._repeat?Number.MAX_SAFE_INTEGER:this._repeat,n.getFirstTick(this),this.forward=!0,this.isPlaying=!0,this.pendingRepeat=!1,n.showOnStart&&(this.parent.visible=!0),n.onStart&&n.onStart.apply(n.callbackScope,this._callbackArgs.concat(n.onStartParams)),this};t.exports=i},function(t,e){var i=function(t){if(void 0===t){var e=this.currentFrame.progress;return this.forward||(e=1-e),e}return this};t.exports=i},function(t,e){var i=function(t){if(void 0===t&&(t=this.currentAnim),this.isPlaying&&t.key===this.currentAnim.key){this.stop();var e=this.parent,i=this.currentAnim.frames[0];this.currentFrame=i,e.texture=i.frame.texture,e.frame=i.frame}};t.exports=i},function(t,e){var i=function(t){return void 0===t?this._repeat:(this._repeat=t,this.repeatCounter=0,this)};t.exports=i},function(t,e){var i=function(t){return void 0===t?this._repeatDelay:(this._repeatDelay=t,this)};t.exports=i},function(t,e){var i=function(t){return void 0===t&&(t=!1),this.currentAnim.getFirstTick(this,t),this.forward=!0,this.isPlaying=!0,this.pendingRepeat=!1,this.updateFrame(this.currentAnim.frames[0]),this};t.exports=i},function(t,e){var i=function(t){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),void 0!==t&&this.updateFrame(t),this};t.exports=i},function(t,e){var i=function(t){void 0===t&&(t=!1),this.isPlaying=!1;var e=this.currentAnim;return t&&e.onComplete&&e.onComplete.apply(e.callbackScope,this._callbackArgs.concat(e.onCompleteParams)),this};t.exports=i},function(t,e){var i=function(t){return void 0===t?this._timeScale:(this._timeScale=t,this)};t.exports=i},function(t,e){var i=function(){return this.currentAnim.frames.length};t.exports=i},function(t,e){var i=function(){};t.exports=i},function(t,e){var i=function(t,e){this.isPlaying&&!this.currentAnim.paused&&(this.accumulator+=e*this._timeScale,this.accumulator>=this.nextTick&&this.currentAnim.setFrame(this))};t.exports=i},function(t,e){var i=function(t){var e=this.parent;if(this.currentFrame=t,e.texture=t.frame.texture,e.frame=t.frame,this.isPlaying){t.setAlpha&&(e.alpha=t.alpha);var i=this.currentAnim;i.onUpdate&&i.onUpdate.apply(i.callbackScope,this._updateParams),t.onUpdate&&t.onUpdate(e,t)}};t.exports=i},function(t,e){var i=function(t){return void 0===t?this._yoyo:(this._yoyo=t,this)};t.exports=i},function(t,e,i){var n=i(31),r={_blendMode:n.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(t){t>=0&&(this._blendMode=t)}},setBlendMode:function(t){return this.blendMode=t,this}};t.exports=r},function(t,e){var i={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(t){this.scaleX=t/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(t){this.scaleY=t/this.height}}};t.exports=i},function(t,e){var i={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(t){return this.flipX=t,this},setFlipY:function(t){return this.flipY=t,this},setFlip:function(t,e){return this.flipX=t,this.flipY=e,this},resetFlip:function(){this.flipX=!1,this.flipY=!1}};t.exports=i},function(t,e){var i={getBounds:function(t){void 0===t&&(t={x:0,y:0,width:0,height:0});var e=this.x,i=this.y,n=this.displayWidth,r=this.displayHeight,s=this.rotation,a=n*Math.cos(s),o=r*Math.cos(s),h=n*Math.sin(s),u=r*Math.sin(s),c=e,l=e,f=i,d=i;return s>0?s<1.5707963267948966?(d=i+o+h,c=e-u,l=e+a):(f=i+o,d=i+h,c=e-u+a):s>-1.5707963267948966?(f=i+h,d=i+o,l=e+a-u):(f=i+h+o,c=e+a,l=e-u),t.x=c,t.y=f,t.width=l-c,t.height=d-f,t}};t.exports=i},function(t,e){var i={originX:.5,originY:.5,displayOriginX:0,displayOriginY:0,setOrigin:function(t,e){return void 0===t&&(t=.5),void 0===e&&(e=t),this.originX=t,this.originY=e,this.updateOrigin()},setDisplayOrigin:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.displayOriginX=t,this.displayOriginY=e,this.originX=this.width/t,this.originY=this.height/e,this},updateOrigin:function(){return this.displayOriginX=Math.round(this.originX*this.width),this.displayOriginY=Math.round(this.originY*this.height),this}};t.exports=i},function(t,e){var i={renderTarget:null};t.exports=i},function(t,e,i){var n=i(26),r={_scaleMode:n.DEFAULT,scaleMode:{get:function(){return this._scaleMode},set:function(t){t!==n.LINEAR&&t!==n.NEAREST||(this._scaleMode=t)}},setScaleMode:function(t){return this.scaleMode=t,this}};t.exports=r},function(t,e){var i={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(t,e){return void 0===e&&(e=t),this.scrollFactorX=t,this.scrollFactorY=e,this}};t.exports=i},function(t,e){var i={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.frame.realWidth},set:function(t){this.scaleX=t/this.frame.realWidth}},displayHeight:{get:function(){return this.scaleY*this.frame.realHeight},set:function(t){this.scaleY=t/this.frame.realHeight}},setSizeToFrame:function(t){return void 0===t&&(t=this.frame),this.width=t.realWidth,this.height=t.realHeight,this},setSize:function(t,e){return this.width=t,this.height=e,this},setDisplaySize:function(t,e){return this.displayWidth=t,this.displayHeight=e,this}};t.exports=i},function(t,e){var i={texture:null,frame:null,setTexture:function(t,e){return this.texture=this.scene.sys.textures.get(t),this.setFrame(e)},setFrame:function(t){return this.frame=this.texture.get(t),this.frame.cutWidth&&this.frame.cutHeight?this.renderFlags|=8:this.renderFlags&=-9,this}};t.exports=i},function(t,e){var i=function(t){return(t>>16)+(65280&t)+((255&t)<<16)},n={_tintTL:16777215,_tintTR:16777215,_tintBL:16777215,_tintBR:16777215,clearTint:function(){return this.setTint(16777215),this},setTint:function(t,e,n,r){return void 0===t&&(t=16777215),void 0===e&&(e=t,n=t,r=t),this._tintTL=i(t),this._tintTR=i(e),this._tintBL=i(n),this._tintBR=i(r),this},tintTopLeft:{get:function(){return this._tintTL},set:function(t){this._tintTL=i(t)}},tintTopRight:{get:function(){return this._tintTR},set:function(t){this._tintTR=i(t)}},tintBottomLeft:{get:function(){return this._tintBL},set:function(t){this._tintBL=i(t)}},tintBottomRight:{get:function(){return this._tintBR},set:function(t){this._tintBR=i(t)}},tint:{set:function(t){this.setTint(t,t,t,t)}}};t.exports=n},function(t,e){var i=function(t){var e={name:t.name,type:t.type,x:t.x,y:t.y,z:t.z,scale:{x:t.scaleX,y:t.scaleY},origin:{x:t.originX,y:t.originY},flipX:t.flipX,flipY:t.flipY,rotation:t.rotation,alpha:t.alpha,visible:t.visible,scaleMode:t.scaleMode,blendMode:t.blendMode,textureKey:"",frameKey:"",data:{}};return t.texture&&(e.textureKey=t.texture.key,e.frameKey=t.frame.name),e};t.exports=i},function(t,e,i){var n=i(11),r=i(117),s=i(118),a={_scaleX:1,_scaleY:1,_rotation:0,_z:0,x:0,y:0,z:{get:function(){return this._z},set:function(t){this.scene.sys.sortChildrenFlag=!0,this._z=t}},scaleX:{get:function(){return this._scaleX},set:function(t){this._scaleX=t,0===this._scaleX?this.renderFlags&=-5:this.renderFlags|=4}},scaleY:{get:function(){return this._scaleY},set:function(t){this._scaleY=t,0===this._scaleY?this.renderFlags&=-5:this.renderFlags|=4}},angle:{get:function(){return s(this._rotation*n.RAD_TO_DEG)},set:function(t){this.rotation=s(t)*n.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(t){this._rotation=r(t)}},setPosition:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this},setRotation:function(t){return void 0===t&&(t=0),this.rotation=t,this},setAngle:function(t){return void 0===t&&(t=0),this.angle=t,this},setScale:function(t,e){return void 0===t&&(t=1),void 0===e&&(e=t),this.scaleX=t,this.scaleY=e,this},setZ:function(t){return void 0===t&&(t=0),this.z=t,this}};t.exports=a},function(t,e){var i={_visible:!0,visible:{get:function(){return this._visible},set:function(t){t?(this._visible=!0,this.renderFlags|=1):(this._visible=!1,this.renderFlags&=-2)}},setVisible:function(t){return this.visible=t,this}};t.exports=i},function(t,e,i){var n=i(0),r=new n({initialize:function(t,e){this.manager=t.sys.dataStore,this.gameObject=e},set:function(t,e){return this.manager.set(this.gameObject,t,e)},get:function(t){return this.manager.get(this.gameObject,t)},getAll:function(){return this.manager.getAll(this.gameObject)},query:function(t){return this.manager.query(this.gameObject,t)},before:function(t,e,i){return this.manager.before(this.gameObject,t,e,i)},after:function(t,e,i){return this.manager.after(this.gameObject,t,e,i)},each:function(t,e){for(var i=[this.gameObject,null,void 0],n=2;n<arguments.length;n++)i.push(arguments[n]);return this.manager.each(this.gameObject,t,e,i)},merge:function(t,e){return this.manager.merge(this.gameObject,t,e)},remove:function(t){return this.manager.remove(this.gameObject,t)},removeListeners:function(t){return this.manager.removeListeners(this.gameObject,t)},pop:function(t){return this.manager.pop(this.gameObject,t)},has:function(t){return this.manager.has(this.gameObject,t)},reset:function(){return this.manager.reset(this.gameObject)},freeze:function(){this.manager.freeze(this.gameObject)},unfreeze:function(){this.manager.unfreeze(this.gameObject)},destroy:function(){this.manager.kill(this.gameObject),this.manager=null,this.gameObject=null}});t.exports=r},function(t,e){var i=function(t,e){for(var i=0;i<t.length;i++)t[i].alpha+=e;return t};t.exports=i},function(t,e){var i=function(t,e){for(var i=0;i<t.length;i++)t[i].x+=e;return t};t.exports=i},function(t,e){var i=function(t,e,i){for(var n=0;n<t.length;n++)t[n].x+=e,t[n].y+=i;return t};t.exports=i},function(t,e){var i=function(t,e){for(var i=0;i<t.length;i++)t[i].y+=e;return t};t.exports=i},function(t,e){var i=function(t,e,i,n){void 0===i&&(i=0),void 0===n&&(n=6.28);for(var r=i,s=(n-i)/t.length,a=0;a<t.length;a++)t[a].x=e.x+e.radius*Math.cos(r),t[a].y=e.y+e.radius*Math.sin(r),r+=s;return t};t.exports=i},function(t,e){var i=function(t,e,i,n){void 0===i&&(i=0),void 0===n&&(n=6.28);for(var r=i,s=(n-i)/t.length,a=e.width/2,o=e.height/2,h=0;h<t.length;h++)t[h].x=e.x+a*Math.cos(r),t[h].y=e.y+o*Math.sin(r),r+=s;return t};t.exports=i},function(t,e,i){var n=i(66),r=function(t,e){for(var i=n(e),r=i.length/t.length,s=0,a=0;a<t.length;a++){var o=t[a],h=i[Math.floor(s)];o.x=h[0],o.y=h[1],s+=r}return t};t.exports=r},function(t,e,i){var n=i(119),r=i(121),s=i(122),a=function(t,e,i){void 0===i&&(i=0);var a=n(e,!1,t.length);i>0?r(a,i):i<0&&s(a,Math.abs(i));for(var o=0;o<t.length;o++)t[o].x=a[o].x,t[o].y=a[o].y;return t};t.exports=a},function(t,e,i){var n=i(66),r=function(t,e,i){var r=n({x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2},i),s=n({x1:e.x2,y1:e.y2,x2:e.x3,y2:e.y3},i),a=n({x1:e.x3,y1:e.y3,x2:e.x1,y2:e.y1},i);r.pop(),s.pop(),a.pop(),r=r.concat(s,a);for(var o=r.length/t.length,h=0,u=0;u<t.length;u++){var c=t[u],l=r[Math.floor(h)];c.x=l[0],c.y=l[1],h+=o}return t};t.exports=r},function(t,e){var i=function(t,e,i){for(var n=0;n<t.length;n++)t[n].anims.play(e,i);return t};t.exports=i},function(t,e,i){var n=i(123),r=function(t,e){for(var i=0;i<t.length;i++)n(e,t[i]);return t};t.exports=r},function(t,e,i){var n=i(124),r=function(t,e){for(var i=0;i<t.length;i++)n(e,t[i]);return t};t.exports=r},function(t,e,i){var n=i(125),r=function(t,e){for(var i=0;i<t.length;i++)n(e,t[i]);return t};t.exports=r},function(t,e,i){var n=i(126),r=function(t,e){for(var i=0;i<t.length;i++)n(e,t[i]);return t};t.exports=r},function(t,e,i){var n=i(127),r=function(t,e){for(var i=0;i<t.length;i++)n(e,t[i]);return t};t.exports=r},function(t,e){var i=function(t,e,i){void 0===i&&(i=0);for(var n=0;n<t.length;n++)t[n].rotation+=e+n*i;return t};t.exports=i},function(t,e,i){var n=i(67),r=i(51),s=function(t,e,i){for(var s=e.x,a=e.y,o=0;o<t.length;o++){var h=t[o];n(h,s,a,i,Math.max(1,r(h.x,h.y,s,a)))}return t};t.exports=s},function(t,e,i){var n=i(67),r=function(t,e,i,r){for(var s=e.x,a=e.y,o=0;o<t.length;o++)n(t[o],s,a,i,r);return t};t.exports=r},function(t,e){var i=function(t,e){for(var i=0;i<t.length;i++)t[i].scaleX+=e;return t};t.exports=i},function(t,e){var i=function(t,e,i){for(var n=0;n<t.length;n++)t[n].scaleX+=e,t[n].scaleY+=i;return t};t.exports=i},function(t,e){var i=function(t,e){for(var i=0;i<t.length;i++)t[i].scaleY+=e;return t};t.exports=i},function(t,e){var i=function(t,e,i){void 0===i&&(i=0);for(var n=0;n<t.length;n++)t[n].alpha=e+n*i;return t};t.exports=i},function(t,e){var i=function(t,e,i){for(var n=0;n<t.length;n++)t[n].setHitArea(e,i);return t};t.exports=i},function(t,e){var i=function(t,e,i){for(var n=0;n<t.length;n++)t[n].setOrigin(e,i);return t};t.exports=i},function(t,e){var i=function(t,e,i){void 0===i&&(i=0);for(var n=0;n<t.length;n++)t[n].rotation=e+n*i;return t};t.exports=i},function(t,e){var i=function(t,e,i,n,r){void 0===n&&(n=0),void 0===r&&(r=0);for(var s=0;s<t.length;s++)t[s].setScale(e+s*n,i+s*r);return t};t.exports=i},function(t,e){var i=function(t,e,i){void 0===i&&(i=0);for(var n=0;n<t.length;n++)t[n].scaleX=e+n*i;return t};t.exports=i},function(t,e){var i=function(t,e,i){void 0===i&&(i=0);for(var n=0;n<t.length;n++)t[n].scaleY=e+n*i;return t};t.exports=i},function(t,e){var i=function(t,e){for(var i=0;i<t.length;i++)t[i].visible=e;return t};t.exports=i},function(t,e){var i=function(t,e,i){void 0===i&&(i=0);for(var n=0;n<t.length;n++)t[n].x=e+n*i;return t};t.exports=i},function(t,e){var i=function(t,e,i,n,r){void 0===n&&(n=0),void 0===r&&(r=0);for(var s=0;s<t.length;s++)t[s].x=e+s*n,t[s].y=i+s*r;return t};t.exports=i},function(t,e){var i=function(t,e,i){void 0===i&&(i=0);for(var n=0;n<t.length;n++)t[n].y=e+n*i;return t};t.exports=i},function(t,e){var i=function(t,e,i){void 0===i&&(i=0);for(var n=0;n<t.length;n++)t[n].z=e+n*i;return t};t.exports=i},function(t,e){var i=function(t,e,i,n,r){void 0===n&&(n=0),void 0===r&&(r={x:0,y:0});var s,a;if(t.length>1){var o,h,u,c;if(0===n){var l=t.length-1;for(s=t[l].x,a=t[l].y,o=l-1;o>=0;o--)c=t[o],h=c.x,u=c.y,c.x=s,c.y=a,s=h,a=u;t[l].x=e,t[l].y=i}else{for(s=t[0].x,a=t[0].y,o=1;o<t.length;o++)c=t[o],h=c.x,u=c.y,c.x=s,c.y=a,s=h,a=u;t[0].x=e,t[0].y=i}}else s=t[0].x,a=t[0].y,t[0].x=e,t[0].y=i;return r.x=s,r.y=a,r};t.exports=i},function(t,e,i){var n=i(128),r=function(t,e,i,r,s){void 0===s&&(s=!1);var a,o=Math.abs(r-i)/t.length;if(s)for(a=0;a<t.length;a++)t[a][e]+=n(a*o,i,r);else for(a=0;a<t.length;a++)t[a][e]=n(a*o,i,r);return t};t.exports=r},function(t,e,i){var n=i(129),r=function(t,e,i,r,s){void 0===s&&(s=!1);var a,o=Math.abs(r-i)/t.length;if(s)for(a=0;a<t.length;a++)t[a][e]+=n(a*o,i,r);else for(a=0;a<t.length;a++)t[a][e]=n(a*o,i,r);return t};t.exports=r},function(t,e){var i=function(t,e,i,n,r){void 0===r&&(r=!1);var s,a=Math.abs(n-i)/t.length;if(r)for(s=0;s<t.length;s++)t[s][e]+=s*a;else for(s=0;s<t.length;s++)t[s][e]=s*a;return t};t.exports=i},function(t,e){var i=function(t){for(var e=0;e<t.length;e++)t[e].visible=!t[e].visible;return t};t.exports=i},function(t,e,i){t.exports={GenerateTexture:i(130),Grid:i(325),Palettes:i(326)}},function(t,e){},function(t,e,i){t.exports={ARNE16:i(131),C64:i(327),CGA:i(328),JMP:i(329),MSX:i(330)}},function(t,e){t.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},function(t,e){t.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},function(t,e){t.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},function(t,e){t.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},function(t,e,i){t.exports={AddEventListener:i(332),AddToDOM:i(132),CanvasInterpolation:i(69),CanvasPool:i(12),DOMContentLoaded:i(133),ParseXML:i(134),RemoveEventListener:i(334),RemoveFromDOM:i(335),RequestAnimationFrame:i(135),Smoothing:i(68),TouchAction:i(336),UserSelect:i(337)}},function(t,e){var i=function(t,e,i,n){void 0===n&&(n=!1),t.addEventListener(e,i,n)};t.exports=i},function(t,e){function i(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function r(t){if(c===setTimeout)return setTimeout(t,0);if((c===i||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function s(t){if(l===clearTimeout)return clearTimeout(t);if((l===n||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(e){try{return l.call(null,t)}catch(e){return l.call(this,t)}}}function a(){v&&d&&(v=!1,d.length?p=d.concat(p):g=-1,p.length&&o())}function o(){if(!v){var t=r(a);v=!0;for(var e=p.length;e;){for(d=p,p=[];++g<e;)d&&d[g].run();g=-1,e=p.length}d=null,v=!1,s(t)}}function h(t,e){this.fun=t,this.array=e}function u(){}var c,l,f=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:i}catch(t){c=i}try{l="function"==typeof clearTimeout?clearTimeout:n}catch(t){l=n}}();var d,p=[],v=!1,g=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];p.push(new h(t,e)),1!==p.length||v||r(o)},h.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=u,f.addListener=u,f.once=u,f.off=u,f.removeListener=u,f.removeAllListeners=u,f.emit=u,f.prependListener=u,f.prependOnceListener=u,f.listeners=function(t){return[]},f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(t,e){var i=function(t,e,i){t.removeEventListener(e,i)};t.exports=i},function(t,e){var i=function(t){t.parentNode&&t.parentNode.removeChild(t)};t.exports=i},function(t,e){var i=function(t,e){return void 0===e&&(e="none"),t.style.msTouchAction=e,t.style["ms-touch-action"]=e,t.style["touch-action"]=e,t};t.exports=i},function(t,e){var i=function(t,e){return void 0===e&&(e="none"),["-webkit-","-khtml-","-moz-","-ms-",""].forEach(function(i){t.style[i+"user-select"]=e}),t.style["-webkit-touch-callout"]=e,t.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",t};t.exports=i},function(t,e,i){var n=i(0),r=i(339),s=i(386),a=i(388),o=i(25),h=i(132),u=i(133),c=i(29),l=i(395),f=i(396),d=i(433),p=i(75),v=i(463),g=i(468),x=i(490),m=i(793),y=i(807),E=new n({initialize:function(t){this.config=new r(t),this.renderer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new c,this.anims=new f(this),this.textures=new m(this),this.cache=new v(this),this.registry=new p(this),this.input=new g(this,this.config),this.scene=new x(this,this.config.sceneConfig),this.device=a,this.loop=new y(this,this.config.fps),this.onStepCallback=o,u(this.boot.bind(this)),window.game=this},boot:function(){this.isBooted=!0,this.config.preBoot(),s(this),d(this),h(this.canvas,this.config.parent),this.anims.boot(this.textures),this.scene.boot(),this.input.boot(),this.isRunning=!0,this.config.postBoot(),this.loop.start(this.step.bind(this)),l(this.events),this.events.on("HIDDEN",this.onHidden.bind(this)),this.events.on("VISIBLE",this.onVisible.bind(this)),this.events.on("ON_BLUR",this.onBlur.bind(this)),this.events.on("ON_FOCUS",this.onFocus.bind(this))},step:function(t,e){var i=this.scene.active,n=this.renderer;this.input.update(t,e),this.onStepCallback();for(var r=0;r<i.length;r++)i[r].scene.sys.step(t,e);for(n.preRender(),r=0;r<i.length;r++)i[r].scene.sys.render(0,n);n.postRender()},onHidden:function(){this.loop.pause()},onVisible:function(){this.loop.resume()},onBlur:function(){this.loop.blur()},onFocus:function(){this.loop.focus()}});t.exports=E},function(t,e,i){var n=i(0),r=i(5),s=i(2),a=i(70),o=i(25),h=i(52),u=new n({initialize:function(t){void 0===t&&(t={});var e=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"];this.width=s(t,"width",1024),this.height=s(t,"height",768),this.zoom=s(t,"zoom",1),this.resolution=s(t,"resolution",1),this.renderType=s(t,"type",r.AUTO),this.parent=s(t,"parent",null),this.canvas=s(t,"canvas",null),this.canvasStyle=s(t,"canvasStyle",null),this.sceneConfig=s(t,"scene",null),this.seed=s(t,"seed",[(Date.now()*Math.random()).toString()]),a.RND.init(this.seed),this.gameTitle=s(t,"title",""),this.gameURL=s(t,"url","http://phaser.io"),this.gameVersion=s(t,"version",""),this.inputKeyboard=s(t,"input.keyboard",!0),this.inputKeyboardEventTarget=s(t,"input.keyboard.target",window),this.inputMouse=s(t,"input.mouse",!0),this.inputMouseEventTarget=s(t,"input.mouse.target",null),this.inputTouch=s(t,"input.touch",!0),this.inputTouchEventTarget=s(t,"input.touch.target",null),this.inputGamepad=s(t,"input.gamepad",!0),this.disableContextMenu=s(t,"disableContextMenu",!1),this.hideBanner=!1===s(t,"banner",null),this.hidePhaser=s(t,"banner.hidePhaser",!1),this.bannerTextColor=s(t,"banner.text","#ffffff"),this.bannerBackgroundColor=s(t,"banner.background",e),this.fps=s(t,"fps",null),this.pixelArt=s(t,"pixelArt",!1),this.transparent=s(t,"transparent",!1),this.clearBeforeRender=s(t,"clearBeforeRender",!0),this.backgroundColor=h(s(t,"backgroundColor",0)),this.preserveDrawingBuffer=h(s(t,"preserveDrawingBuffer",!1)),this.preBoot=s(t,"callbacks.preBoot",o),this.postBoot=s(t,"callbacks.postBoot",o),this.useTicker=s(t,"useTicker",!1),this.physics=s(t,"physics",{}),this.defaultPhysicsSystem=s(this.physics,"default",!1);var i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=s(t,"images.default",i+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=s(t,"images.missing",i+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg==")}});t.exports=u},function(t,e,i){var n=i(0),r=new n({initialize:function(t){this.c=1,this.s0=0,this.s1=0,this.s2=0,this.sign=[-1,1],t&&this.init(t)},rnd:function(){var t=2091639*this.s0+2.3283064365386963e-10*this.c;return this.c=0|t,this.s0=this.s1,this.s1=this.s2,this.s2=t-this.c,this.s2},hash:function(t){var e,i=4022871197;t=t.toString();for(var n=0;n<t.length;n++)i+=t.charCodeAt(n),e=.02519603282416938*i,i=e>>>0,e-=i,e*=i,i=e>>>0,e-=i,i+=4294967296*e;return 2.3283064365386963e-10*(i>>>0)},init:function(t){"string"==typeof t?this.state(t):this.sow(t)},sow:function(t){if(this.s0=this.hash(" "),this.s1=this.hash(this.s0),this.s2=this.hash(this.s1),this.c=1,t)for(var e=0;e<t.length&&null!=t[e];e++){var i=t[e];this.s0-=this.hash(i),this.s0+=~~(this.s0<0),this.s1-=this.hash(i),this.s1+=~~(this.s1<0),this.s2-=this.hash(i),this.s2+=~~(this.s2<0)}},integer:function(){return 4294967296*this.rnd()},frac:function(){return this.rnd()+1.1102230246251565e-16*(2097152*this.rnd()|0)},real:function(){return this.integer()+this.frac()},integerInRange:function(t,e){return Math.floor(this.realInRange(0,e-t+1)+t)},between:function(t,e){return this.integerInRange(t,e)},realInRange:function(t,e){return this.frac()*(e-t)+t},normal:function(){return 1-2*this.frac()},uuid:function(){var t="",e="";for(e=t="";t++<36;e+=~t%5|3*t&4?(15^t?8^this.frac()*(20^t?16:4):4).toString(16):"-");return e},pick:function(t){return t[this.integerInRange(0,t.length-1)]},sign:function(){return this.pick(this.sign)},weightedPick:function(t){return t[~~(Math.pow(this.frac(),2)*(t.length-1)+.5)]},timestamp:function(t,e){return this.realInRange(t||9466848e5,e||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.141592653589793,3.141592653589793)},state:function(t){return"string"==typeof t&&t.match(/^!rnd/)&&(t=t.split(","),this.c=parseFloat(t[1]),this.s0=parseFloat(t[2]),this.s1=parseFloat(t[3]),this.s2=parseFloat(t[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")}});t.exports=r},function(t,e,i){t.exports={Between:i(342),BetweenY:i(343),BetweenPoints:i(344),BetweenPointsY:i(345),Reverse:i(346),RotateTo:i(347),ShortestBetween:i(348),Normalize:i(136),Wrap:i(117),WrapDegrees:i(118)}},function(t,e){var i=function(t,e,i,n){return Math.atan2(n-e,i-t)};t.exports=i},function(t,e){var i=function(t,e,i,n){return Math.atan2(i-t,n-e)};t.exports=i},function(t,e){var i=function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)};t.exports=i},function(t,e){var i=function(t,e){return Math.atan2(e.x-t.x,e.y-t.y)};t.exports=i},function(t,e,i){var n=i(136),r=function(t){return n(t+Math.PI)};t.exports=r},function(t,e,i){var n=i(11),r=function(t,e,i){return void 0===i&&(i=.05),t===e?t:(Math.abs(e-t)<=i||Math.abs(e-t)>=n.PI2-i?t=e:(Math.abs(e-t)>Math.PI&&(e<t?e+=n.PI2:e-=n.PI2),e>t?t+=i:e<t&&(t-=i)),t)};t.exports=r},function(t,e){var i=function(t,e){var i=e-t;return 0===i?0:i-360*Math.floor((i- -180)/360)};t.exports=i},function(t,e,i){t.exports={Between:i(51),Power:i(350),Squared:i(351)}},function(t,e){var i=function(t,e,i,n,r){return void 0===r&&(r=2),Math.sqrt(Math.pow(i-t,r)+Math.pow(n-e,r))};t.exports=i},function(t,e){var i=function(t,e,i,n){var r=t-i,s=e-n;return r*r+s*s};t.exports=i},function(t,e,i){t.exports={Back:i(137),Bounce:i(138),Circular:i(139),Cubic:i(140),Elastic:i(141),Expo:i(142),Linear:i(143),Quadratic:i(144),Quartic:i(145),Quintic:i(146),Sine:i(147)}},function(t,e,i){t.exports={Ceil:i(354),Equal:i(355),Floor:i(356),GreaterThan:i(357),LessThan:i(358)}},function(t,e){var i=function(t,e){return void 0===e&&(e=1e-4),Math.ceil(t-e)};t.exports=i},function(t,e){var i=function(t,e,i){return void 0===i&&(i=1e-4),Math.abs(t-e)<i};t.exports=i},function(t,e){var i=function(t,e,i){return void 0===i&&(i=1e-4),Math.floor(value+i)};t.exports=i},function(t,e){var i=function(t,e,i){return void 0===i&&(i=1e-4),t>e-i};t.exports=i},function(t,e){var i=function(t,e,i){return void 0===i&&(i=1e-4),t<e+i};t.exports=i},function(t,e,i){t.exports={Bezier:i(360),CatmullRom:i(361),Linear:i(151)}},function(t,e,i){var n=i(148),r=function(t,e){for(var i=0,r=t.length-1,s=0;s<=r;s++)i+=Math.pow(1-e,r-s)*Math.pow(e,s)*t[s]*n(r,s);return i};t.exports=r},function(t,e,i){var n=i(150),r=function(t,e){var i=t.length-1,r=i*e,s=Math.floor(r);return t[0]===t[i]?(e<0&&(s=Math.floor(r=i*(1+e))),n(t[(s-1+i)%i],t[s],t[(s+1)%i],t[(s+2)%i],r-s)):e<0?t[0]-(n(t[0],t[0],t[1],t[1],-r)-t[0]):e>1?t[i]-(n(t[i],t[i],t[i-1],t[i-1],r-i)-t[i]):n(t[s?s-1:0],t[s],t[i<s+1?i:s+1],t[i<s+2?i:s+2],r-s)};t.exports=r},function(t,e,i){t.exports={GetNext:i(153),IsSize:i(71),IsValue:i(363)}},function(t,e){var i=function(t){return t>0&&0==(t&t-1)};t.exports=i},function(t,e,i){t.exports={Ceil:i(365),Floor:i(366),To:i(367)}},function(t,e){var i=function(t,e,i){return void 0===i&&(i=0),0===e?t:(t-=i,t=e*Math.ceil(t/e),i+t)};t.exports=i},function(t,e){var i=function(t,e,i){return void 0===i&&(i=0),0===e?t:(t-=i,t=e*Math.floor(t/e),i+t)};t.exports=i},function(t,e){var i=function(t,e,i){return void 0===i&&(i=0),0===e?t:(t-=i,t=e*Math.round(t/e),i+t)};t.exports=i},function(t,e){var i=function(t){for(var e=0,i=0;i<t.length;i++)e+=+t[i];return e/t.length};t.exports=i},function(t,e){var i=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=10);var n=Math.pow(i,-e);return Math.ceil(t*n)/n};t.exports=i},function(t,e,i){var n=i(11),r=function(t){return t*n.DEG_TO_RAD};t.exports=r},function(t,e){var i=function(t,e){return Math.abs(t-e)};t.exports=i},function(t,e){var i=function(t,e){return Math.random()*(e-t)+t};t.exports=i},function(t,e){var i=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=10);var n=Math.pow(i,-e);return Math.floor(t*n)/n};t.exports=i},function(t,e){var i=function(t,e){return t/e/1e3};t.exports=i},function(t,e){var i=function(t){return t==parseFloat(t)?!(t%2):void 0};t.exports=i},function(t,e){var i=function(t){return t===parseFloat(t)?!(t%2):void 0};t.exports=i},function(t,e){var i=function(t,e,i){return Math.min(t+e,i)};t.exports=i},function(t,e){var i=function(t,e,i){return Math.max(t-e,i)};t.exports=i},function(t,e){var i=function(t,e,i){return void 0===i&&(i=0),t>e||i>e?1:t<i||i>t?0:(t-i)/e};t.exports=i},function(t,e,i){var n=i(11),r=function(t){return t*n.RAD_TO_DEG};t.exports=r},function(t,e){var i=function(t,e){var i=t.x,n=t.y;return t.x=i*Math.cos(e)-n*Math.sin(e),t.y=i*Math.sin(e)+n*Math.cos(e),t};t.exports=i},function(t,e){var i=function(t,e,i,n){var r=Math.cos(n),s=Math.sin(n),a=t.x-e,o=t.y-i;return t.x=a*r-o*s+e,t.y=a*s+o*r+i,t};t.exports=i},function(t,e){var i=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=10);var n=Math.pow(i,-e);return Math.round(t*n)/n};t.exports=i},function(t,e){var i=function(t,e,i,n){void 0===e&&(e=1),void 0===i&&(i=1),void 0===n&&(n=1),n*=Math.PI/t;for(var r=[],s=[],a=0;a<t;a++)i-=e*n,e+=i*n,r[a]=i,s[a]=e;return{sin:s,cos:r,length:t}};t.exports=i},function(t,e){var i=function(t,e,i){return Math.abs(t-e)<=i};t.exports=i},function(t,e,i){var n=i(5),r=i(387),s=function(t){var e=t.config;if(!e.hideBanner){var i=e.renderType===n.CANVAS?"Canvas":"WebGL",s="",a=[s];if(Array.isArray(e.bannerBackgroundColor)){var o;e.bannerBackgroundColor.forEach(function(t){s=s.concat("%c "),a.push("background: "+t),o=t}),a[a.length-1]="color: "+e.bannerTextColor+"; background: "+o}else s=s.concat("%c "),a.push("color: "+e.bannerTextColor+"; background: "+e.bannerBackgroundColor);a.push("background: #fff"),e.gameTitle&&(s=s.concat(e.gameTitle),e.gameVersion&&(s=s.concat(" v"+e.gameVersion)),e.hidePhaser||(s=s.concat(" / "))),e.hidePhaser||(s=s.concat("Phaser v"+n.VERSION+" ("+i+")")),s=s.concat(" %c "+e.gameURL),a[0]=s,console.log.apply(console,a),console.log(r.build)}};t.exports=s},function(t,e){var i={build:"7727cf50-96ee-11e7-9cca-6dab6af83c78"};t.exports=i},function(t,e,i){var n=i(44),r=i(53),s=i(160),a=i(389),o=i(390),h=i(391),u=i(392),c=i(161);t.exports={OS:n,Browser:r,Features:s,Input:a,Audio:o,Video:h,Fullscreen:u,CanvasFeatures:c}},function(t,e,i){var n=i(44),r=i(53),s={touch:!1,mspointer:!1,wheelEvent:null,gamepads:!1};t.exports=function(){return("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(s.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(s.mspointer=!0),navigator.getGamepads&&(s.gamepads=!0),n.cocoonJS||("onwheel"in window||r.ie&&"WheelEvent"in window?s.wheelEvent="wheel":"onmousewheel"in window?s.wheelEvent="mousewheel":r.firefox&&"MouseScrollEvent"in window&&(s.wheelEvent="DOMMouseScroll")),s}()},function(t,e,i){var n=i(53),r={audioData:!1,webAudio:!1,ogg:!1,opus:!1,mp3:!1,wav:!1,m4a:!1,webm:!1,dolby:!1};t.exports=function(){r.audioData=!!window.Audio,r.webAudio=!(!window.AudioContext&&!window.webkitAudioContext);var t=document.createElement("audio"),e=!!t.canPlayType;try{if(e&&(t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,"")&&(r.ogg=!0),(t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,"")||t.canPlayType("audio/opus;").replace(/^no$/,""))&&(r.opus=!0),t.canPlayType("audio/mpeg;").replace(/^no$/,"")&&(r.mp3=!0),t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,"")&&(r.wav=!0),(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/aac;").replace(/^no$/,""))&&(r.m4a=!0),t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")&&(r.webm=!0),""!==t.canPlayType('audio/mp4;codecs="ec-3"')))if(n.edge)r.dolby=!0;else if(n.safari&&n.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var i=parseInt(RegExp.$1,10),s=parseInt(RegExp.$2,10);(10===i&&s>=11||i>10)&&(r.dolby=!0)}}catch(t){}return r}()},function(t,e){var i={oggVideo:!1,h264Video:!1,mp4Video:!1,webmVideo:!1,vp9Video:!1,hlsVideo:!1};t.exports=function(){var t=document.createElement("video"),e=!!t.canPlayType;try{e&&(t.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,"")&&(i.oggVideo=!0),t.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,"")&&(i.h264Video=!0,i.mp4Video=!0),t.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")&&(i.webmVideo=!0),t.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,"")&&(i.vp9Video=!0),t.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,"")&&(i.hlsVideo=!0))}catch(t){}return i}()},function(t,e){var i={available:!1,request:"",cancel:"",keyboard:!1};t.exports=function(){var t,e=["requestFullscreen","requestFullScreen","webkitRequestFullscreen","webkitRequestFullScreen","msRequestFullscreen","msRequestFullScreen","mozRequestFullScreen","mozRequestFullscreen"],n=document.createElement("div");for(t=0;t<e.length;t++)if(n[e[t]]){i.available=!0,i.request=e[t];break}var r=["cancelFullScreen","exitFullscreen","webkitCancelFullScreen","webkitExitFullscreen","msCancelFullScreen","msExitFullscreen","mozCancelFullScreen","mozExitFullscreen"];if(i.available)for(t=0;t<r.length;t++)if(document[r[t]]){i.cancel=r[t];break}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&(i.keyboard=!0),i}()},function(t,e,i){var n=i(0),r=i(162),s=i(394),a=new n({initialize:function(t,e){this.dispatcher=t,this.type=e,this.state=r.DISPATCHER_IDLE,this.active=[]},total:function(){for(var t=0,e=0;e<this.active.length;e++)this.active[e].state!==r.LISTENER_REMOVING&&t++;return t},get:function(t){for(var e=0;e<this.active.length;e++)if(this.active[e].callback===t)return this.active[e]},getIndex:function(t){for(var e=0;e<this.active.length;e++)if(this.active[e].callback===t)return e;return null},has:function(t){return this.get(t)},add:function(t,e,i){var n=this.get(t);n||(n=s(this.type,t,e,i),this.state===r.DISPATCHER_IDLE?(n.state=r.LISTENER_ACTIVE,this.active.push(n),this.active.sort(this.sortHandler)):this.state===r.DISPATCHER_DISPATCHING&&this.active.push(n))},sortHandler:function(t,e){return e.priority<t.priority?-1:e.priority>t.priority?1:0},remove:function(t){if(this.state===r.DISPATCHER_IDLE){var e=this.getIndex(t);null!==e&&this.active.splice(e,1)}else if(this.state===r.DISPATCHER_DISPATCHING){var i=this.get(t);i&&(i.state=r.LISTENER_REMOVING)}},dispatch:function(t){if(this.state!==r.DISPATCHER_IDLE)throw new Error("Error: Failed to execute 'EventDispatcher.dispatch' on '"+this.type+"': The event is already being dispatched.");if(0!==this.active.length){this.state=r.DISPATCHER_DISPATCHING;for(var e,i=0;i<this.active.length;i++)if(e=this.active[i],e.state===r.LISTENER_ACTIVE){if(e.callback.call(this.dispatcher,t),this.state!==r.DISPATCHER_DISPATCHING)break;if(e.once&&(e.state=r.LISTENER_REMOVING),!t._propagate)break}this.state===r.DISPATCHER_REMOVING?(this.removeAll(),this.tidy()):this.state===r.DISPATCHER_DESTROYED?this.dispatcher.delete(this.type):(this.tidy(),this.state=r.DISPATCHER_IDLE)}},removeAll:function(){if(this.state===r.DISPATCHER_IDLE)this.active.length=0;else{for(var t=this.active.length-1;t>=0;t--)this.active[t].state!==r.LISTENER_PENDING&&this.active.pop();this.state=r.DISPATCHER_IDLE}},tidy:function(){if(0!==this.active.length){var t=0,e=this.active.length-1;do{this.active[e].state===r.LISTENER_REMOVING?this.active.splice(e,1):this.active[e].state===r.LISTENER_PENDING&&(this.active[e].state,r.LISTENER_ACTIVE,t++),e--}while(e>=0);t>0&&this.active.sort(this.sortHandler)}},destroy:function(){this.active.length=0,this.dispatcher=void 0,this.type="",this.state=r.DISPATCHER_DESTROYED}});t.exports=a},function(t,e,i){var n=i(162),r=function(t,e,i,r){return{type:t,callback:e,priority:i,once:r,state:n.LISTENER_PENDING}};t.exports=r},function(t,e,i){var n=i(1),r=function(t){var e;if(void 0!==document.hidden)e="visibilitychange";else{["webkit","moz","ms"].forEach(function(t){void 0!==document[t+"Hidden"]&&(document.hidden=function(){return document[t+"Hidden"]},e=t+"visibilitychange")})}var i=function(e){document.hidden||"pause"===e.type?t.dispatch(new n("HIDDEN")):t.dispatch(new n("VISIBLE"))};e?document.addEventListener(e,i,!1):console.log("Fallback TODO"),window.onblur=function(){t.dispatch(new n("ON_BLUR"))},window.onfocus=function(){t.dispatch(new n("ON_FOCUS"))}};t.exports=r},function(t,e,i){var n=i(0),r=i(397),s=i(29),a=i(165),o=new n({initialize:function(t){this.game=t,this.textureManager=null,this.events=new s,this.globalTimeScale=1,this.anims=new a,this.paused=!1},boot:function(t){this.textureManager=t},add:r.AddAnimation,create:r.CreateFrameAnimation,fromJSON:r.FromJSON,generateFrameNames:r.GenerateFrameNames,generateFrameNumbers:r.GenerateFrameNumbers,get:r.GetAnimation,load:r.LoadAnimationToGameObject,play:r.PlayAnimation,pauseAll:r.PauseAll,remove:r.RemoveAnimation,resumeAll:r.ResumeAll,staggerPlay:r.StaggerPlayAnimation,toJSON:r.ToJSON,destroy:function(){}});t.exports=o},function(t,e,i){t.exports={AddAnimation:i(398),CreateFrameAnimation:i(403),FromJSON:i(422),GenerateFrameNames:i(423),GenerateFrameNumbers:i(424),GetAnimation:i(425),LoadAnimationToGameObject:i(426),PlayAnimation:i(427),PauseAll:i(428),ResumeAll:i(429),RemoveAnimation:i(430),StaggerPlayAnimation:i(431),ToJSON:i(432)}},function(t,e,i){var n=i(45),r=function(t,e){return this.anims.has(t)?void console.error("Animation with key",t,"already exists"):(e.key=t,this.anims.set(t,e),this.events.dispatch(new n.ADD_ANIMATION_EVENT(t,e)),this)};t.exports=r},function(t,e,i){var n=i(0),r=i(1),s=new n({Extends:r,initialize:function(t,e){r.call(this,"ADD_ANIMATION_EVENT"),this.key=t,this.animation=e}});t.exports=s},function(t,e,i){var n=i(0),r=i(1),s=new n({Extends:r,initialize:function(){r.call(this,"PAUSE_ALL_ANIMATION_EVENT")}});t.exports=s},function(t,e,i){var n=i(0),r=i(1),s=new n({Extends:r,initialize:function(t,e){r.call(this,"REMOVE_ANIMATION_EVENT"),this.key=t,this.animation=e}});t.exports=s},function(t,e,i){var n=i(0),r=i(1),s=new n({Extends:r,initialize:function(){r.call(this,"RESUME_ALL_ANIMATION_EVENT")}});t.exports=s},function(t,e,i){var n=i(45),r=i(404),s=function(t){var e=t.key;if(!e||this.anims.has(e))return void console.warn("Invalid Animation Key, or Key already in use: "+e);var i=new r(this,e,t);return this.anims.set(e,i),this.events.dispatch(new n.ADD_ANIMATION_EVENT(e,i)),i};t.exports=s},function(t,e,i){var n=i(0),r=i(2),s=i(163),a=new n({initialize:function(t,e,i){this.manager=t,this.key=e,this.type="frame",this.frames=s(t.textureManager,r(i,"frames",[])),this.frameRate=r(i,"frameRate",null),this.duration=r(i,"duration",null),null===this.duration&&null===this.frameRate?(this.frameRate=24,this.duration=this.frameRate/this.frames.length):this.duration&&null===this.frameRate?this.frameRate=this.frames.length/this.duration:this.duration=this.frames.length/this.frameRate,this.msPerFrame=1e3/this.frameRate,this.skipMissedFrames=r(i,"skipMissedFrames",!0),this.delay=r(i,"delay",0),this.repeat=r(i,"repeat",0),this.repeatDelay=r(i,"repeatDelay",0),this.yoyo=r(i,"yoyo",!1),this.showOnStart=r(i,"showOnStart",!1),this.hideOnComplete=r(i,"hideOnComplete",!1),this.callbackScope=r(i,"callbackScope",this),this.onStart=r(i,"onStart",!1),this.onStartParams=r(i,"onStartParams",[]),this.onRepeat=r(i,"onRepeat",!1),this.onRepeatParams=r(i,"onRepeatParams",[]),this.onUpdate=r(i,"onUpdate",!1),this.onUpdateParams=r(i,"onUpdateParams",[]),this.onComplete=r(i,"onComplete",!1),this.onCompleteParams=r(i,"onCompleteParams",[]),this.paused=!1,this.manager.events.on("PAUSE_ALL_ANIMATION_EVENT",this.pause.bind(this)),this.manager.events.on("RESUME_ALL_ANIMATION_EVENT",this.resume.bind(this))},addFrame:i(406),addFrameAt:i(407),checkFrame:i(408),completeAnimation:i(409),getFirstTick:i(410),getFrameAt:i(411),getNextTick:i(412),load:i(413),nextFrame:i(414),previousFrame:i(415),removeFrame:i(416),removeFrameAt:i(417),repeatAnimation:i(418),setFrame:i(419),toJSON:i(420),updateFrameSequence:i(421),pause:function(){this.paused=!0},resume:function(){this.paused=!1},destroy:function(){}});t.exports=a},function(t,e){var i=function(t,e,i,n){this.textureKey=t,this.textureFrame=e,this.index=i,this.frame=n,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.onUpdate=null,this.setVisible=!1,this.visible=!1};i.prototype.constructor=i,i.prototype={toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,visible:this.visible}},destroy:function(){this.frame=void 0,this.onUpdate=void 0}},t.exports=i},function(t,e){var i=function(t){return this.addFrameAt(this.frames.length,t)};t.exports=i},function(t,e,i){var n=i(163),r=function(t,e){void 0===t&&(t=0);var i=n(this.manager.textureManager,e);if(i.length>0){if(0===t)this.frames=i.concat(this.frames);else if(t===this.frames.length)this.frames=this.frames.concat(i);else{var r=this.frames.slice(0,t),s=this.frames.slice(t);this.frames=r.concat(i,s)}this.updateFrameSequence()}return this};t.exports=r},function(t,e){var i=function(t){return t<this.frames.length};t.exports=i},function(t,e){var i=function(t){this.hideOnComplete&&(t.parent.visible=!1),t.stop(!0)};t.exports=i},function(t,e){var i=function(t,e){void 0===e&&(e=!0),t.accumulator=0,t.nextTick=t.msPerFrame+t.currentFrame.duration,e&&(t.nextTick+=1e3*t._delay)};t.exports=i},function(t,e){var i=function(t){return this.frames[t]};t.exports=i},function(t,e){var i=function(t){t.accumulator-=t.nextTick,t.nextTick=t.msPerFrame+t.currentFrame.duration};t.exports=i},function(t,e){var i=function(t,e){e>=this.frames.length&&(e=0),t.currentAnim!==this&&(t.currentAnim=this,t._timeScale=1,t.frameRate=this.frameRate,t.duration=this.duration,t.msPerFrame=this.msPerFrame,t.skipMissedFrames=this.skipMissedFrames,t._delay=this.delay,t._repeat=this.repeat,t._repeatDelay=this.repeatDelay,t._yoyo=this.yoyo,t._callbackArgs[1]=this,t._updateParams=t._callbackArgs.concat(this.onUpdateParams)),t.updateFrame(this.frames[e])};t.exports=i},function(t,e){var i=function(t){var e=t.currentFrame;e.isLast?this.yoyo?(t.forward=!1,t.updateFrame(e.prevFrame),this.getNextTick(t)):t.repeatCounter>0?this.repeatAnimation(t):this.completeAnimation(t):(t.updateFrame(e.nextFrame),this.getNextTick(t))};t.exports=i},function(t,e){var i=function(t){var e=t.currentFrame;e.isFirst?t.repeatCounter>0?this.repeatAnimation(t):this.completeAnimation(t):(t.updateFrame(e.prevFrame),this.getNextTick(t))};t.exports=i},function(t,e){var i=function(t){var e=this.frames.indexOf(t);return-1!==e&&this.removeFrameAt(e),this};t.exports=i},function(t,e){var i=function(t){return this.frames.splice(t,1),this.updateFrameSequence(),this};t.exports=i},function(t,e){var i=function(t){t._repeatDelay>0&&!1===t.pendingRepeat?(t.pendingRepeat=!0,t.accumulator-=t.nextTick,t.nextTick+=1e3*t._repeatDelay):(t.repeatCounter--,t.forward=!0,t.updateFrame(t.currentFrame.nextFrame),this.getNextTick(t),t.pendingRepeat=!1,this.onRepeat&&this.onRepeat.apply(this.callbackScope,t._callbackArgs.concat(this.onRepeatParams)))};t.exports=i},function(t,e){var i=function(t){t.forward?this.nextFrame(t):this.previousFrame(t)};t.exports=i},function(t,e){var i=function(){var t={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showOnStart:this.showOnStart,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(e){t.frames.push(e.toJSON())}),t};t.exports=i},function(t,e){var i=function(){for(var t=this.frames.length,e=1/(t-1),i=0;i<t;i++){var n=this.frames[i];n.index=i+1,n.isFirst=!1,n.isLast=!1,n.progress=i*e,0===i?(n.isFirst=!0,n.isLast=1===t,n.prevFrame=this.frames[t-1],n.nextFrame=this.frames[i+1]):i===t-1?(n.isLast=!0,n.prevFrame=this.frames[t-2],n.nextFrame=this.frames[0]):t>1&&(n.prevFrame=this.frames[i-1],n.nextFrame=this.frames[i+1])}return this};t.exports=i},function(t,e){var i=function(t,e){void 0===e&&(e=!1),e&&this.anims.clear(),"string"==typeof t&&(t=JSON.parse(t));var i=[];if(t.hasOwnProperty("anims")&&Array.isArray(t.anims)){for(var n=0;n<t.anims.length;n++)i.push(this.create(t.anims[n]));t.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=t.globalTimeScale)}else t.hasOwnProperty("key")&&"frame"===t.type&&i.push(this.create(t));return i};t.exports=i},function(t,e,i){var n=i(2),r=i(164),s=function(t,e){var i=n(e,"prefix",""),s=n(e,"start",0),a=n(e,"end",0),o=n(e,"suffix",""),h=n(e,"zeroPad",0),u=n(e,"outputArray",[]),c=n(e,"frames",!1),l=this.textureManager.get(t);if(!l)return u;var f=s<a?1:-1;a+=f;var d,p;if(Array.isArray(c))for(d=0;d<c.length;d++)p=i+r(c[d],h,"0",1)+o,l.has(p)&&u.push({key:t,frame:p});else for(d=s;d!==a;d+=f)p=i+r(d,h,"0",1)+o,l.has(p)&&u.push({key:t,frame:p});return u};t.exports=s},function(t,e,i){var n=i(2),r=function(t,e){var i=n(e,"start",0),r=n(e,"end",-1),s=n(e,"first",!1),a=n(e,"outputArray",[]),o=n(e,"frames",!1),h=this.textureManager.get(t);if(!h)return a;s&&h.has(s)&&a.push({key:t,frame:s});var u;if(Array.isArray(o))for(u=0;u<o.length;u++)h.has(o[u])&&a.push({key:t,frame:o[u]});else for(-1===r&&(r=h.frameTotal),u=i;u<=r;u++)h.has(u)&&a.push({key:t,frame:u});return a};t.exports=r},function(t,e){var i=function(t){return this.anims.get(t)};t.exports=i},function(t,e){var i=function(t,e,i){var n=this.get(e);return n&&n.load(t,i),t};t.exports=i},function(t,e){var i=function(t,e){if(Array.isArray(e)||(e=[e]),this.get(t)){for(var i=0;i<e.length;i++)e[i].anims.play(t);return this}};t.exports=i},function(t,e,i){var n=i(45),r=function(){return this.paused||(this.paused=!0,this.events.dispatch(new n.PAUSE_ALL_ANIMATION_EVENT)),this};t.exports=r},function(t,e,i){var n=i(45),r=function(){return this.paused&&(this.paused=!1,this.events.dispatch(new n.RESUME_ALL_ANIMATION_EVENT)),this};t.exports=r},function(t,e,i){var n=i(45),r=function(t){var e=this.get(t);return e&&(this.events.dispatch(new n.REMOVE_ANIMATION_EVENT(t,e)),this.anims.delete(t)),e};t.exports=r},function(t,e){var i=function(t,e,i){if(void 0===i&&(i=0),Array.isArray(e)||(e=[e]),this.get(t)){for(var n=0;n<e.length;n++)e[n].anims.delayedPlay(i*n,t);return this}};t.exports=i},function(t,e){var i=function(t){if(void 0!==t&&""!==t)return this.anims.get(t).toJSON();var e={anims:[],globalTimeScale:this.globalTimeScale};return this.anims.each(function(t,i){e.anims.push(i.toJSON())}),e};t.exports=i},function(t,e,i){var n=i(5),r=i(12),s=i(160),a=i(434),o=i(439),h=i(69),u=function(t){var e=t.config;if(e.renderType===n.CANVAS||e.renderType!==n.CANVAS&&!s.webGL){if(!s.canvas)throw new Error("Cannot create Canvas or WebGL context, aborting.");e.renderType=n.CANVAS}else e.renderType=n.WEBGL;e.pixelArt&&r.disableSmoothing(),e.canvas?t.canvas=e.canvas:t.canvas=r.create(t,e.width,e.height,e.renderType),e.canvasStyle&&(t.canvas.style=e.canvasStyle),e.pixelArt&&h.setCrisp(t.canvas),1!==e.zoom&&(t.canvas.style.width=(e.width*e.zoom).toString()+"px",t.canvas.style.height=(e.height*e.zoom).toString()+"px"),e.renderType===n.WEBGL?(t.renderer=new o(t),t.context=null):(t.renderer=new a(t),t.context=t.renderer.gameContext,t.canvas.id="game")};t.exports=u},function(t,e,i){var n=i(435),r=i(436),s=i(0),a=i(5),o=i(437),h=i(438),u=i(166),c=i(26),l=i(68),f=new s({initialize:function(t){this.game=t,this.type=a.CANVAS,this.drawCount=0,this.width=t.config.width*t.config.resolution,this.height=t.config.height*t.config.resolution,this.resolution=t.config.resolution,this.scaleMode=t.config.pixelArt?c.NEAREST:c.LINEAR,this.gameCanvas=t.canvas,this.gameContext=u(this.gameCanvas),this.gameConfig=t.config,this.currentContext=this.gameContext,this.drawImage=o,this.blitImage=n,this.blendModes=h(),this.currentAlpha=1,this.currentBlendMode=0,this.currentScaleMode=0,this.init()},init:function(){this.resize(this.width,this.height)},resize:function(t,e){var i=this.game.config.resolution;this.width=t*i,this.height=e*i,this.gameCanvas.width=this.width,this.gameCanvas.height=this.height,this.autoResize&&(this.gameCanvas.style.width=this.width/i+"px",this.gameCanvas.style.height=this.height/i+"px"),this.scaleMode===c.NEAREST&&l.disable(this.gameContext)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(t){return this.currentBlendMode!==t&&(this.currentContext.globalCompositeOperation=t,this.currentBlendMode=t),this.currentBlendMode},setAlpha:function(t){return this.currentAlpha!==t&&(this.currentContext.globalAlpha=t,this.currentAlpha=t),this.currentAlpha},preRender:function(){var t=this.gameContext,e=this.gameConfig,i=this.width,n=this.height;e.clearBeforeRender&&t.clearRect(0,0,i,n),e.transparent||(t.fillStyle=e.backgroundColor.rgba,t.fillRect(0,0,i,n)),this.drawCount=0},render:function(t,e,i,n){var r=t.sys.context,s=(t.sys.settings,0!==n.x||0!==n.y||n.width!==r.canvas.width||n.height!==r.canvas.height),a=e.list;this.currentContext=r,n.transparent||(r.fillStyle=n.backgroundColor.rgba,r.fillRect(0,0,n.width,n.height)),1!==this.currentAlpha&&(r.globalAlpha=1,this.currentAlpha=1),0!==this.currentBlendMode&&(r.globalCompositeOperation="source-over",this.currentBlendMode=0),this.currentScaleMode=0,this.drawCount+=a.length,s&&(r.save(),r.beginPath(),r.rect(n.x,n.y,n.width,n.height),r.clip(),r.closePath());var o=n.matrix.matrix;r.setTransform(o[0],o[1],o[2],o[3],o[4],o[5]);for(var h=0;h<a.length;h++){var u=a[h];u.renderCanvas(this,u,i,n)}t.render.call(t,r,i),r.setTransform(1,0,0,1,0,0),(n._fadeAlpha>0||n._flashAlpha>0)&&(r.fillStyle="rgb("+255*n._fadeRed+","+255*n._fadeGreen+","+255*n._fadeBlue+")",r.globalAlpha=n._fadeAlpha,r.fillRect(n.x,n.y,n.width,n.height),r.fillStyle="rgb("+255*n._flashRed+","+255*n._flashGreen+","+255*n._flashBlue+")",r.globalAlpha=n._flashAlpha,r.fillRect(n.x,n.y,n.width,n.height),r.globalAlpha=1),s&&r.restore()},postRender:function(){var t=this.gameContext;t.globalAlpha=1,t.globalCompositeOperation="source-over",this.currentAlpha=1,this.currentBlendMode=0,this.snapshotCallback&&(this.snapshotCallback(r(this.gameCanvas)),this.snapshotCallback=null)},snapshot:function(t){this.snapshotCallback=t},destroy:function(){this.gameCanvas=null,this.gameContext=null}});t.exports=f},function(t,e){var i=function(t,e,i,n){var r=this.currentContext,s=i.canvasData;r.drawImage(i.source.image,s.sx,s.sy,s.sWidth,s.sHeight,t-n.scrollX,e-n.scrollY,s.dWidth,s.dHeight)};t.exports=i},function(t,e){var i=function(t){var e=t.toDataURL(),i=new Image;return i.src=e,i};t.exports=i},function(t,e){var i=function(t,e){var i=this.currentContext,n=t.frame,r=n.canvasData;this.currentBlendMode!==t.blendMode&&(this.currentBlendMode=t.blendMode,i.globalCompositeOperation=this.blendModes[t.blendMode]),this.currentAlpha!==t.alpha&&(this.currentAlpha=t.alpha,i.globalAlpha=t.alpha),this.currentScaleMode!==t.scaleMode&&(this.currentScaleMode=t.scaleMode);var s=n.x,a=n.y,o=1,h=1;t.flipX?(o=-1,s-=r.dWidth-t.displayOriginX):s-=t.displayOriginX,t.flipY?(h=-1,a-=r.dHeight-t.displayOriginY):a-=t.displayOriginY,i.save(),i.translate(t.x-e.scrollX*t.scrollFactorX,t.y-e.scrollY*t.scrollFactorY),i.rotate(t.rotation),i.scale(t.scaleX,t.scaleY),i.scale(o,h),i.drawImage(n.source.image,r.sx,r.sy,r.sWidth,r.sHeight,s,a,r.dWidth,r.dHeight),i.restore()};t.exports=i},function(t,e,i){var n=i(31),r=i(161),s=function(){var t=[],e=r.supportNewBlendModes;return t[n.NORMAL]="source-over",t[n.ADD]="lighter",t[n.MULTIPLY]=e?"multiply":"source-over",t[n.SCREEN]=e?"screen":"source-over",t[n.OVERLAY]=e?"overlay":"source-over",t[n.DARKEN]=e?"darken":"source-over",t[n.LIGHTEN]=e?"lighten":"source-over",t[n.COLOR_DODGE]=e?"color-dodge":"source-over",t[n.COLOR_BURN]=e?"color-burn":"source-over",t[n.HARD_LIGHT]=e?"hard-light":"source-over",t[n.SOFT_LIGHT]=e?"soft-light":"source-over",t[n.DIFFERENCE]=e?"difference":"source-over",t[n.EXCLUSION]=e?"exclusion":"source-over",t[n.HUE]=e?"hue":"source-over",t[n.SATURATION]=e?"saturation":"source-over",t[n.COLOR]=e?"color":"source-over",t[n.LUMINOSITY]=e?"luminosity":"source-over",t};t.exports=s},function(t,e,i){var n=i(31),r=i(440),s=i(0),a=i(5),o=i(443),h=i(71),u=i(445),c=i(448),l=i(167),f=i(26),d=i(453),p=i(456),v=i(458),g=i(460),x=i(462),m=new s({initialize:function(t){this.game=t,this.type=a.WEBGL,this.width=t.config.width*t.config.resolution,this.height=t.config.height*t.config.resolution,this.resolution=t.config.resolution,this.view=t.canvas,this.config={clearBeforeRender:!0,transparent:!1,autoResize:!1,preserveDrawingBuffer:!1,WebGLContextOptions:{alpha:!0,antialias:!0,premultipliedAlpha:!0,stencil:!0,preserveDrawingBuffer:!1}},this.contextLost=!1,this.maxTextures=1,this.multiTexture=!1,this.blendModes=[],this.gl=null,this.extensions=null,this.extensionList={},this.rendererArray=[],this.blitterBatch=null,this.aaQuadBatch=null,this.spriteBatch=null,this.shapeBatch=null,this.effectRenderer=null,this.currentRenderer=null,this.currentTexture=[],this.shaderCache={},this.currentShader=null,this.resourceManager=null,this.currentRenderTarget=null,this.snapshotCallback=null,this.scissor={enabled:!1,x:0,y:0,width:0,height:0},this.init()},init:function(){if(this.gl=this.view.getContext("webgl",this.config.WebGLContextOptions)||this.view.getContext("experimental-webgl",this.config.WebGLContextOptions),!this.gl)throw this.contextLost=!0,new Error("This browser does not support WebGL. Try using the Canvas renderer.");var t=this.gl,e=this.game.config.backgroundColor;this.resourceManager=new c(t),t.disable(t.DEPTH_TEST),t.disable(t.CULL_FACE),t.enable(t.BLEND),t.clearColor(e.redGL,e.greenGL,e.blueGL,e.alphaGL),this.blendModes=[];for(var i=0;i<=16;i++)this.blendModes.push({func:[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],equation:t.FUNC_ADD});this.blendModes[1].func=[t.SRC_ALPHA,t.DST_ALPHA],this.blendModes[2].func=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[t.SRC_ALPHA,t.ONE],this.blendMode=-1,this.extensions=t.getSupportedExtensions(),this.blitterBatch=this.addRenderer(new r(this.game,t,this)),this.quadBatch=this.addRenderer(new u(this.game,t,this)),this.spriteBatch=this.addRenderer(new p(this.game,t,this)),this.shapeBatch=this.addRenderer(new d(this.game,t,this)),this.effectRenderer=this.addRenderer(new o(this.game,t,this)),this.tileBatch=this.addRenderer(new v(this.game,t,this)),this.tilemapRenderer=this.addRenderer(new g(this.game,t,this)),this.currentRenderer=this.spriteBatch,this.currentVertexBuffer=null,this.setBlendMode(0),this.resize(this.width,this.height)},addBlendMode:function(t,e){return this.blendModes.push({func:t,equation:e})-1},updateBlendMode:function(t,e,i){return this.blendModes[t]&&(this.blendModes[t].func=e,i&&(this.blendModes[t].equation=i)),this},removeBlendMode:function(t){return t>16&&this.blendModes[t]&&this.blendModes.splice(t,1),this},getExtension:function(t){return t in this.extensionList||(this.extensionList[t]=this.gl.getExtension(t)),this.extensionList[t]},createTexture:function(t,e,i){e=t?t.width:e,i=t?t.height:i;var n=this.gl,r=n.NEAREST,s=h(e,i)?n.REPEAT:n.CLAMP_TO_EDGE;t.glTexture||(t.scaleMode===f.LINEAR?r=n.LINEAR:(t.scaleMode===f.NEAREST||this.game.config.pixelArt)&&(r=n.NEAREST),t.glTexture=t||"number"!=typeof e||"number"!=typeof i?this.resourceManager.createTexture(0,r,r,s,s,n.RGBA,t.image):this.resourceManager.createTexture(0,r,r,s,s,n.RGBA,null,e,i)),this.currentTexture[0]=null},setTexture:function(t,e){if(e=e||0,this.currentTexture[e]!==t){var i=this.gl;this.currentRenderer.flush(),i.activeTexture(i.TEXTURE0+e),null!==t?i.bindTexture(i.TEXTURE_2D,t.texture):i.bindTexture(i.TEXTURE_2D,null),this.currentTexture[e]=t}},setRenderer:function(t,e,i){this.setTexture(e),this.setRenderTarget(i),(this.currentRenderer!==t||this.currentRenderer.shouldFlush())&&(this.currentRenderer.flush(),this.currentRenderer=t)},setRenderTarget:function(t){var e=this.gl;this.currentRenderTarget!==t&&(this.currentRenderer.flush(),null!==t?(e.bindFramebuffer(e.FRAMEBUFFER,t.framebufferObject),t.shouldClear&&(e.clearColor(0,0,0,t.clearAlpha),e.clear(e.COLOR_BUFFER_BIT),t.shouldClear=!1)):(e.bindFramebuffer(e.FRAMEBUFFER,null),e.viewport(0,0,this.width,this.height)),this.currentRenderTarget=t)},resize:function(t,e){var i=this.game.config.resolution;this.width=t*i,this.height=e*i,this.view.width=this.width,this.view.height=this.height,this.autoResize&&(this.view.style.width=this.width/i+"px",this.view.style.height=this.height/i+"px"),this.gl.viewport(0,0,this.width,this.height);for(var n=0,r=this.rendererArray.length;n<r;++n)this.rendererArray[n].bind(),this.rendererArray[n].resize(t,e,i);this.currentRenderer.bind()},preRender:function(){if(this.setRenderTarget(null),!this.contextLost){var t=this.gl,e=this.game.config.backgroundColor;t.clearColor(e.redGL,e.greenGL,e.blueGL,e.alphaGL),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT|t.STENCIL_BUFFER_BIT),this.setBlendMode(n.NORMAL)}},render:function(t,e,i,n){var r=this.gl,s=this.quadBatch;if(this.scissor.enabled=0!==n.x||0!==n.y||n.width!==r.canvas.width||n.height!==r.canvas.height,this.setRenderTarget(null),this.scissor.enabled&&(r.enable(r.SCISSOR_TEST),this.scissor.x=n.x,this.scissor.y=r.drawingBufferHeight-n.y-n.height,this.scissor.width=n.width,this.scissor.height=n.height,r.scissor(this.scissor.x,this.scissor.y,this.scissor.width,this.scissor.height)),n.backgroundColor.alphaGL>0){var a=n.backgroundColor;s.bind(),s.add(n.x,n.y,n.width,n.height,a.redGL,a.greenGL,a.blueGL,a.alphaGL),s.flush(),this.currentRenderer.bind()}for(var o=e.list,h=o.length,u=0;u<h;++u){var c=o[u],l=this.currentRenderer,f=c.blendMode;if(this.blendMode!==f){l&&l.flush();var d=this.blendModes[f].func;r.enable(r.BLEND),r.blendEquation(this.blendModes[f].equation),d.length>2?r.blendFuncSeparate(d[0],d[1],d[2],d[3]):r.blendFunc(d[0],d[1]),this.blendMode=f}c.renderWebGL(this,c,i,n),l=this.currentRenderer,(l.isFull()||l.shouldFlush())&&l.flush()}this.currentRenderer.flush(),(n._fadeAlpha>0||n._flashAlpha>0)&&(this.setRenderTarget(null),s.bind(),s.add(n.x,n.y,n.width,n.height,n._fadeRed,n._fadeGreen,n._fadeBlue,n._fadeAlpha),s.add(n.x,n.y,n.width,n.height,n._flashRed,n._flashGreen,n._flashBlue,n._flashAlpha),s.flush(),this.currentRenderer.bind()),this.scissor.enabled&&r.disable(r.SCISSOR_TEST)},postRender:function(){this.currentRenderer.flush(),this.snapshotCallback&&(this.snapshotCallback(x(this.view)),this.snapshotCallback=null)},snapshot:function(t){this.snapshotCallback=t},createFBO:function(){},setBlendMode:function(t){var e=this.gl,i=this.currentRenderer;if(this.blendMode!==t){i&&i.flush();var n=this.blendModes[t].func;e.enable(e.BLEND),e.blendEquation(this.blendModes[t].equation),n.length>2?e.blendFuncSeparate(n[0],n[1],n[2],n[3]):e.blendFunc(n[0],n[1]),this.blendMode=t}},addRenderer:function(t){return this.rendererArray.indexOf(t)<0?(this.rendererArray.push(t),t):null},setTextureFilterMode:function(t,e){var i=this.gl,n=[i.LINEAR,i.NEAREST][e];return i.bindTexture(i.TEXTURE_2D,t.texture),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,n),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,n),null!==this.currentTexture[0]?i.bindTexture(i.TEXTURE_2D,this.currentTexture[0].texture):i.bindTexture(i.TEXTURE_2D,null),t},uploadCanvasToGPU:function(t,e,i){var n=this.gl;return e||(e=new l.Texture(null,0,0),e.texture=n.createTexture()),e!=this.currentTexture[0]&&this.currentRenderer.flush(),n.activeTexture(n.TEXTURE0),i?(n.bindTexture(n.TEXTURE_2D,e.texture),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,t),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),e.width=t.width,e.height=t.height):(n.bindTexture(n.TEXTURE_2D,e.texture),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,t)),this.currentTexture.length>0&&e!=this.currentTexture[0]&&null!==this.currentTexture[0]&&n.bindTexture(n.TEXTURE_2D,this.currentTexture[0].texture),e},destroy:function(){this.gl=null}});t.exports=m},function(t,e,i){var n=i(0),r=i(441),s=i(37),a=i(30),o=i(5),h=i(442),u=new n({initialize:function(t,e,i){this.game=t,this.type=o.WEBGL,this.view=t.canvas,this.resolution=t.config.resolution,this.width=t.config.width*t.config.resolution,this.height=t.config.height*t.config.resolution,this.glContext=e,this.maxParticles=null,this.shader=null,this.vertexBufferObject=null,this.indexBufferObject=null,this.vertexDataBuffer=null,this.indexDataBuffer=null,this.elementCount=0,this.currentTexture2D=null,this.viewMatrixLocation=null,this.config={clearBeforeRender:!0,transparent:!1,autoResize:!1,preserveDrawingBuffer:!1,WebGLContextOptions:{alpha:!0,antialias:!0,premultipliedAlpha:!0,stencil:!0,preserveDrawingBuffer:!1}},this.manager=i,this.dirty=!1,this.init(this.glContext)},init:function(t){var e=new a(r.VERTEX_SIZE*r.PARTICLE_VERTEX_COUNT*r.MAX_PARTICLES),i=new s(r.INDEX_SIZE*r.PARTICLE_INDEX_COUNT*r.MAX_PARTICLES),n=this.manager.resourceManager.createShader("TexturedAndAlphaShader",h),o=this.manager.resourceManager.createBuffer(t.ELEMENT_ARRAY_BUFFER,i.getByteCapacity(),t.STATIC_DRAW),u=this.manager.resourceManager.createBuffer(t.ARRAY_BUFFER,e.getByteCapacity(),t.STREAM_DRAW),c=n.getUniformLocation("u_view_matrix"),l=i.uintView,f=r.MAX_PARTICLES*r.PARTICLE_INDEX_COUNT;u.addAttribute(n.getAttribLocation("a_position"),2,t.FLOAT,!1,r.VERTEX_SIZE,0),u.addAttribute(n.getAttribLocation("a_tex_coord"),2,t.FLOAT,!1,r.VERTEX_SIZE,8),u.addAttribute(n.getAttribLocation("a_alpha"),1,t.FLOAT,!1,r.VERTEX_SIZE,16),this.vertexDataBuffer=e,this.indexDataBuffer=i,this.shader=n,this.indexBufferObject=o,this.vertexBufferObject=u,this.viewMatrixLocation=c,this.maxParticles=f;for(var d=0,p=0;d<f;d+=r.PARTICLE_INDEX_COUNT,p+=r.PARTICLE_VERTEX_COUNT)l[d+0]=p+0,l[d+1]=p+1,l[d+2]=p+2,l[d+3]=p+0,l[d+4]=p+2,l[d+5]=p+3;o.updateResource(l,0),this.resize(this.width,this.height,this.game.config.resolution)},shouldFlush:function(){return!1},isFull:function(){return this.vertexDataBuffer.getByteLength()>=this.vertexDataBuffer.getByteCapacity()},bind:function(t){void 0===t?this.shader.bind():(t.bind(),this.resize(this.width,this.height,this.game.config.resolution,t)),this.indexBufferObject.bind(),this.vertexBufferObject.bind()},flush:function(t){var e=this.glContext,i=this.vertexDataBuffer;0!==this.elementCount&&(this.bind(t),this.vertexBufferObject.updateResource(i.getUsedBufferAsFloat(),0),e.drawElements(e.TRIANGLES,this.elementCount,e.UNSIGNED_SHORT,0),i.clear(),this.elementCount=0)},resize:function(t,e,i,n){var r=void 0!==n?n:this.shader;this.width=t*i,this.height=e*i,r.setConstantMatrix4x4(this.viewMatrixLocation,new Float32Array([2/this.width,0,0,0,0,-2/this.height,0,0,0,0,1,1,-1,1,0,0]))},destroy:function(){this.manager.resourceManager.deleteShader(this.shader),this.manager.resourceManager.deleteBuffer(this.indexBufferObject),this.manager.resourceManager.deleteBuffer(this.vertexBufferObject),this.shader=null,this.indexBufferObject=null,this.vertexBufferObject=null}});t.exports=u},function(t,e){var i={VERTEX_SIZE:20,INDEX_SIZE:2,PARTICLE_VERTEX_COUNT:4,PARTICLE_INDEX_COUNT:6,PARTICLE_VERTEX_COMPONENT_COUNT:5,MAX_PARTICLES:2e3};t.exports=i},function(t,e){t.exports={vert:["uniform mat4 u_view_matrix;","attribute vec2 a_position;","attribute vec2 a_tex_coord;","attribute float a_alpha;","varying vec2 v_tex_coord;","varying float v_alpha;","void main () {","   gl_Position = u_view_matrix * vec4(a_position, 1.0, 1.0);","   v_tex_coord = a_tex_coord;","   v_alpha = a_alpha;","}"].join("\n"),frag:["precision mediump float;","uniform sampler2D u_sampler2D;","varying vec2 v_tex_coord;","varying float v_alpha;","void main() {","   gl_FragColor = texture2D(u_sampler2D, v_tex_coord) * vec4(1.0, 1.0, 1.0, v_alpha);","}"].join("\n")}},function(t,e,i){var n=i(0),r=i(444),s=i(37),a=i(30),o=i(5),h=i(38),u=i(23),c=new n({initialize:function(t,e,i){this.game=t,this.type=o.WEBGL,this.view=t.canvas,this.resolution=t.config.resolution,this.width=t.config.width*t.config.resolution,this.height=t.config.height*t.config.resolution,this.glContext=e,this.maxSprites=null,this.shader=null,this.vertexBufferObject=null,this.indexBufferObject=null,this.vertexDataBuffer=null,this.indexDataBuffer=null,this.elementCount=0,this.currentTexture2D=null,this.viewMatrixLocation=null,this.tempMatrix=new u,this.config={clearBeforeRender:!0,transparent:!1,autoResize:!1,preserveDrawingBuffer:!1,WebGLContextOptions:{alpha:!0,antialias:!0,premultipliedAlpha:!0,stencil:!0,preserveDrawingBuffer:!1}},this.manager=i,this.dirty=!1,this.init(this.glContext)},init:function(t){var e=new a(r.VERTEX_SIZE*r.QUAD_VERTEX_COUNT*r.MAX_QUADS),i=new s(r.INDEX_SIZE*r.QUAD_INDEX_COUNT*r.MAX_QUADS),n=this.manager.resourceManager.createShader("TexturedAndNormalizedTintedShader",h),o=this.manager.resourceManager.createBuffer(t.ELEMENT_ARRAY_BUFFER,i.getByteCapacity(),t.STATIC_DRAW),u=this.manager.resourceManager.createBuffer(t.ARRAY_BUFFER,e.getByteCapacity(),t.STREAM_DRAW),c=n.getUniformLocation("u_view_matrix"),l=i.uintView,f=r.MAX_QUADS*r.QUAD_INDEX_COUNT;this.vertexDataBuffer=e,this.indexDataBuffer=i,this.shader=n,this.indexBufferObject=o,this.vertexBufferObject=u,this.viewMatrixLocation=c,u.addAttribute(n.getAttribLocation("a_position"),2,t.FLOAT,!1,r.VERTEX_SIZE,0),u.addAttribute(n.getAttribLocation("a_tex_coord"),2,t.FLOAT,!1,r.VERTEX_SIZE,8),u.addAttribute(n.getAttribLocation("a_color"),3,t.UNSIGNED_BYTE,!0,r.VERTEX_SIZE,16),u.addAttribute(n.getAttribLocation("a_alpha"),1,t.FLOAT,!1,r.VERTEX_SIZE,20);for(var d=0,p=0;d<f;d+=r.QUAD_INDEX_COUNT,p+=r.QUAD_VERTEX_COUNT)l[d+0]=p+0,l[d+1]=p+1,l[d+2]=p+2,l[d+3]=p+0,l[d+4]=p+2,l[d+5]=p+3;o.updateResource(l,0),this.resize(this.width,this.height,this.game.config.resolution)},shouldFlush:function(){return!1},isFull:function(){return this.vertexDataBuffer.getByteLength()>=this.vertexDataBuffer.getByteCapacity()},bind:function(t){void 0===t?this.shader.bind():(t.bind(),this.resize(this.width,this.height,this.game.config.resolution,t)),this.indexBufferObject.bind(),this.vertexBufferObject.bind()},flush:function(t){var e=this.glContext,i=this.vertexDataBuffer;0!==this.elementCount&&(this.bind(t),this.vertexBufferObject.updateResource(i.getUsedBufferAsFloat(),0),e.drawElements(e.TRIANGLES,this.elementCount,e.UNSIGNED_SHORT,0),i.clear(),this.elementCount=0)},resize:function(t,e,i,n){var r=void 0!==n?n:this.shader;this.width=t*i,this.height=e*i,r.setConstantMatrix4x4(r.getUniformLocation("u_view_matrix"),new Float32Array([2/this.width,0,0,0,0,-2/this.height,0,0,0,0,1,1,-1,1,0,0]))},renderEffect:function(t,e,i,n,r){var s,a,o,h,u,c,l,f,d,p,v,g,x,m,y,E,T,w,b,_,A,S,R,O,C,M,L=this.tempMatrix,F=this.vertexDataBuffer,D=F.floatView,I=F.uintView,B=0,P=n*(t.flipX?-1:1),k=r*(t.flipY?-1:1),N=t.x-e.scrollX*t.scrollFactorX,X=t.y-e.scrollY*t.scrollFactorY,U=t.scaleX,Y=t.scaleY,z=-t.rotation,V=L.matrix,G=-t.displayOriginX+n*(t.flipX?1:0),j=-t.displayOriginY+r*(t.flipY?1:0),H=G+P,W=j+k,q=e.matrix.matrix,K=t.alpha,Z=t._tintTL,J=t._tintTR,Q=t._tintBL,$=t._tintBR;L.applyITRS(N,X,z,U,Y),y=V[0],E=V[1],T=V[2],w=V[3],b=V[4],_=V[5],A=q[0],S=q[1],R=q[2],O=q[3],C=q[4],M=q[5],s=y*A+E*R,a=y*S+E*O,o=T*A+w*R,h=T*S+w*O,u=b*A+_*R+C,c=b*S+_*O+M,l=G*s+j*o+u,f=G*a+j*h+c,d=G*s+W*o+u,p=G*a+W*h+c,v=H*s+W*o+u,g=H*a+W*h+c,x=H*s+j*o+u,m=H*a+j*h+c,this.manager.setRenderer(this,i,t.renderTarget),B=F.allocate(24),this.elementCount+=6,D[B++]=l,D[B++]=f,D[B++]=0,D[B++]=0,I[B++]=Z,D[B++]=K,D[B++]=d,D[B++]=p,D[B++]=0,D[B++]=1,I[B++]=Q,D[B++]=K,D[B++]=v,D[B++]=g,D[B++]=1,D[B++]=1,I[B++]=$,D[B++]=K,D[B++]=x,D[B++]=m,D[B++]=1,D[B++]=0,I[B++]=J,D[B++]=K,this.flush(t.dstShader),t.dstRenderTarget.shouldClear=!0},destroy:function(){this.manager.resourceManager.deleteShader(this.shader),this.manager.resourceManager.deleteBuffer(this.indexBufferObject),this.manager.resourceManager.deleteBuffer(this.vertexBufferObject),this.shader=null,this.indexBufferObject=null,this.vertexBufferObject=null}});t.exports=c},function(t,e){var i={VERTEX_SIZE:24,INDEX_SIZE:2,QUAD_VERTEX_COUNT:4,QUAD_INDEX_COUNT:6,QUAD_VERTEX_COMPONENT_COUNT:6,MAX_QUADS:2};t.exports=i},function(t,e,i){var n=i(0),r=i(446),s=i(37),a=i(30),o=i(5),h=i(447),u=new n({initialize:function(t,e,i){this.game=t,this.type=o.WEBGL,this.view=t.canvas,this.resolution=t.config.resolution,this.width=t.config.width*t.config.resolution,this.height=t.config.height*t.config.resolution,this.glContext=e,this.maxQuads=null,this.shader=null,this.vertexBufferObject=null,this.indexBufferObject=null,this.vertexDataBuffer=null,this.indexDataBuffer=null,this.elementCount=0,this.viewMatrixLocation=null,this.config={clearBeforeRender:!0,transparent:!1,autoResize:!1,preserveDrawingBuffer:!1,WebGLContextOptions:{alpha:!0,antialias:!0,premultipliedAlpha:!0,stencil:!0,preserveDrawingBuffer:!1}},this.manager=i,this.dirty=!1,this.init(this.glContext)},init:function(t){var e=new a(r.VERTEX_SIZE*r.AAQUAD_VERTEX_COUNT*r.MAX_AAQUAD),i=new s(r.INDEX_SIZE*r.AAQUAD_INDEX_COUNT*r.MAX_AAQUAD),n=this.manager.resourceManager.createShader("UntexturedAndTintedShader",h),o=this.manager.resourceManager.createBuffer(t.ELEMENT_ARRAY_BUFFER,i.getByteCapacity(),t.STATIC_DRAW),u=this.manager.resourceManager.createBuffer(t.ARRAY_BUFFER,e.getByteCapacity(),t.STREAM_DRAW),c=n.getUniformLocation("u_view_matrix"),l=i.uintView,f=r.MAX_AAQUAD*r.AAQUAD_INDEX_COUNT;u.addAttribute(n.getAttribLocation("a_position"),2,t.FLOAT,!1,r.VERTEX_SIZE,0),u.addAttribute(n.getAttribLocation("a_color"),4,t.FLOAT,!1,r.VERTEX_SIZE,8),this.vertexDataBuffer=e,this.indexDataBuffer=i,this.shader=n,this.indexBufferObject=o,this.vertexBufferObject=u,this.viewMatrixLocation=c;for(var d=0,p=0;d<f;d+=r.AAQUAD_INDEX_COUNT,p+=r.AAQUAD_VERTEX_COUNT)l[d+0]=p+0,l[d+1]=p+1,l[d+2]=p+2,l[d+3]=p+0,l[d+4]=p+2,l[d+5]=p+3;o.updateResource(l,0),this.resize(this.width,this.height,this.game.config.resolution)},shouldFlush:function(){return!1},isFull:function(){return this.vertexDataBuffer.getByteLength()>=this.vertexDataBuffer.getByteCapacity()},add:function(t,e,i,n,s,a,o,h){var u=this.vertexDataBuffer,c=u.floatView,l=u.allocate(r.AAQUAD_VERTEX_COMPONENT_COUNT*r.AAQUAD_VERTEX_COUNT);c[l++]=t,c[l++]=e,c[l++]=s,c[l++]=a,c[l++]=o,c[l++]=h,c[l++]=t,c[l++]=e+n,c[l++]=s,c[l++]=a,c[l++]=o,c[l++]=h,c[l++]=t+i,c[l++]=e+n,c[l++]=s,c[l++]=a,c[l++]=o,c[l++]=h,c[l++]=t+i,c[l++]=e,c[l++]=s,c[l++]=a,c[l++]=o,c[l++]=h,this.elementCount+=r.AAQUAD_INDEX_COUNT},bind:function(t){void 0===t?this.shader.bind():(t.bind(),this.resize(this.width,this.height,this.game.config.resolution,t)),this.indexBufferObject.bind(),this.vertexBufferObject.bind()},flush:function(t){var e=this.glContext,i=this.vertexDataBuffer;0!==this.elementCount&&(this.bind(t),this.vertexBufferObject.updateResource(i.getUsedBufferAsFloat(),0),e.drawElements(e.TRIANGLES,this.elementCount,e.UNSIGNED_SHORT,0),i.clear(),this.elementCount=0)},resize:function(t,e,i,n){var r=void 0!==n?n:this.shader;this.width=t*i,this.height=e*i,r.setConstantMatrix4x4(this.viewMatrixLocation,new Float32Array([2/this.width,0,0,0,0,-2/this.height,0,0,0,0,1,1,-1,1,0,0]))},destroy:function(){this.manager.resourceManager.deleteShader(this.shader),this.manager.resourceManager.deleteBuffer(this.indexBufferObject),this.manager.resourceManager.deleteBuffer(this.vertexBufferObject),this.shader=null,this.indexBufferObject=null,this.vertexBufferObject=null}});t.exports=u},function(t,e){var i={VERTEX_SIZE:24,INDEX_SIZE:2,AAQUAD_VERTEX_COUNT:4,AAQUAD_INDEX_COUNT:6,AAQUAD_VERTEX_COMPONENT_COUNT:6,MAX_AAQUAD:2e3};t.exports=i},function(t,e){t.exports={vert:["uniform mat4 u_view_matrix;","attribute vec2 a_position;","attribute vec4 a_color;","varying vec4 v_color;","void main () {","   gl_Position = u_view_matrix * vec4(a_position, 1.0, 1.0);","   v_color = a_color;","}"].join("\n"),frag:["precision lowp float;","varying vec4 v_color;","void main() {","   gl_FragColor = v_color;","}"].join("\n")}},function(t,e,i){var n=i(0),r=i(167),s=new n({initialize:function(t){this.gl=t,this.shaderCache={},this.shaderCount=0},createRenderTarget:function(t,e,i,n){var s=this.gl,a=s.createFramebuffer(),o=null,h=null,u=0;if(s.bindFramebuffer(s.FRAMEBUFFER,a),void 0!==n&&null!==n?(n.isRenderTexture=!0,s.framebufferTexture2D(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.TEXTURE_2D,n.texture,n.mipLevel)):(o=s.createRenderbuffer(),s.bindRenderbuffer(s.RENDERBUFFER,o),s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,t,e),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,o)),void 0!==i&&null!==i?(i.isRenderTexture=!0,s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,i.texture,i.mipLevel)):(h=s.createRenderbuffer(),s.bindRenderbuffer(s.RENDERBUFFER,h),s.renderbufferStorage(s.RENDERBUFFER,s.RGBA4,t,e),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.RENDERBUFFER,h)),(u=s.checkFramebufferStatus(s.FRAMEBUFFER))!==s.FRAMEBUFFER_COMPLETE){var c={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"};throw new Error("Framebuffer incomplete. Framebuffer status: "+c[u])}return s.bindFramebuffer(s.FRAMEBUFFER,null),new r.RenderTarget(a,t,e,void 0===i?null:i,void 0===n?null:n)},createBuffer:function(t,e,i){var n=this.gl,s=n.createBuffer();switch(n.bindBuffer(t,s),n.bufferData(t,e,i),t){case n.ARRAY_BUFFER:return new r.VertexBuffer(n,s);case n.ELEMENT_ARRAY_BUFFER:return new r.IndexBuffer(n,s);default:throw new Error("Invalid Buffer Target")}},createTexture:function(t,e,i,n,s,a,o,h,u){var c=this.gl,l=c.createTexture();return c.bindTexture(c.TEXTURE_2D,l),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,e),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,i),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,s),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,n),null===o||void 0===o?c.texImage2D(c.TEXTURE_2D,t,a,h,u,0,a,c.UNSIGNED_BYTE,null):(c.texImage2D(c.TEXTURE_2D,t,a,a,c.UNSIGNED_BYTE,o),h=o.width,u=o.height),c.bindTexture(c.TEXTURE_2D,null),new r.Texture(l,h,u)},createShader:function(t,e){if(null!==t&&void 0!==t||(t+="Shader"+this.shaderCount,this.shaderCount+=1),t in this.shaderCache)return this.shaderCache[t];var i,n,s,a,o,h,u=this.gl;if(n=u.createShader(u.VERTEX_SHADER),u.shaderSource(n,e.vert),u.compileShader(n),a=u.getShaderParameter(n,u.COMPILE_STATUS),o=u.getShaderInfoLog(n),!a&&o&&o.length>0)throw new Error("Vertex Shader Compilation Error. Shader name: "+t+".\n"+o+"\n\n Shader source:\n"+e.vert);if(o&&o.length>10&&console.warn("Vertex Shader Compilation Warning. Shader name: "+t+".\n"+o+"\n\n Shader source:\n"+e.vert),s=u.createShader(u.FRAGMENT_SHADER),u.shaderSource(s,e.frag),u.compileShader(s),a=u.getShaderParameter(s,u.COMPILE_STATUS),o=u.getShaderInfoLog(s),!a&&o&&o.length>0)throw new Error("Fragment Shader Compilation Error. Shader name: "+t+".\n"+o+"\n\n Shader source:\n"+e.frag);if(o&&o.length>10&&console.warn("Fragment Shader Compilation Warning. Shader name: "+t+".\n"+o+"\n\n Shader source:\n"+e.frag),i=u.createProgram(),u.attachShader(i,n),u.attachShader(i,s),u.linkProgram(i),u.validateProgram(i),a=u.getProgramParameter(i,u.LINK_STATUS),o=u.getProgramInfoLog(i),!a&&o&&o.length>0)throw new Error("Program Linking Error. Shader name: "+t+".\n"+o);if(o&&o.length>10&&console.warn("Program Linking Warning. Shader name: "+t+".\n"+o),a=u.getProgramParameter(i,u.VALIDATE_STATUS),o=u.getProgramInfoLog(i),!a&&o&&o.length>0)throw new Error("Program Validation Error. Shader name: "+t+".\n"+o);return o&&o.length>10&&console.warn("Program Validation Warning. Shader name: "+t+".\n"+o),h=new r.Shader(t,u,i,n,s),this.shaderCache[t]=h,h},deleteShader:function(t){var e=this.shaderCache[t.name],i=this.gl;void 0!==e&&delete this.shaderCache,i.deleteShader(t.vertexShader),i.deleteShader(t.fragmentShader),i.deleteProgram(t.program),t.vertexShader=null,t.fragmentShader=null,t.program=null,t.name=null},deleteBuffer:function(t){this.gl.deleteBuffer(t.bufferObject)}});t.exports=s},function(t,e,i){var n=i(0),r=null,s=new n({initialize:function(t,e){this.gl=t,this.bufferTarget=t.ELEMENT_ARRAY_BUFFER,this.bufferObject=e},bind:function(){var t=this.gl;return r!==this&&(r=this,t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.bufferObject)),this},updateResource:function(t,e){var i=this.gl;return r!==this&&(r=this,i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,this.bufferObject)),i.bufferSubData(i.ELEMENT_ARRAY_BUFFER,e,t),this}});s.SetDirty=function(){r=null},t.exports=s},function(t,e){var i=function(t,e,i,n,r){this.framebufferObject=t,this.width=e,this.height=i,this.colorBuffer=n,this.depthStencilBuffer=r,this.shouldClear=!1,this.clearAlpha=0};t.exports=i},function(t,e,i){var n=i(0),r=null,s=new n({initialize:function(t,e,i,n,r){this.gl=e,this.program=i,this.vertexShader=n,this.fragmentShader=r,this.name=t},bindAttribLocation:function(t,e){this.gl.bindAttribLocation(this.program,t,e)},getUniformLocation:function(t){return this.gl.getUniformLocation(this.program,t)},getAttribLocation:function(t){return this.gl.getAttribLocation(this.program,t)},setConstantFloat1:function(t,e){return this.bind(),this.gl.uniform1f(t,e),this},setConstantFloat2:function(t,e,i){return this.bind(),this.gl.uniform2f(t,e,i),this},setConstantFloat3:function(t,e,i,n){return this.bind(),this.gl.uniform3f(t,e,i,n),this},setConstantFloat4:function(t,e,i,n,r){return this.bind(),this.gl.uniform4f(t,e,i,n,r),this},setConstantInt1:function(t,e){return this.bind(),this.gl.uniform1i(t,e),this},setConstantInt2:function(t,e,i){return this.bind(),this.gl.uniform2i(t,e,i),this},setConstantInt3:function(t,e,i,n){return this.bind(),this.gl.uniform3i(t,e,i,n),this},setConstantInt4:function(t,e,i,n,r){return this.bind(),this.gl.uniform4i(t,e,i,n,r),this},setConstantMatrix2x2:function(t,e){return this.bind(),this.gl.uniformMatrix2fv(t,!1,e),this},setConstantMatrix3x3:function(t,e){return this.bind(),this.gl.uniformMatrix3fv(t,!1,e),this},setConstantMatrix4x4:function(t,e){return this.bind(),this.gl.uniformMatrix4fv(t,!1,e),this},bind:function(){return r!==this&&(r=this,this.gl.useProgram(this.program)),this}});s.SetDirty=function(){r=null},t.exports=s},function(t,e,i){var n=i(0),r=new n({initialize:function(t,e,i){this.texture=t,this.width=e,this.height=i,this.isRenderTexture=!1}});t.exports=r},function(t,e,i){var n=i(0),r=i(454),s=i(30),a=i(168),o=i(5),h=i(455),u=new n({initialize:function(t,e,i){this.game=t,this.type=o.WEBGL,this.view=t.canvas,this.resolution=t.config.resolution,this.width=t.config.width*t.config.resolution,this.height=t.config.height*t.config.resolution,this.glContext=e,this.maxVertices=null,this.shader=null,this.vertexBufferObject=null,this.vertexDataBuffer=null,this.vertexCount=0,this.viewMatrixLocation=null,this.tempTriangle=[{x:0,y:0,width:0,rgb:16777215,alpha:1},{x:0,y:0,width:0,rgb:16777215,alpha:1},{x:0,y:0,width:0,rgb:16777215,alpha:1},{x:0,y:0,width:0,rgb:16777215,alpha:1}],this.config={clearBeforeRender:!0,transparent:!1,autoResize:!1,preserveDrawingBuffer:!1,WebGLContextOptions:{alpha:!0,antialias:!0,premultipliedAlpha:!0,stencil:!0,preserveDrawingBuffer:!1}},this.manager=i,this.dirty=!1,this.context=null,this.init(this.glContext)},init:function(t){var e=new s(r.VERTEX_SIZE*r.MAX_VERTICES),i=this.manager.resourceManager.createShader("UntexturedAndNormalizedTintedShader",h),n=this.manager.resourceManager.createBuffer(t.ARRAY_BUFFER,e.getByteCapacity(),t.STREAM_DRAW),a=i.getUniformLocation("u_view_matrix"),o=r.MAX_VERTICES;n.addAttribute(i.getAttribLocation("a_position"),2,t.FLOAT,!1,r.VERTEX_SIZE,0),n.addAttribute(i.getAttribLocation("a_color"),4,t.UNSIGNED_BYTE,!0,r.VERTEX_SIZE,8),n.addAttribute(i.getAttribLocation("a_alpha"),1,t.FLOAT,!1,r.VERTEX_SIZE,12),this.vertexDataBuffer=e,this.shader=i,this.vertexBufferObject=n,this.viewMatrixLocation=a,this.maxVertices=o,this.polygonCache=[],this.resize(this.width,this.height,this.game.config.resolution)},shouldFlush:function(){return!1},isFull:function(){return this.vertexDataBuffer.getByteLength()>=this.vertexDataBuffer.getByteCapacity()},bind:function(t){void 0===t?this.shader.bind():(t.bind(),this.resize(this.width,this.height,this.game.config.resolution,t)),this.vertexBufferObject.bind()},flush:function(t){var e=this.glContext,i=this.vertexDataBuffer;0!==this.vertexCount&&(this.bind(t),this.vertexBufferObject.updateResource(i.getUsedBufferAsFloat(),0),e.drawArrays(e.TRIANGLES,0,this.vertexCount),i.clear(),this.vertexCount=0)},resize:function(t,e,i,n){var r=void 0!==n?n:this.shader;this.width=t*i,this.height=e*i,r.setConstantMatrix4x4(this.viewMatrixLocation,new Float32Array([2/this.width,0,0,0,0,-2/this.height,0,0,0,0,1,1,-1,1,0,0]))},addLine:function(t,e,i,n,r,s,a,o,h,u,c,l,f,d,p,v,g,x,m,y,E){this.vertexCount+6>this.maxVertices&&this.flush(),this.vertexCount+=6;var T=E.matrix[0],w=E.matrix[1],b=E.matrix[2],_=E.matrix[3],A=E.matrix[4],S=E.matrix[5],R=p*T+v*b,O=p*w+v*_,C=g*T+x*b,M=g*w+x*_,L=m*T+y*b+A,F=m*w+y*_+S,D=this.vertexDataBuffer,I=D.floatView,B=D.uintView,P=o-s,k=h-a,N=Math.sqrt(P*P+k*k),X=u*(h-a)/N,U=u*(s-o)/N,Y=c*(h-a)/N,z=c*(s-o)/N,V=o-Y,G=h-z,j=s-X,H=a-U,W=o+Y,q=h+z,K=s+X,Z=a+U,J=V*R+G*C+L,Q=V*O+G*M+F,$=j*R+H*C+L,tt=j*O+H*M+F,et=W*R+q*C+L,it=W*O+q*M+F,nt=K*R+Z*C+L,rt=K*O+Z*M+F,st=D.allocate(24);return I[st++]=J,I[st++]=Q,B[st++]=f,I[st++]=d,I[st++]=$,I[st++]=tt,B[st++]=l,I[st++]=d,I[st++]=et,I[st++]=it,B[st++]=f,I[st++]=d,I[st++]=$,I[st++]=tt,B[st++]=l,I[st++]=d,I[st++]=nt,I[st++]=rt,B[st++]=l,I[st++]=d,I[st++]=et,I[st++]=it,B[st++]=f,I[st++]=d,[J,Q,f,$,tt,l,et,it,f,nt,rt,l]},addStrokePath:function(t,e,i,n,r,s,a,o,h,u,c,l,f,d,p,v,g){for(var x,m,y,E,T,w,b=s.length,_=this.polygonCache,A=this.vertexDataBuffer,S=A.floatView,R=A.uintView,O=0;O+1<b;O+=1)x=s[O],m=s[O+1],w=this.addLine(t,e,i,n,r,x.x,x.y,m.x,m.y,x.width/2,m.width/2,x.rgb,m.rgb,h,u,c,l,f,d,p,g),_.push(w);for(var C=1,M=_.length;C<M;++C)this.vertexCount+6>this.maxVertices&&this.flush(),y=_[C-1]||_[M-1],E=_[C],T=A.allocate(24),S[T++]=y[6],S[T++]=y[7],R[T++]=y[8],S[T++]=h,S[T++]=y[0],S[T++]=y[1],R[T++]=y[2],S[T++]=h,S[T++]=E[9],S[T++]=E[10],R[T++]=E[11],S[T++]=h,S[T++]=y[0],S[T++]=y[1],R[T++]=y[2],S[T++]=h,S[T++]=y[6],S[T++]=y[7],R[T++]=y[8],S[T++]=h,S[T++]=E[3],S[T++]=E[4],R[T++]=E[5],S[T++]=h,this.vertexCount+=6;_.length=0},addFillPath:function(t,e,i,n,r,s,o,h,u,c,l,f,d,p,v){for(var g,x,m,y,E,T,w,b,_,A,S,R,O,C,M,L,F,D,I=s.length,B=this.polygonCache,P=this.vertexCount,k=this.maxVertices,N=this.vertexDataBuffer,X=N.floatView,U=N.uintView,Y=v.matrix[0],z=v.matrix[1],V=v.matrix[2],G=v.matrix[3],j=v.matrix[4],H=v.matrix[5],W=u*Y+c*V,q=u*z+c*G,K=l*Y+f*V,Z=l*z+f*G,J=d*Y+p*V+j,Q=d*z+p*G+H,$=0;$<I;++$)x=s[$],B.push(x.x,x.y);g=a(B),I=g.length;for(var tt=0;tt<I;tt+=3)m=2*g[tt+0],y=2*g[tt+1],E=2*g[tt+2],P+3>k&&(this.vertexCount=P,this.flush(),P=0),T=N.allocate(12),P+=3,w=B[m+0],b=B[m+1],_=B[y+0],A=B[y+1],S=B[E+0],R=B[E+1],O=w*W+b*K+J,C=w*q+b*Z+Q,M=_*W+A*K+J,L=_*q+A*Z+Q,F=S*W+R*K+J,D=S*q+R*Z+Q,X[T++]=O,X[T++]=C,U[T++]=o,X[T++]=h,X[T++]=M,X[T++]=L,U[T++]=o,X[T++]=h,X[T++]=F,X[T++]=D,U[T++]=o,X[T++]=h;this.vertexCount=P,B.length=0},addFillRect:function(t,e,i,n,r,s,a,o,h,u,c,l,f,d,p,v,g,x){this.vertexCount+6>this.maxVertices&&this.flush();var m=this.vertexDataBuffer,y=m.floatView,E=m.uintView,T=m.allocate(24),w=s+o,b=a+h,_=x.matrix[0],A=x.matrix[1],S=x.matrix[2],R=x.matrix[3],O=x.matrix[4],C=x.matrix[5],M=l*_+f*S,L=l*A+f*R,F=d*_+p*S,D=d*A+p*R,I=v*_+g*S+O,B=v*A+g*R+C,P=s*M+a*F+I,k=s*L+a*D+B,N=s*M+b*F+I,X=s*L+b*D+B,U=w*M+b*F+I,Y=w*L+b*D+B,z=w*M+a*F+I,V=w*L+a*D+B;y[T++]=P,y[T++]=k,E[T++]=u,y[T++]=c,y[T++]=N,y[T++]=X,E[T++]=u,y[T++]=c,y[T++]=U,y[T++]=Y,E[T++]=u,y[T++]=c,y[T++]=P,y[T++]=k,E[T++]=u,y[T++]=c,y[T++]=U,y[T++]=Y,E[T++]=u,y[T++]=c,y[T++]=z,y[T++]=V,E[T++]=u,y[T++]=c,this.vertexCount+=6},addFillTriangle:function(t,e,i,n,r,s,a,o,h,u,c,l,f,d,p,v,g,x,m,y){this.vertexCount+3>this.maxVertices&&this.flush();var E=y.matrix[0],T=y.matrix[1],w=y.matrix[2],b=y.matrix[3],_=y.matrix[4],A=y.matrix[5],S=d*E+p*w,R=d*T+p*b,O=v*E+g*w,C=v*T+g*b,M=x*E+m*w+_,L=x*T+m*b+A,F=this.vertexDataBuffer,D=F.floatView,I=F.uintView,B=F.allocate(12),P=s*S+a*O+M,k=s*R+a*C+L,N=o*S+h*O+M,X=o*R+h*C+L,U=u*S+c*O+M,Y=u*R+c*C+L;D[B++]=P,D[B++]=k,I[B++]=l,D[B++]=f,D[B++]=N,D[B++]=X,I[B++]=l,D[B++]=f,D[B++]=U,D[B++]=Y,I[B++]=l,D[B++]=f,this.vertexCount+=3},addStrokeTriangle:function(t,e,i,n,r,s,a,o,h,u,c,l,f,d,p,v,g,x,m,y,E){var T=this.tempTriangle;T[0].x=s,T[0].y=a,T[0].width=l,T[0].rgb=f,T[0].alpha=d,T[1].x=o,T[1].y=h,T[1].width=l,T[1].rgb=f,T[1].alpha=d,T[2].x=u,T[2].y=c,T[2].width=l,T[2].rgb=f,T[2].alpha=d,T[3].x=s,T[3].y=a,T[3].width=l,T[3].rgb=f,T[3].alpha=d,this.addStrokePath(t,e,i,n,r,T,l,f,d,p,v,g,x,m,y,!1,E)},destroy:function(){this.manager.resourceManager.deleteShader(this.shader),this.manager.resourceManager.deleteBuffer(this.vertexBufferObject),this.shader=null,this.vertexBufferObject=null}});t.exports=u},function(t,e){var i={VERTEX_SIZE:16,SHAPE_VERTEX_COMPONENT_COUNT:4,MAX_VERTICES:16e3};t.exports=i},function(t,e){t.exports={vert:["precision mediump float;","uniform mat4 u_view_matrix;","attribute vec2 a_position;","attribute vec4 a_color;","attribute float a_alpha;","varying vec4 v_color;","varying float v_alpha;","void main () {","   gl_Position = u_view_matrix * vec4(a_position, 1.0, 1.0);","   v_color = a_color;","   v_alpha = a_alpha;","}"].join("\n"),frag:["precision mediump float;","varying vec4 v_color;","varying float v_alpha;","void main() {","   gl_FragColor = vec4(v_color.bgr, v_alpha);","}"].join("\n")}},function(t,e,i){var n=i(0),r=i(457),s=i(37),a=i(30),o=i(5),h=i(38),u=i(23),c=new n({initialize:function(t,e,i){this.game=t,this.type=o.WEBGL,this.view=t.canvas,this.resolution=t.config.resolution,this.width=t.config.width*t.config.resolution,this.height=t.config.height*t.config.resolution,this.glContext=e,this.maxSprites=null,this.shader=null,this.vertexBufferObject=null,this.indexBufferObject=null,this.indexBufferObjectForMesh=null,this.vertexDataBuffer=null,this.indexDataBuffer=null,this.elementCount=0,this.currentTexture2D=null,this.viewMatrixLocation=null,this.tempMatrix=new u,this.config={clearBeforeRender:!0,transparent:!1,autoResize:!1,preserveDrawingBuffer:!1,WebGLContextOptions:{alpha:!0,antialias:!0,premultipliedAlpha:!0,stencil:!0,preserveDrawingBuffer:!1}},this.manager=i,this.dirty=!1,this.drawIndexed=!0,this.lastDrawIndexed=!0,this.lastDrawingMesh=!1,this.drawingMesh=!1,this.vertexCount=0,this.init(this.glContext)},init:function(t){var e=new a(r.VERTEX_SIZE*r.SPRITE_VERTEX_COUNT*r.MAX_SPRITES),i=new s(r.INDEX_SIZE*r.SPRITE_INDEX_COUNT*r.MAX_SPRITES),n=this.manager.resourceManager.createShader("TexturedAndNormalizedTintedShader",h),o=this.manager.resourceManager.createBuffer(t.ELEMENT_ARRAY_BUFFER,i.getByteCapacity(),t.STATIC_DRAW),u=this.manager.resourceManager.createBuffer(t.ELEMENT_ARRAY_BUFFER,i.getByteCapacity(),t.STREAM_DRAW),c=this.manager.resourceManager.createBuffer(t.ARRAY_BUFFER,e.getByteCapacity(),t.STREAM_DRAW),l=n.getUniformLocation("u_view_matrix"),f=i.uintView,d=r.MAX_SPRITES*r.SPRITE_INDEX_COUNT;this.vertexDataBuffer=e,this.indexDataBuffer=i,this.shader=n,this.indexBufferObject=o,this.indexBufferObjectForMesh=u,this.vertexBufferObject=c,this.viewMatrixLocation=l,c.addAttribute(n.getAttribLocation("a_position"),2,t.FLOAT,!1,r.VERTEX_SIZE,0),c.addAttribute(n.getAttribLocation("a_tex_coord"),2,t.FLOAT,!1,r.VERTEX_SIZE,8),c.addAttribute(n.getAttribLocation("a_color"),3,t.UNSIGNED_BYTE,!0,r.VERTEX_SIZE,16),c.addAttribute(n.getAttribLocation("a_alpha"),1,t.FLOAT,!1,r.VERTEX_SIZE,20);for(var p=0,v=0;p<d;p+=r.SPRITE_INDEX_COUNT,v+=r.SPRITE_VERTEX_COUNT)f[p+0]=v+0,f[p+1]=v+1,f[p+2]=v+2,f[p+3]=v+0,f[p+4]=v+2,f[p+5]=v+3;o.updateResource(f,0),this.resize(this.width,this.height,this.game.config.resolution)},shouldFlush:function(){return!(this.drawIndexed===this.lastDrawIndexed&&this.lastDrawingMesh===this.drawingMesh&&!this.isFull())&&(this.lastDrawIndexed=this.drawIndexed,this.lastDrawingMesh=this.drawingMesh,!0)},isFull:function(){return this.vertexDataBuffer.getByteLength()>=this.vertexDataBuffer.getByteCapacity()},bind:function(t){void 0===t?this.shader.bind():(t.bind(),this.resize(this.width,this.height,this.game.config.resolution,t)),this.vertexBufferObject.bind()},flush:function(t,e){var i=this.glContext,n=this.vertexDataBuffer;0===this.elementCount&&0===this.vertexCount||(e&&i.bindFramebuffer(i.FRAMEBUFFER,e),this.bind(t),this.vertexBufferObject.updateResource(n.getUsedBufferAsFloat(),0),this.drawIndexed?(this.drawingMesh?(this.indexBufferObjectForMesh.bind(),this.indexBufferObjectForMesh.updateResource(this.indexDataBuffer.buffer,0)):this.indexBufferObject.bind(),i.drawElements(i.TRIANGLES,this.elementCount,i.UNSIGNED_SHORT,0)):i.drawArrays(i.TRIANGLES,0,this.vertexCount),n.clear(),this.elementCount=0,this.vertexCount=0,e&&i.bindFramebuffer(i.FRAMEBUFFER,null))},resize:function(t,e,i,n){var r=void 0!==n?n:this.shader,s=r===this.shader?this.viewMatrixLocation:r.getUniformLocation("u_view_matrix");this.width=t*i,this.height=e*i,this.setProjectionMatrix(r,s)},setProjectionMatrix:function(t,e){t.setConstantMatrix4x4(e,new Float32Array([2/this.width,0,0,0,0,-2/this.height,0,0,0,0,1,1,-1,1,0,0]))},destroy:function(){this.manager.resourceManager.deleteShader(this.shader),this.manager.resourceManager.deleteBuffer(this.indexBufferObject),this.manager.resourceManager.deleteBuffer(this.vertexBufferObject),this.shader=null,this.indexBufferObject=null,this.vertexBufferObject=null},addMeshIndexed:function(t,e){var i,n,r,s,a,o,h,u,c,l,f,d,p,v,g,x,m,y,E=this.tempMatrix,T=t.frame,w=this.vertexDataBuffer,b=w.floatView,_=w.uintView,A=0,S=t.x-e.scrollX*t.scrollFactorX,R=t.y-e.scrollY*t.scrollFactorY,O=t.scaleX,C=t.scaleY,M=-t.rotation,L=E.matrix,F=e.matrix.matrix,D=t.vertices,I=t.uv,B=D.length,P=B/2|0,k=this.indexDataBuffer.uintView,N=t.indices,X=t.colors,U=t.alphas,Y=N.length,z=0;E.applyITRS(S,R,M,O,C),h=L[0],u=L[1],c=L[2],l=L[3],f=L[4],d=L[5],p=F[0],v=F[1],g=F[2],x=F[3],m=F[4],y=F[5],i=h*p+u*g,n=h*v+u*x,r=c*p+l*g,s=c*v+l*x,a=f*p+d*g+m,o=f*v+d*x+y,this.manager.setRenderer(this,T.texture.source[T.sourceIndex].glTexture,t.renderTarget),z=this.vertexCount,this.drawIndexed=!0,this.drawingMesh=!0,this.vertexCount+=P,A=w.allocate(6*P);var V,G;for(V=0,G=0;V<B;V+=2){var j=D[V+0],H=D[V+1],W=j*i+H*r+a,q=j*n+H*s+o;b[A++]=W,b[A++]=q,b[A++]=I[V+0],b[A++]=I[V+1],_[A++]=X[G],b[A++]=U[G],G+=1}var K=this.elementCount;for(V=0;V<Y;++V)k[K+V]=z+N[V];this.elementCount+=Y},addMesh:function(t,e){var i,n,r,s,a,o,h,u,c,l,f,d,p,v,g,x,m,y,E=this.tempMatrix,T=t.frame,w=this.vertexDataBuffer,b=w.floatView,_=w.uintView,A=0,S=t.x-e.scrollX*t.scrollFactorX,R=t.y-e.scrollY*t.scrollFactorY,O=t.scaleX,C=t.scaleY,M=-t.rotation,L=E.matrix,F=e.matrix.matrix,D=t.vertices,I=t.uv,B=t.colors,P=t.alphas,k=D.length,N=k/2|0;E.applyITRS(S,R,M,O,C),h=L[0],u=L[1],c=L[2],l=L[3],f=L[4],d=L[5],p=F[0],v=F[1],g=F[2],x=F[3],m=F[4],y=F[5],i=h*p+u*g,n=h*v+u*x,r=c*p+l*g,s=c*v+l*x,a=f*p+d*g+m,o=f*v+d*x+y,this.manager.setRenderer(this,T.texture.source[T.sourceIndex].glTexture,t.renderTarget),this.drawIndexed=!1,this.drawingMesh=!0,this.vertexCount+=N,A=w.allocate(6*N);for(var X=0,U=0;X<k;X+=2){var Y=D[X+0],z=D[X+1],V=Y*i+z*r+a,G=Y*n+z*s+o;b[A++]=V,b[A++]=G,b[A++]=I[X+0],b[A++]=I[X+1],_[A++]=B[U],b[A++]=P[U],U+=1}},addTileTextureRect:function(t,e,i,n,r,s,a,o,h,u,c,l,f,d,p,v,g){var x,m,y,E,T,w,b,_,A,S,R,O,C,M,L=this.vertexDataBuffer,F=L.floatView,D=L.uintView,I=0,B=e+n,P=i+r,k=v.matrix.matrix,N=.5*n,X=.5*r,U=(l-(N-.5))/u,Y=(f-(X-.5))/c,z=(l+(N-.5))/u,V=(f+(X-.5))/c,G=v.scrollX*o,j=v.scrollY*h;x=k[0],m=k[1],y=k[2],E=k[3],T=k[4],w=k[5],b=e*x+i*y+T-G,_=e*m+i*E+w-j,A=e*x+P*y+T-G,S=e*m+P*E+w-j,R=B*x+P*y+T-G,O=B*m+P*E+w-j,C=B*x+i*y+T-G,M=B*m+i*E+w-j,this.manager.setRenderer(this,t,g),this.drawIndexed=!0,this.drawingMesh=!1,this.elementCount+=6,I=L.allocate(24),F[I++]=b,F[I++]=_,F[I++]=U,F[I++]=Y,D[I++]=a,F[I++]=s,F[I++]=A,F[I++]=S,F[I++]=U,F[I++]=V,D[I++]=a,F[I++]=s,F[I++]=R,F[I++]=O,F[I++]=z,F[I++]=V,D[I++]=a,F[I++]=s,F[I++]=C,F[I++]=M,F[I++]=z,F[I++]=Y,D[I++]=a,F[I++]=s},addSpriteTextureRect:function(t,e,i,n,r,s,a,o,h){var u,c,l,f,d,p,v,g,x,m,y,E,T,w,b,_,A,S,R,O,C,M,L,F,D,I,B=this.tempMatrix,P=this.vertexDataBuffer,k=P.floatView,N=P.uintView,X=0,U=(t.flipX,t.flipY,t.x-e.scrollX*t.scrollFactorX),Y=t.y-e.scrollY*t.scrollFactorY,z=t.scaleX,V=t.scaleY,G=-t.rotation,j=B.matrix,H=-t.displayOriginX+s*(t.flipX?1:0),W=-t.displayOriginY+a*(t.flipY?1:0),q=H+s,K=W+a,Z=e.matrix.matrix,J=t._alphaTL,Q=t._alphaTR,$=t._alphaBL,tt=t._alphaBR,et=t._tintTL,it=t._tintTR,nt=t._tintBL,rt=t._tintBR;B.applyITRS(U,Y,G,z,V),b=j[0],_=j[1],A=j[2],S=j[3],R=j[4],O=j[5],C=Z[0],M=Z[1],L=Z[2],F=Z[3],D=Z[4],I=Z[5],u=b*C+_*L,c=b*M+_*F,l=A*C+S*L,f=A*M+S*F,d=R*C+O*L+D,p=R*M+O*F+I,v=H*u+W*l+d,g=H*c+W*f+p,x=H*u+K*l+d,m=H*c+K*f+p,y=q*u+K*l+d,E=q*c+K*f+p,T=q*u+W*l+d,w=q*c+W*f+p,this.manager.setRenderer(this,i,t.renderTarget),this.drawIndexed=!0,this.drawingMesh=!1,X=P.allocate(24),this.elementCount+=6,k[X++]=v,k[X++]=g,k[X++]=0,k[X++]=0,N[X++]=et,k[X++]=J,k[X++]=x,k[X++]=m,k[X++]=0,k[X++]=1,N[X++]=nt,k[X++]=$,k[X++]=y,k[X++]=E,k[X++]=1,k[X++]=1,N[X++]=rt,k[X++]=tt,k[X++]=T,k[X++]=w,k[X++]=1,k[X++]=0,N[X++]=it,k[X++]=Q},addSpriteTexture:function(t,e,i,n,r){var s,a,o,h,u,c,l,f,d,p,v,g,x,m,y,E,T,w,b,_,A,S,R,O,C,M,L=this.tempMatrix,F=this.vertexDataBuffer,D=F.floatView,I=F.uintView,B=0,P=n*(t.flipX?-1:1),k=r*(t.flipY?-1:1),N=t.x-e.scrollX*t.scrollFactorX,X=t.y-e.scrollY*t.scrollFactorY,U=t.scaleX,Y=t.scaleY,z=-t.rotation,V=L.matrix,G=-t.displayOriginX+n*(t.flipX?1:0),j=-t.displayOriginY+r*(t.flipY?1:0),H=G+P,W=j+k,q=e.matrix.matrix,K=t._alphaTL,Z=t._alphaTR,J=t._alphaBL,Q=t._alphaBR,$=t._tintTL,tt=t._tintTR,et=t._tintBL,it=t._tintBR;L.applyITRS(N,X,z,U,Y),y=V[0],E=V[1],T=V[2],w=V[3],b=V[4],_=V[5],A=q[0],S=q[1],R=q[2],O=q[3],C=q[4],M=q[5],s=y*A+E*R,a=y*S+E*O,o=T*A+w*R,h=T*S+w*O,u=b*A+_*R+C,c=b*S+_*O+M,l=G*s+j*o+u,f=G*a+j*h+c,d=G*s+W*o+u,p=G*a+W*h+c,v=H*s+W*o+u,g=H*a+W*h+c,x=H*s+j*o+u,m=H*a+j*h+c,this.manager.setRenderer(this,i,t.renderTarget),this.drawIndexed=!0,this.drawingMesh=!1,B=F.allocate(24),this.elementCount+=6,D[B++]=l,D[B++]=f,D[B++]=0,D[B++]=0,I[B++]=$,D[B++]=K,D[B++]=d,D[B++]=p,D[B++]=0,D[B++]=1,I[B++]=et,D[B++]=J,D[B++]=v,D[B++]=g,D[B++]=1,D[B++]=1,I[B++]=it,D[B++]=Q,D[B++]=x,D[B++]=m,D[B++]=1,D[B++]=0,I[B++]=tt,D[B++]=Z},addSprite:function(t,e){var i,n,r,s,a,o,h,u,c,l,f,d,p,v,g,x,m,y,E,T,w,b,_,A,S,R,O=this.tempMatrix,C=t.frame,M=!!C.texture.source[C.sourceIndex].glTexture.isRenderTexture,L=t.flipX,F=t.flipY^M,D=this.vertexDataBuffer,I=D.floatView,B=D.uintView,P=0,k=C.uvs,N=C.width*(L?-1:1),X=C.height*(F?-1:1),U=t.x-e.scrollX*t.scrollFactorX,Y=t.y-e.scrollY*t.scrollFactorY,z=t.scaleX,V=t.scaleY,G=-t.rotation,j=O.matrix,H=-t.displayOriginX+C.x+C.width*(L?1:0),W=-t.displayOriginY+C.y+C.height*(F?1:0),q=H+N,K=W+X,Z=e.matrix.matrix,J=t._alphaTL,Q=t._alphaTR,$=t._alphaBL,tt=t._alphaBR,et=t._tintTL,it=t._tintTR,nt=t._tintBL,rt=t._tintBR;O.applyITRS(U,Y,G,z,V),g=j[0],x=j[1],m=j[2],y=j[3],E=j[4],T=j[5],w=Z[0],b=Z[1],_=Z[2],A=Z[3],S=Z[4],R=Z[5],i=g*w+x*_,n=g*b+x*A,r=m*w+y*_,s=m*b+y*A,a=E*w+T*_+S,o=E*b+T*A+R,h=H*i+W*r+a,u=H*n+W*s+o,c=H*i+K*r+a,l=H*n+K*s+o,f=q*i+K*r+a,d=q*n+K*s+o,p=q*i+W*r+a,v=q*n+W*s+o,this.manager.setRenderer(this,C.texture.source[C.sourceIndex].glTexture,t.renderTarget),this.drawIndexed=!0,this.drawingMesh=!1,P=D.allocate(24),this.elementCount+=6,I[P++]=h,I[P++]=u,I[P++]=k.x0,I[P++]=k.y0,B[P++]=et,I[P++]=J,I[P++]=c,I[P++]=l,I[P++]=k.x1,I[P++]=k.y1,B[P++]=nt,I[P++]=$,I[P++]=f,I[P++]=d,I[P++]=k.x2,I[P++]=k.y2,B[P++]=rt,I[P++]=tt,I[P++]=p,I[P++]=v,I[P++]=k.x3,I[P++]=k.y3,B[P++]=it,I[P++]=Q}});t.exports=c},function(t,e){var i={VERTEX_SIZE:24,INDEX_SIZE:2,SPRITE_VERTEX_COUNT:4,SPRITE_INDEX_COUNT:6,SPRITE_VERTEX_COMPONENT_COUNT:6,MAX_SPRITES:2e3};t.exports=i},function(t,e,i){var n=i(0),r=i(459),s=i(37),a=i(30),o=i(5),h=i(38),u=i(23),c=new n({initialize:function(t,e,i){this.game=t,this.type=o.WEBGL,this.view=t.canvas,this.resolution=t.config.resolution,this.width=t.config.width*t.config.resolution,this.height=t.config.height*t.config.resolution,this.glContext=e,this.maxSprites=null,this.shader=null,this.vertexBufferObject=null,this.indexBufferObject=null,this.vertexDataBuffer=null,this.indexDataBuffer=null,this.elementCount=0,this.currentTexture2D=null,this.viewMatrixLocation=null,this.tempMatrix=new u,this.config={clearBeforeRender:!0,transparent:!1,autoResize:!1,preserveDrawingBuffer:!1,WebGLContextOptions:{alpha:!0,antialias:!0,premultipliedAlpha:!0,stencil:!0,preserveDrawingBuffer:!1}},this.manager=i,this.dirty=!1,this.init(this.glContext)},init:function(t){var e=new a(r.VERTEX_SIZE*r.SPRITE_VERTEX_COUNT*r.MAX_SPRITES),i=new s(r.INDEX_SIZE*r.SPRITE_INDEX_COUNT*r.MAX_SPRITES),n=this.manager.resourceManager.createShader("TexturedAndNormalizedTintedShader",h),o=this.manager.resourceManager.createBuffer(t.ELEMENT_ARRAY_BUFFER,i.getByteCapacity(),t.STATIC_DRAW),u=this.manager.resourceManager.createBuffer(t.ARRAY_BUFFER,e.getByteCapacity(),t.STREAM_DRAW),c=n.getUniformLocation("u_view_matrix"),l=i.uintView,f=r.MAX_SPRITES*r.SPRITE_INDEX_COUNT;this.vertexDataBuffer=e,this.indexDataBuffer=i,this.shader=n,this.indexBufferObject=o,this.vertexBufferObject=u,this.viewMatrixLocation=c,u.addAttribute(n.getAttribLocation("a_position"),2,t.FLOAT,!1,r.VERTEX_SIZE,0),u.addAttribute(n.getAttribLocation("a_tex_coord"),2,t.FLOAT,!1,r.VERTEX_SIZE,8),u.addAttribute(n.getAttribLocation("a_color"),3,t.UNSIGNED_BYTE,!0,r.VERTEX_SIZE,16),u.addAttribute(n.getAttribLocation("a_alpha"),1,t.FLOAT,!1,r.VERTEX_SIZE,20);for(var d=0,p=0;d<f;d+=r.SPRITE_INDEX_COUNT,p+=r.SPRITE_VERTEX_COUNT)l[d+0]=p+0,l[d+1]=p+1,l[d+2]=p+2,l[d+3]=p+0,l[d+4]=p+2,l[d+5]=p+3;o.updateResource(l,0),this.resize(this.width,this.height,this.game.config.resolution)},shouldFlush:function(){return!1},isFull:function(){return this.vertexDataBuffer.getByteLength()>=this.vertexDataBuffer.getByteCapacity()},bind:function(t){void 0===t?this.shader.bind():(t.bind(),this.resize(this.width,this.height,this.game.config.resolution,t)),this.indexBufferObject.bind(),this.vertexBufferObject.bind()},flush:function(t,e){var i=this.glContext,n=this.vertexDataBuffer;0!==this.elementCount&&(e&&i.bindFramebuffer(i.FRAMEBUFFER,e),this.bind(t),this.vertexBufferObject.updateResource(n.getUsedBufferAsFloat(),0),i.drawElements(i.TRIANGLES,this.elementCount,i.UNSIGNED_SHORT,0),n.clear(),this.elementCount=0,e&&i.bindFramebuffer(i.FRAMEBUFFER,null))},resize:function(t,e,i,n){var r=void 0!==n?n:this.shader,s=r==this.shader?this.viewMatrixLocation:r.getUniformLocation("u_view_matrix");this.width=t*i,this.height=e*i,this.setProjectionMatrix(r,s)},setProjectionMatrix:function(t,e){t.setConstantMatrix4x4(e,new Float32Array([2/this.width,0,0,0,0,-2/this.height,0,0,0,0,1,1,-1,1,0,0]))},destroy:function(){this.manager.resourceManager.deleteShader(this.shader),this.manager.resourceManager.deleteBuffer(this.indexBufferObject),this.manager.resourceManager.deleteBuffer(this.vertexBufferObject),this.shader=null,this.indexBufferObject=null,this.vertexBufferObject=null},addTileSprite:function(t,e){var i,n,r,s,a,o,h,u,c,l,f,d,p,v,g,x,m,y,E,T,w,b,_,A,S,R,O=this.tempMatrix,C=this.vertexDataBuffer,M=C.floatView,L=C.uintView,F=0,D=t.width*(t.flipX?-1:1),I=t.height*(t.flipY?-1:1),B=t.x-e.scrollX*t.scrollFactorX,P=t.y-e.scrollY*t.scrollFactorY,k=t.scaleX,N=t.scaleY,X=-t.rotation,U=O.matrix,Y=t.originX*t.width,z=t.originY*t.height,V=-Y+t.width*(t.flipX?1:0),G=-z+t.height*(t.flipY?1:0),j=V+D,H=G+I,W=D/t.frame.width,q=I/t.frame.height,K=e.matrix.matrix,Z=t.alpha,J=t.tilePositionX/t.frame.width,Q=t.tilePositionY/t.frame.height,$=t.tileTexture,tt=t._tintTL,et=t._tintTR,it=t._tintBL,nt=t._tintBR;O.applyITRS(B,P,X,k,N),g=U[0],x=U[1],m=U[2],y=U[3],E=U[4],T=U[5],w=K[0],b=K[1],_=K[2],A=K[3],S=K[4],R=K[5],i=g*w+x*_,n=g*b+x*A,r=m*w+y*_,s=m*b+y*A,a=E*w+T*_+S,o=E*b+T*A+R,h=V*i+G*r+a,u=V*n+G*s+o,c=V*i+H*r+a,l=V*n+H*s+o,f=j*i+H*r+a,d=j*n+H*s+o,p=j*i+G*r+a,v=j*n+G*s+o,this.manager.setRenderer(this,$,t.renderTarget),F=C.allocate(24),this.elementCount+=6,M[F++]=h,M[F++]=u,M[F++]=0+J,M[F++]=0+Q,L[F++]=tt,M[F++]=Z,M[F++]=c,M[F++]=l,M[F++]=0+J,M[F++]=q+Q,L[F++]=it,M[F++]=Z,M[F++]=f,M[F++]=d,M[F++]=W+J,M[F++]=q+Q,L[F++]=nt,M[F++]=Z,M[F++]=p,M[F++]=v,M[F++]=W+J,M[F++]=0+Q,L[F++]=et,M[F++]=Z}});t.exports=c},function(t,e){var i={VERTEX_SIZE:24,INDEX_SIZE:2,SPRITE_VERTEX_COUNT:4,SPRITE_INDEX_COUNT:6,SPRITE_VERTEX_COMPONENT_COUNT:6,MAX_SPRITES:2e3};t.exports=i},function(t,e,i){var n=i(0),r=(i(169),i(37),i(30),i(5)),s=i(461),a=new n({initialize:function(t,e,i){this.game=t,this.type=r.WEBGL,this.view=t.canvas,this.resolution=t.config.resolution,this.width=t.config.width*t.config.resolution,this.height=t.config.height*t.config.resolution,this.glContext=e,this.shader=null,this.viewMatrixLocation=null,this.config={clearBeforeRender:!0,transparent:!1,autoResize:!1,preserveDrawingBuffer:!1,WebGLContextOptions:{alpha:!0,antialias:!0,premultipliedAlpha:!0,stencil:!0,preserveDrawingBuffer:!1}},this.manager=i,this.dirty=!1,this.init(this.glContext)},init:function(t){var e=this.manager.resourceManager.createShader("TilemapShader",s),i=e.getUniformLocation("u_view_matrix"),n=e.getUniformLocation("u_scroll"),r=e.getUniformLocation("u_scroll_factor"),a=e.getUniformLocation("u_tilemap_position");this.shader=e,this.viewMatrixLocation=i,this.scrollLocation=n,this.scrollFactorLocation=r,this.tilemapPositionLocation=a,this.resize(this.width,this.height,this.game.config.resolution)},shouldFlush:function(){return!1},isFull:function(){return!1},add:function(t,e,i,n,r,s,a,o){},bind:function(t){void 0===t?this.shader.bind():(t.bind(),this.resize(this.width,this.height,this.game.config.resolution,t))},flush:function(t){},resize:function(t,e,i,n){var r=void 0!==n?n:this.shader;this.width=t*i,this.height=e*i,r.setConstantMatrix4x4(this.viewMatrixLocation,new Float32Array([2/this.width,0,0,0,0,-2/this.height,0,0,0,0,1,1,-1,1,0,0]))},destroy:function(){this.manager.resourceManager.deleteShader(this.shader),this.shader=null}});t.exports=a},function(t,e){t.exports={vert:["uniform mat4 u_view_matrix;","uniform vec2 u_scroll;","uniform vec2 u_scroll_factor;","uniform vec2 u_tilemap_position;","attribute vec2 a_position;","attribute vec2 a_tex_coord;","varying vec2 v_tex_coord;","void main () {","   gl_Position = u_view_matrix * vec4(u_tilemap_position + a_position + (u_scroll * u_scroll_factor), 1.0, 1.0);","   v_tex_coord = a_tex_coord;","}"].join("\n"),frag:["precision mediump float;","uniform sampler2D u_sampler2D;","varying vec2 v_tex_coord;","void main() {","   gl_FragColor = texture2D(u_sampler2D, v_tex_coord);","}"].join("\n")}},function(t,e){var i=function(t){var e=t.getContext("experimental-webgl"),i=new Uint8Array(e.drawingBufferWidth*e.drawingBufferHeight*4);e.readPixels(0,0,e.drawingBufferWidth,e.drawingBufferHeight,e.RGBA,e.UNSIGNED_BYTE,i);var n,r=document.createElement("canvas"),s=r.getContext("2d");r.width=e.drawingBufferWidth,r.height=e.drawingBufferHeight,n=s.getImageData(0,0,r.width,r.height);for(var a=n.data,o=0;o<r.height;o+=1)for(var h=0;h<r.width;h+=1){var u=4*((r.height-o)*r.width+h),c=4*(o*r.width+h);a[c+0]=i[u+0],a[c+1]=i[u+1],a[c+2]=i[u+2],a[c+3]=i[u+3]}s.putImageData(n,0,0);var l=r.toDataURL(),f=new Image;return f.src=l,f};t.exports=i},function(t,e,i){var n=i(464),r=i(0),s=new r({initialize:function(t){this.game=t,this.binary=new n,this.bitmapFont=new n,this.json=new n,this.physics=new n,this.shader=new n,this.sound=new n,this.text=new n,this.tilemap=new n,this.video=new n,this.xml=new n,this.custom={}},addCustom:function(t){if(!this.custom.hasOwnProperty(t))return this.custom[t]=new n,this.custom[t]}});t.exports=s},function(t,e,i){var n=i(0),r=i(29),s=i(465),a=new n({initialize:function(){this.entries=new Map,this.events=new r},add:function(t,e){this.entries.set(t,e),this.events.dispatch(new s.CACHE_ADD_EVENT(this,t,e))},has:function(t){return this.entries.has(t)},get:function(t){return this.entries.get(t)},remove:function(t){var e=this.get(t);e&&(this.entries.delete(t),this.events.dispatch(new s.CACHE_REMOVE_EVENT(this,t,e.data)))},destroy:function(){this.entries.clear()}});t.exports=a},function(t,e,i){t.exports={CACHE_ADD_EVENT:i(466),CACHE_REMOVE_EVENT:i(467)}},function(t,e,i){var n=i(0),r=i(1),s=new n({Extends:r,initialize:function(t,e,i){r.call(this,"CACHE_ADD_EVENT"),this.cache=t,this.key=e,this.data=i}});t.exports=s},function(t,e,i){var n=i(0),r=i(1),s=new n({Extends:r,initialize:function(t,e,i){r.call(this,"CACHE_REMOVE_EVENT"),this.cache=t,this.key=e,this.data=i}});t.exports=s},function(t,e,i){var n=i(0),r=i(29),s=i(170),a=i(76),o=i(473),h=i(174),u=i(178),c=i(483),l=i(487),f=i(488),d=i(179),p=i(489),v=i(23),g=new n({initialize:function(t,e){this.game=t,this.canvas,this.config=e,this.enabled=!0,this.events=new r,this.queue=[],this.keyboard=new h(this),this.mouse=new u(this),this.touch=new p(this),this.gamepad=new s(this),this.activePointer=new l(this,0),this.scale={x:1,y:1},this._tempMatrix=new v,this._tempPoint={x:0,y:0},this._tempHitTest=[]},boot:function(){this.canvas=this.game.canvas,this.keyboard.boot(),this.mouse.boot(),this.touch.boot(),this.gamepad.boot()},update:function(t,e){this.keyboard.update(),this.gamepad.update();var i=this.queue.length,n=this.activePointer;if(n.reset(),this.enabled&&0!==i){this.scale.x=this.game.config.width/this.canvas.offsetWidth,this.scale.y=this.game.config.height/this.canvas.offsetHeight;for(var r=this.queue.splice(0,i),s=0;s<i;s++){var a=r[s];switch(a.type){case"mousemove":n.move(a,t),this.events.dispatch(new c.MOVE(a));break;case"mousedown":n.down(a,t),this.events.dispatch(new c.DOWN(a));break;case"mouseup":n.up(a,t),this.events.dispatch(new c.UP(a));break;case"touchmove":n.touchmove(a,t);break;case"touchstart":n.touchstart(a,t);break;case"touchend":n.touchend(a,t)}}}},getTransformedPoint:function(t,e,i){return a(this._tempMatrix,t,e,i,this._tempPoint)},pointWithinGameObject:function(t,e,i){return d(t,e,i)},hitTest:function(t,e,i,n){return o(this._tempMatrix,e,i,t,n,this._tempHitTest)},pointScreenToWorldHitTest:function(t,e,i,n){return f(this._tempMatrix,e,i,t,n,this._tempHitTest)},transformX:function(t){return(t-this.canvas.offsetLeft)*this.scale.x},transformY:function(t){return(t-this.canvas.offsetTop)*this.scale.y},getOffsetX:function(){return this.canvas.offsetLeft},getOffsetY:function(){return this.canvas.offsetTop},getScaleX:function(){return this.game.config.width/this.canvas.offsetWidth},getScaleY:function(){return this.game.config.height/this.canvas.offsetHeight}});t.exports=g},function(t,e,i){var n=i(0),r=i(1),s=new n({Extends:r,initialize:function(t,e){r.call(this,"GAMEPAD_CONNECTED_EVENT"),this.data=e,this.gamepad=t}});t.exports=s},function(t,e,i){var n=i(0),r=i(1),s=new n({Extends:r,initialize:function(t,e){r.call(this,"GAMEPAD_DISCONNECTED_EVENT"),this.data=e,this.gamepad=t}});t.exports=s},function(t,e,i){var n=i(0),r=i(1),s=new n({Extends:r,initialize:function(t,e,i,n){r.call(this,"GAMEPAD_DOWN_EVENT"),this.data=n,this.gamepad=t,this.button=e,this.value=i}});t.exports=s},function(t,e,i){var n=i(0),r=i(1),s=new n({Extends:r,initialize:function(t,e,i,n){r.call(this,"GAMEPAD_UP_EVENT"),this.data=n,this.gamepad=t,this.button=e,this.value=i}});t.exports=s},function(t,e,i){var n=i(76),r=i(474),s=function(t,e,i,s,a,o){var h=a.width,u=a.height;if(o.length=0,!(e>=a.x&&i>=a.y&&e<=a.x+h&&i<=a.y+u))return o;for(var c=a.cameraToScreen({x:e,y:i}),l=a.cull(s),f=0;f<l.length;f++){var d=l[f];if(d.input.enabled&&d.willRender()){var p=n(t,d,c.x+a.scrollX*d.scrollFactorX,c.y+a.scrollY*d.scrollFactorY);r(d,p.x,p.y,a)&&o.push(d)}}return o};t.exports=s},function(t,e){var i=function(t,e,i,n){var r=t.input;return e+=t.displayOriginX,i+=t.displayOriginY,!!r.hitAreaCallback(r.hitArea,e,i,t)&&(r.localX=e,r.localY=i,!0)};t.exports=i},function(t,e,i){function n(t){var e=function(e){r.call(this,t),this.data=e};return e.prototype=Object.create(r.prototype),e.prototype.constructor=e,e}var r=i(1),s=i(77),a={KEY_DOWN_EVENT:i(476),KEY_UP_EVENT:i(477),_UP:[],_DOWN:[]};for(var o in s){var h="KEY_DOWN_"+o,u="KEY_UP_"+o;a._DOWN[s[o]]=n(h),a._UP[s[o]]=n(u),a[h]=a._DOWN[s[o]],a[u]=a._UP[s[o]]}t.exports=a},function(t,e,i){var n=i(0),r=i(1),s=new n({Extends:r,initialize:function(t){r.call(this,"KEY_DOWN_EVENT"),this.data=t}});t.exports=s},function(t,e,i){var n=i(0),r=i(1),s=new n({Extends:r,initialize:function(t){r.call(this,"KEY_UP_EVENT"),this.data=t}});t.exports=s},function(t,e,i){var n=i(0),r=i(1),s=new n({Extends:r,initialize:function(t,e){r.call(this,"KEY_COMBO_MATCH_EVENT"),this.target=t,this.data=e}});t.exports=s},function(t,e){var i=function(t,e){return e.timeLastMatched=t.timeStamp,++e.index===e.size||(e.current=e.keyCodes[e.index],!1)};t.exports=i},function(t,e){var i=function(t){return t.current=t.keyCodes[0],t.index=0,t.timeLastMatched=0,t.matched=!1,t.timeMatched=0,t};t.exports=i},function(t,e){var i=function(t,e){if(t.originalEvent=e,t.preventDefault&&e.preventDefault(),t.enabled)return t.altKey=e.altKey,t.ctrlKey=e.ctrlKey,t.shiftKey=e.shiftKey,t.location=e.location,t.isDown=!0,t.isUp=!1,t.timeDown=e.timeStamp,t.duration=0,t.repeats++,t._justDown=!0,t._justUp=!1,t};t.exports=i},function(t,e){var i=function(t,e){if(t.originalEvent=e,t.preventDefault&&e.preventDefault(),t.enabled)return t.isDown=!1,t.isUp=!0,t.timeUp=e.timeStamp,t.duration=t.timeUp-t.timeDown,t.repeats=0,t._justDown=!1,t._justUp=!0,t};t.exports=i},function(t,e,i){t.exports={DOWN:i(484),UP:i(485),MOVE:i(486)}},function(t,e,i){var n=i(0),r=i(1),s=new n({Extends:r,initialize:function(t){r.call(this,"MOUSE_DOWN_EVENT"),this.data=t,this.x=t.clientX,this.y=t.clientY}});t.exports=s},function(t,e,i){var n=i(0),r=i(1),s=new n({Extends:r,initialize:function(t){r.call(this,"MOUSE_UP_EVENT"),this.data=t,this.x=t.clientX,this.y=t.clientY}});t.exports=s},function(t,e,i){var n=i(0),r=i(1),s=new n({Extends:r,initialize:function(t){r.call(this,"MOUSE_MOVE_EVENT"),this.data=t,this.x=t.clientX,this.y=t.clientY}});t.exports=s},function(t,e,i){var n=i(0),r=new n({initialize:function(t,e){this.manager=t,this.id=e,this.event,this.camera=null,this.buttons=0,this.x=0,this.y=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.dragState=0,this.isDown=!1,this.dirty=!1,this.justDown=!1,this.justUp=!1,this.justMoved=!1},reset:function(){this.buttons=0,this.dirty=!1,this.isDown=!1,this.justDown=!1,this.justUp=!1,this.justMoved=!1},touchmove:function(t,e){this.event=t,this.x=this.manager.transformX(t.changedTouches[0].pageX),this.y=this.manager.transformY(t.changedTouches[0].pageY),this.justMoved=!0,this.dirty=!0},move:function(t,e){t.buttons&&(this.buttons=t.buttons),this.event=t,this.x=this.manager.transformX(t.pageX),this.y=this.manager.transformY(t.pageY),this.justMoved=!0,this.dirty=!0},down:function(t,e){t.buttons&&(this.buttons=t.buttons),this.event=t,this.x=this.manager.transformX(t.pageX),this.y=this.manager.transformY(t.pageY),0===t.button&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=e),this.justDown=!0,this.isDown=!0,this.dirty=!0},touchstart:function(t,e){this.buttons=1,this.event=t,this.x=this.manager.transformX(t.changedTouches[0].pageX),this.y=this.manager.transformY(t.changedTouches[0].pageY),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=e,this.justDown=!0,this.isDown=!0,this.dirty=!0},up:function(t,e){t.buttons&&(this.buttons=t.buttons),this.event=t,this.x=this.manager.transformX(t.pageX),this.y=this.manager.transformY(t.pageY),0===t.button&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=e),this.justUp=!0,this.isDown=!1,this.dirty=!0},touchend:function(t,e){this.buttons=0,this.event=t,this.x=this.manager.transformX(t.changedTouches[0].pageX),this.y=this.manager.transformY(t.changedTouches[0].pageY),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=e,this.justUp=!0,this.isDown=!1,this.dirty=!0},noButtonDown:function(){return 0===this.buttons},leftButtonDown:function(){return 1&this.buttons},rightButtonDown:function(){return 2&this.buttons},middleButtonDown:function(){return 4&this.buttons},backButtonDown:function(){return 8&this.buttons},forwardButtonDown:function(){return 16&this.buttons}});t.exports=r},function(t,e,i){var n=i(76),r=i(179),s=function(t,e,i,s,a,o){var h=(s.length,a.scrollX),u=a.scrollY,c=a.width,l=a.height;if(o.length=0,!(e>=a.x&&i>=a.y&&e<=a.x+c&&i<=a.y+l))return o;var f=a.cameraToScreen({x:e,y:i});if(Array.isArray(s))for(var d=a.cull(s),p=d.length,v=0;v<p;++v){var g=d[v],x=n(t,g,f.x+h*g.scrollFactorX,f.y+u*g.scrollFactorY);r(g,x.x,x.y)&&o.push(g)}else{var g=s,x=n(t,g,f.x+h*g.scrollFactorX,f.y+u*g.scrollFactorY);r(g,x.x,x.y)&&o.push(g)}return o};t.exports=s},function(t,e,i){var n=i(0),r=new n({initialize:function(t){this.manager=t,this.capture=!1,this.enabled=!1,this.target,this.handler},boot:function(){var t=this.manager.config;this.enabled=t.inputTouch,this.target=t.inputTouchEventTarget,this.target||(this.target=this.manager.game.canvas),this.enabled&&this.startListeners()},startListeners:function(){var t=this.manager.queue,e=this,i=function(i){i.preventDefaulted||(t.push(i),e.capture&&i.preventDefault())};this.handler=i,this.target.addEventListener("touchstart",i,!1),this.target.addEventListener("touchmove",i,!1),this.target.addEventListener("touchend",i,!1)},stopListeners:function(){this.target.removeEventListener("touchstart",this.handler),this.target.removeEventListener("touchmove",this.handler),this.target.removeEventListener("touchend",this.handler)}});t.exports=r},function(t,e,i){var n=i(491),r=i(0),s=new r({initialize:function(t,e){if(this.game=t,this.keys={},this.scenes=[],this.active=[],this._pending=[],this._start=[],e)if(Array.isArray(e))for(var i=0;i<e.length;i++)this._pending.push({index:i,key:"default",scene:e[i],autoStart:0===i,data:{}});else this._pending.push({index:0,key:"default",scene:e,autoStart:!0,data:{}})},add:n.Add,boot:n.Boot,bootScene:n.BootScene,bringToTop:n.BringToTop,create:n.Create,createSceneDisplay:n.CreateSceneDisplay,createSceneFromFunction:n.CreateSceneFromFunction,createSceneFromInstance:n.CreateSceneFromInstance,createSceneFromObject:n.CreateSceneFromObject,getActiveScene:n.GetActiveScene,getActiveSceneIndex:n.GetActiveSceneIndex,getActiveSceneIndexByKey:n.GetActiveSceneIndexByKey,getKey:n.GetKey,getScene:n.GetScene,getSceneAt:n.GetSceneAt,getSceneIndex:n.GetSceneIndex,getSceneIndexByKey:n.GetSceneIndexByKey,isActive:n.IsActive,isSleeping:n.IsSleeping,loadComplete:n.LoadComplete,moveDown:n.MoveDown,moveUp:n.MoveUp,pause:n.Pause,payloadComplete:n.PayloadComplete,resume:n.Resume,sendToBack:n.SendToBack,setupCallbacks:n.SetupCallbacks,sleep:n.Sleep,start:n.Start,stop:n.Stop,swap:n.Swap,swapPosition:n.SwapPosition,wake:n.Wake});t.exports=s},function(t,e,i){t.exports={Add:i(492),Boot:i(761),BootScene:i(762),BringToTop:i(763),Create:i(764),CreateSceneDisplay:i(765),CreateSceneFromFunction:i(766),CreateSceneFromInstance:i(767),CreateSceneFromObject:i(768),GetActiveScene:i(769),GetActiveSceneIndex:i(770),GetActiveSceneIndexByKey:i(771),GetKey:i(772),GetScene:i(773),GetSceneAt:i(774),GetSceneIndex:i(775),GetSceneIndexByKey:i(776),IsActive:i(777),IsSleeping:i(778),LoadComplete:i(779),MoveDown:i(780),MoveUp:i(781),Pause:i(782),PayloadComplete:i(783),Resume:i(784),SendToBack:i(785),SetupCallbacks:i(786),Sleep:i(787),SortScenes:i(62),Start:i(788),Stop:i(789),Swap:i(790),SwapPosition:i(791),Wake:i(792)}},function(t,e,i){var n=i(46),r=function(t,e,i){if(void 0===i&&(i=!1),!this.game.isBooted)return void this._pending.push({index:this._pending.length,key:t,scene:e,autoStart:i});t=this.getKey(t,e);var r;return e instanceof n?r=this.createSceneFromInstance(t,e):"object"==typeof e?(e.key=t,r=this.createSceneFromObject(t,e)):"function"==typeof e&&(r=this.createSceneFromFunction(t,e)),t=r.sys.settings.key,this.keys[t]=r,this.scenes.push(r),(i||r.sys.settings.active)&&(this.game.isBooted?this.start(t):this._start.push(t)),r};t.exports=r},function(t,e,i){var n=i(181),r=i(0),s=i(7),a=i(522),o=i(27),h=i(523),u=new r({initialize:function(t){this.currentCameraId=1,this.scene=t,this.cameras=[],this.cameraPool=[],t.sys.settings.cameras?this.fromJSON(t.sys.settings.cameras):this.add(),this.main=this.cameras[0]},fromJSON:function(t){Array.isArray(t)||(t=[t]);for(var e=this.scene.sys.game.config.width,i=this.scene.sys.game.config.height,n=0;n<t.length;n++){var r=t[n],a=s(r,"x",0),o=s(r,"y",0),h=s(r,"width",e),u=s(r,"height",i),c=this.add(a,o,h,u);c.name=s(r,"name",""),c.zoom=s(r,"zoom",1),c.rotation=s(r,"rotation",0),c.scrollX=s(r,"scrollX",0),c.scrollY=s(r,"scrollY",0),c.roundPixels=s(r,"roundPixels",!1);var l=s(r,"backgroundColor",!1);l&&c.setBackgroundColor(l);var f=s(r,"bounds",null);if(f){var d=s(f,"x",0),p=s(f,"y",0),v=s(f,"width",e),g=s(f,"height",i);c.setBounds(d,p,v,g)}}return this},add:function(t,e,i,r,s){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=this.scene.sys.game.config.width),void 0===r&&(r=this.scene.sys.game.config.height),void 0===s&&(s=!1);var a=null;return this.cameraPool.length>0?(a=this.cameraPool.pop(),a.setViewport(t,e,i,r)):a=new n(t,e,i,r),a.setScene(this.scene),this.cameras.push(a),s&&(this.main=a),a._id=this.currentCameraId,this.currentCameraId=this.currentCameraId<<1,a},addKeyControl:function(t){return new a(t)},addSmoothedKeyControl:function(t){return new h(t)},addReference:function(t){var e=this.cameras.indexOf(t),i=this.cameraPool.indexOf(t);return e<0&&i>=0?(this.cameras.push(t),this.cameraPool.slice(i,1),t):null},remove:function(t){var e=this.cameras.indexOf(t);e>=0&&this.cameras.length>1&&(this.cameraPool.push(this.cameras[e]),this.cameras.splice(e,1),this.main===t&&(this.main=this.cameras[0]))},resetAll:function(){for(;this.cameras.length>0;)this.cameraPool.push(this.cameras.pop());return this.main=this.add(),this.main},update:function(t,e){for(var i=0,n=this.cameras.length;i<n;++i)this.cameras[i].update(t,e)},getCameraBelowPointer:function(t){for(var e=this.cameras,i=e.length-1;i>=0;i--){var n=e[i];if(n.inputEnabled&&o(n,t.x,t.y))return n}},render:function(t,e,i){for(var n=this.cameras,r=0,s=n.length;r<s;++r){var a=n[r];a.preRender(),t.render(this.scene,e,i,a)}},destroy:function(){this.main=void 0;for(var t=0;t<this.cameras.length;t++)this.cameras[t].destroy();for(t=0;t<this.cameraPool.length;t++)this.cameraPool[t].destroy();this.cameras=[],this.cameraPool=[],this.scene=void 0}});t.exports=u},function(t,e){var i=function(t,e){var i=this.matrix.matrix,n=i[0],r=i[1],s=i[2],a=i[3],o=i[4],h=i[5],u=n*a-r*s;if(!u)return t;u=1/u;var c=a*u,l=-r*u,f=-s*u,d=n*u,p=(s*h-a*o)*u,v=(r*o-n*h)*u,g=t.x,x=t.y;return e||(e={x:0,y:0}),e.x=g*c+x*f+p,e.y=g*l+x*d+v,e};t.exports=i},function(t,e){var i=function(){return this.scrollX=.5*this._bounds.width-.5*this.width,this.scrollY=.5*this._bounds.height-.5*this.height,this};t.exports=i},function(t,e){var i=function(){return this.scrollX=.5*this.width,this.scrollY=.5*this.height,this};t.exports=i},function(t,e){var i=function(t){if(this.disableCull)return t;var e=this.matrix.matrix,i=e[0],n=e[1],r=e[2],s=e[3],a=i*s-n*r;if(!a)return t;var o=e[4],h=e[5],u=this.scrollX,c=this.scrollY,l=this.width,f=this.height,d=this.culledObjects,p=t.length;a=1/a,d.length=0;for(var v=0;v<p;++v){var g=t[v];if(g.hasOwnProperty("width")){var x=g.width,m=g.height,y=g.x-u*g.scrollFactorX-x*g.originX,E=g.y-c*g.scrollFactorY-m*g.originY,T=y*i+E*r+o,w=y*n+E*s+h,b=(y+x)*i+(E+m)*r+o,_=(y+x)*n+(E+m)*s+h,A=l+x,S=f+m;(T>-x||w>-m||T<A||w<S||b>-x||_>-m||b<A||_<S)&&d.push(g)}else d.push(g)}return d};t.exports=i},function(t,e){var i=function(t){if(this.disableCull)return t;var e=this.matrix.matrix,i=e[0],n=e[1],r=e[2],s=e[3],a=i*s-n*r;if(!a)return t;var o=e[4],h=e[5],u=this.scrollX,c=this.scrollY,l=this.width,f=this.height,d=t.length;a=1/a;for(var p=[],v=0;v<d;++v){var g=t[v].gameObject;if(g.hasOwnProperty("width")){var x=g.width,m=g.height,y=g.x-u*g.scrollFactorX-x*g.originX,E=g.y-c*g.scrollFactorY-m*g.originY,T=y*i+E*r+o,w=y*n+E*s+h,b=(y+x)*i+(E+m)*r+o,_=(y+x)*n+(E+m)*s+h,A=l+x,S=f+m;(T>-x||w>-m||T<A||w<S||b>-x||_>-m||b<A||_<S)&&p.push(t[v])}else p.push(t[v])}return p};t.exports=i},function(t,e){var i=function(t){var e=this.matrix.matrix,i=e[0],n=e[1],r=e[2],s=e[3],a=i*s-n*r;if(!a)return u;var o=e[4],h=e[5],u=t.tiles,c=this.scrollX,l=this.scrollY,f=this.width,d=this.height,p=this.culledObjects,v=u.length,g=t.tileWidth,x=t.tileHeight,m=f+g,y=d+x,E=t.scrollFactorX,T=t.scrollFactorY;a=1/a,p.length=0;for(var w=0;w<v;++w){var b=u[w],_=b.x-c*E,A=b.y-l*T,S=_*i+A*r+o,R=_*n+A*s+h,O=(_+g)*i+(A+x)*r+o,C=(_+g)*n+(A+x)*s+h;S>-g&&R>-x&&O<m&&C<y&&p.push(b)}return p};t.exports=i},function(t,e){var i=function(){this._bounds=void 0,this.matrix=void 0,this.culledObjects=[],this.scene=void 0};t.exports=i},function(t,e){var i=function(t,e,i,n,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),!r&&this._fadeAlpha>0||(this._fadeRed=e,this._fadeGreen=i,this._fadeBlue=n,t<=0&&(t=Number.MIN_VALUE),this._fadeDuration=t,this._fadeAlpha=Number.MIN_VALUE)};t.exports=i},function(t,e){var i=function(t,e,i,n,r){!r&&this._flashAlpha>0||(void 0===e&&(e=1),void 0===i&&(i=1),void 0===n&&(n=1),this._flashRed=e,this._flashGreen=i,this._flashBlue=n,t<=0&&(t=Number.MIN_VALUE),this._flashDuration=t,this._flashAlpha=1)};t.exports=i},function(t,e){var i=function(t){if(t instanceof Array)for(var e=0;e<t.length;++e)t[e].cameraFilter|=this._id;else t.cameraFilter|=this._id};t.exports=i},function(t,e){var i=function(){var t=this.width,e=this.height,i=this.zoom,n=this.matrix,r=t/2,s=e/2,a=this._follow;if(null!==a&&(r=a.x,s=a.y,this.scrollX=r-.5*t,this.scrollY=s-.5*e),this.useBounds){var o=this._bounds,h=o.x,u=o.y,c=Math.max(o.right-t,t),l=Math.max(o.bottom-e,e);this.scrollX<h&&(this.scrollX=h),this.scrollX>c&&(this.scrollX=c),this.scrollY<u&&(this.scrollY=u),this.scrollY>l&&(this.scrollY=l)}this.roundPixels&&(this.scrollX=Math.round(this.scrollX),this.scrollY=Math.round(this.scrollY)),n.loadIdentity(),n.translate(this.x+r,this.y+s),n.rotate(this.rotation),n.scale(i,i),n.translate(-r,-s),n.translate(this._shakeOffsetX,this._shakeOffsetY)};t.exports=i},function(t,e){var i=function(){return this.useBounds=!1,this._bounds.setEmpty(),this};t.exports=i},function(t,e,i){var n=i(52),r=function(t){return void 0===t&&(t="rgba(0,0,0,0)"),this.backgroundColor=n(t),this.transparent=0===this.backgroundColor.alpha,this};t.exports=r},function(t,e){var i=function(t,e,i,n){return this._bounds.setTo(t,e,i,n),this.useBounds=!0,this};t.exports=i},function(t,e){var i=function(t){return void 0===t&&(t=""),this.name=t,this};t.exports=i},function(t,e){var i=function(t,e){return void 0===e&&(e=t),this.x=t,this.y=e,this};t.exports=i},function(t,e){var i=function(t){return void 0===t&&(t=0),this.rotation=t,this};t.exports=i},function(t,e){var i=function(t){return this.roundPixels=t,this};t.exports=i},function(t,e){var i=function(t){return this.scene=t,this};t.exports=i},function(t,e){var i=function(t,e){return void 0===e&&(e=t),this.scrollX=t,this.scrollY=e,this};t.exports=i},function(t,e){var i=function(t,e){return void 0===e&&(e=t),this.width=t,this.height=e,this};t.exports=i},function(t,e){var i=function(t,e,i,n){return this.x=t,this.y=e,this.width=i,this.height=n,this};t.exports=i},function(t,e){var i=function(t){return void 0===t&&(t=1),this.zoom=t,this};t.exports=i},function(t,e){var i=function(t,e,i){void 0===e&&(e=.05),(i||0===this._shakeOffsetX&&0===this._shakeOffsetY)&&(this._shakeDuration=t,this._shakeIntensity=e,this._shakeOffsetX=0,this._shakeOffsetY=0)};t.exports=i},function(t,e){var i=function(t,e){return null!==this._follow&&this.stopFollow(),this._follow=t,void 0!==e&&(this.roundPixels=e),this};t.exports=i},function(t,e){var i=function(){this._follow=null};t.exports=i},function(t,e){var i=function(){var t={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(t.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),t};t.exports=i},function(t,e){var i=function(t,e){if(this._flashAlpha>0&&(this._flashAlpha-=e/this._flashDuration,this._flashAlpha<0&&(this._flashAlpha=0)),this._fadeAlpha>0&&this._fadeAlpha<1&&(this._fadeAlpha+=e/this._fadeDuration,this._fadeAlpha>=1&&(this._fadeAlpha=1)),this._shakeDuration>0){var i=this._shakeIntensity;this._shakeDuration-=e,this._shakeDuration<=0?(this._shakeOffsetX=0,this._shakeOffsetY=0):(this._shakeOffsetX=(Math.random()*i*this.width*2-i*this.width)*this.zoom,this._shakeOffsetY=(Math.random()*i*this.height*2-i*this.height)*this.zoom)}};t.exports=i},function(t,e,i){var n=i(0),r=i(2),s=new n({initialize:function(t){this.camera=r(t,"camera",null),this.left=r(t,"left",null),this.right=r(t,"right",null),this.up=r(t,"up",null),this.down=r(t,"down",null),this.zoomIn=r(t,"zoomIn",null),this.zoomOut=r(t,"zoomOut",null),this.zoomSpeed=r(t,"zoomSpeed",.01);var e=r(t,"speed",null);"number"==typeof e?(this.speedX=e,this.speedY=e):(this.speedX=r(t,"speed.x",0),this.speedY=r(t,"speed.y",0)),this._zoom=0,this.active=null!==this.camera},start:function(){this.active=null!==this.camera},stop:function(){this.active=!1},update:function(t){if(this.active){void 0===t&&(t=1);var e=this.camera;this.up&&this.up.isDown?e.scrollY-=this.speedY*t|0:this.down&&this.down.isDown&&(e.scrollY+=this.speedY*t|0),this.left&&this.left.isDown?e.scrollX-=this.speedX*t|0:this.right&&this.right.isDown&&(e.scrollX+=this.speedX*t|0),this.zoomIn&&this.zoomIn.isDown?(e.zoom-=this.zoomSpeed,e.zoom<.1&&(e.zoom=.1)):this.zoomOut&&this.zoomOut.isDown&&(e.zoom+=this.zoomSpeed)}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});t.exports=s},function(t,e,i){var n=i(0),r=i(2),s=new n({initialize:function(t){this.camera=r(t,"camera",null),this.left=r(t,"left",null),this.right=r(t,"right",null),this.up=r(t,"up",null),this.down=r(t,"down",null),this.zoomIn=r(t,"zoomIn",null),this.zoomOut=r(t,"zoomOut",null),this.zoomSpeed=r(t,"zoomSpeed",.01);var e=r(t,"acceleration",null);"number"==typeof e?(this.accelX=e,this.accelY=e):(this.accelX=r(t,"acceleration.x",0),this.accelY=r(t,"acceleration.y",0));var i=r(t,"drag",null);"number"==typeof i?(this.dragX=i,this.dragY=i):(this.dragX=r(t,"drag.x",0),this.dragY=r(t,"drag.y",0));var n=r(t,"maxSpeed",null);"number"==typeof n?(this.maxSpeedX=n,this.maxSpeedY=n):(this.maxSpeedX=r(t,"maxSpeed.x",0),this.maxSpeedY=r(t,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=null!==this.camera},start:function(){this.active=null!==this.camera},stop:function(){this.active=!1},update:function(t){if(this.active){void 0===t&&(t=1);var e=this.camera;this._speedX>0?(this._speedX-=this.dragX*t,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*t,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*t,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*t,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,0!==this._speedX&&(e.scrollX-=this._speedX*t|0),0!==this._speedY&&(e.scrollY-=this._speedY*t|0),0!==this._zoom&&(e.zoom+=this._zoom,e.zoom<.1&&(e.zoom=.1))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});t.exports=s},function(t,e,i){var n=i(0),r=i(525),s=new n({initialize:function(t){this.scene=t,this.now=Date.now(),this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[]},addEvent:function(t){var e=new r(t);return this._pendingInsertion.push(e),e},delayedCall:function(t,e,i,n){return this.addEvent({delay:t,callback:e,args:i,callbackScope:n})},clearPendingEvents:function(){this._pendingInsertion=[]},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},begin:function(){var t=this._pendingRemoval.length,e=this._pendingInsertion.length;if(0!==t||0!==e){var i,n;for(i=0;i<t;i++){n=this._pendingRemoval[i];var r=this._active.indexOf(n);r>-1&&this._active.splice(r,1),n.destroy()}for(i=0;i<e;i++)n=this._pendingInsertion[i],n.elapsed=n.startAt*n.timeScale,this._active.push(n);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(t,e){if(this.now=t,!this.paused){this.timeScale;for(var i=0;i<this._active.length;i++){var n=this._active[i];if(!n.paused&&(n.elapsed+=e*n.timeScale,n.elapsed>=n.delay)){var r=n.elapsed-n.delay;n.elapsed=n.delay,!n.hasDispatched&&n.callback&&(n.hasDispatched=!0,n.callback.apply(n.callbackScope,n.args)),n.repeatCount>0?(n.repeatCount--,n.elapsed=r,n.hasDispatched=!1):this._pendingRemoval.push(n)}}}},shutdown:function(){var t;for(t=0;t<this._pendingInsertion.length;t++)this._pendingInsertion[t].destroy();for(t=0;t<this._active.length;t++)this._active[t].destroy();for(t=0;t<this._pendingRemoval.length;t++)this._pendingRemoval[t].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0},destroy:function(){this.shutdown(),this.scene=void 0}});t.exports=s},function(t,e,i){var n=i(0),r=i(7),s=new n({initialize:function(t){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(t)},reset:function(t){return this.delay=r(t,"delay",0),this.repeat=r(t,"repeat",0),this.loop=r(t,"loop",!1),this.callback=r(t,"callback",void 0),this.callbackScope=r(t,"callbackScope",this.callback),this.args=r(t,"args",[]),this.timeScale=r(t,"timeScale",1),this.startAt=r(t,"startAt",0),this.paused=r(t,"paused",!1),this.elapsed=0,this.hasDispatched=!1,this.repeatCount=-1===this.repeat||this.loop?999999999999:this.repeat,this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var t=this.delay+this.delay*this.repeat;return(this.elapsed+this.delay*(this.repeat-this.repeatCount))/t}return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return.001*this.elapsed},remove:function(t){void 0===t&&(t=!1),this.elapsed=this.delay,this.hasDispatched=!!t,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args.length=0}});t.exports=s},function(t,e,i){var n=i(0),r=i(75),s=new n({initialize:function(t){this.scene=t,this.events=t.sys.events,this._list=[],this._data=[]},getData:function(t){var e,i=this._list.indexOf(t);return-1===i?(e=new r(t,this.events),this._list.push(t),this._data.push(e)):e=this._data[i],e},get:function(t,e){return this.getData(t).get(e)},set:function(t,e,i){return this.getData(t).set(e,i)},getAll:function(t){return this.getData(t).getAll()},query:function(t,e){return this.getData(t).query(e)},before:function(t,e,i,n){return this.getData(t).before(e,i,n)},after:function(t,e,i,n){return this.getData(t).after(e,i,n)},each:function(t,e,i,n){return this.getData(t).each(e,i)},merge:function(t,e,i){var e=this.getData(t);return e.merge(e,i)},remove:function(t,e){return this.getData(t).remove(e)},removeListeners:function(t,e){return this.getData(t).removeListeners(e)},pop:function(t,e){return this.getData(t).pop(e)},has:function(t,e){return this.getData(t).has(e)},reset:function(t){return this.getData(t).reset()},freeze:function(t){this.getData(t).freeze=!0},unfreeze:function(t){this.getData(t).freeze=!1},kill:function(t){if(this.list.hasOwnProperty(t)){this.list[t].destroy(),delete this.list[t]}}});t.exports=s},function(t,e,i){var n=i(528),r=i(0),s=i(533),a=i(537),o=i(542),h=i(546),u=i(550),c=i(554),l=i(558),f=i(562),d=i(563),p=i(567),v=i(569),g=i(575),x=i(579),m=i(586),y=new r({initialize:function(t){this.scene=t},bitmapText:function(t){return v(this.scene,t)},dynamicBitmapText:function(t){return s(this.scene,t)},blitter:function(t){return n(this.scene,t)},effectLayer:function(t){return o(this.scene,t)},graphics:function(t){return h(this.scene,t)},group:function(t){return u(this.scene,t)},mesh:function(t){return l(this.scene,t)},image:function(t){return c(this.scene,t)},quad:function(t){return f(this.scene,t)},renderPass:function(t){return d(this.scene,t)},sprite:function(t){return p(this.scene,t)},text:function(t){return x(this.scene,t)},tilemap:function(t){return a(this.scene,t)},staticTilemap:function(t){return g(this.scene,t)},tileSprite:function(t){return m(this.scene,t)},tween:function(t){return this.scene.sys.tweens.create(t)}});t.exports=y},function(t,e,i){var n=i(78),r=i(4),s=i(9),a=function(t,e){var i=r(e,"key",null),a=r(e,"frame",null),o=new n(t,0,0,i,a);return s(t,o,e),o};t.exports=a},function(t,e,i){t.exports={renderCanvas:i(530),renderWebGL:i(531)}},function(t,e){var i=function(t,e,i,n){if(!(e.renderMask!==e.renderFlags||e.cameraFilter>0&&e.cameraFilter&n._id)){var r=e.getRenderList();t.setBlendMode(e.blendMode);for(var s=t.currentAlpha,a=0;a<r.length;a++){var o=r[a];s!==o.alpha&&(s=t.setAlpha(o.alpha)),t.blitImage(o.x,o.y,o.frame,n)}}};t.exports=i},function(t,e){var i=function(t,e,i,n){if(!(e.renderMask!==e.renderFlags||e.cameraFilter>0&&e.cameraFilter&n._id))for(var r=e.getRenderList(),s=t.blitterBatch,a=n.matrix.matrix,o=a[0],h=a[1],u=a[2],c=a[3],l=a[4],f=a[5],d=n.scrollX*e.scrollFactorX,p=n.scrollY*e.scrollFactorY,v=e.renderTarget,g=0,x=r.length;g<x;g++){var m=r[g],y=m.frame,E=m.alpha,T=s.vertexDataBuffer,w=T.floatView,b=0,_=y.uvs,A=y.width*(m.flipX?-1:1),S=y.height*(m.flipY?-1:1),R=m.x+y.x-d+y.width*(m.flipX?1:0),O=m.y+y.y-p+y.height*(m.flipY?1:0),C=R+A,M=O+S,L=R*o+O*u+l,F=R*h+O*c+f,D=C*o+M*u+l,I=C*h+M*c+f;s.elementCount>=s.maxParticles&&s.flush(),t.setRenderer(s,y.texture.source[y.sourceIndex].glTexture,n,v),b=T.allocate(20),s.elementCount+=6,R+=y.x,O+=y.y,w[b++]=L,w[b++]=F,w[b++]=_.x0,w[b++]=_.y0,w[b++]=E,w[b++]=L,w[b++]=I,w[b++]=_.x1,w[b++]=_.y1,w[b++]=E,w[b++]=D,w[b++]=I,w[b++]=_.x2,w[b++]=_.y2,w[b++]=E,w[b++]=D,w[b++]=F,w[b++]=_.x3,w[b++]=_.y3,w[b++]=E}};t.exports=i},function(t,e,i){var n=i(0),r=new n({initialize:function(t,e,i,n){this.parent,this.x=t,this.y=e,this.frame=i,this.data={},this._visible=n,this._alpha=1,this.flipX,this.flipY=!1},resetFlip:function(){this.flipX=!1,this.flipY=!1},reset:function(t,e,i){this.x=t,this.y=e,this.frame=i},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(t){this._visible=t,this.parent.dirty=!0}},alpha:{get:function(){return this._alpha},set:function(t){this._alpha=t,this.parent.dirty=!0}}});t.exports=r},function(t,e,i){var n=i(79),r=i(4),s=i(9),a=function(t,e){var i=r(e,"font",""),a=r(e,"text",""),o=r(e,"size",!1),h=r(e,"align","left"),u=new n(t,0,0,i,a,o,h);return s(t,u,e),u};t.exports=a},function(t,e,i){t.exports={renderCanvas:i(535),renderWebGL:i(536)}},function(t,e){var i=function(t,e,i,n){var r=e.text,s=r.length;if(!(e.renderMask!==e.renderFlags||0===s||e.cameraFilter>0&&e.cameraFilter&n._id)){var a=e.frame,o=e.displayCallback,h=n.scrollX*e.scrollFactorX,u=n.scrollY*e.scrollFactorY,c=e.fontData.chars,l=e.fontData.lineHeight,f=0,d=0,p=0,v=0,g=null,x=0,m=0,y=0,E=0,T=0,w=0,b=null,_=0,A=t.currentContext,S=e.frame.source.image,R=a.cutX,O=a.cutY,C=0,M=e.fontSize/e.fontData.size;t.currentBlendMode!==e.blendMode&&(t.currentBlendMode=e.blendMode,A.globalCompositeOperation=t.blendModes[e.blendMode]),t.currentAlpha!==e.alpha&&(t.currentAlpha=e.alpha,A.globalAlpha=e.alpha),t.currentScaleMode!==e.scaleMode&&(t.currentScaleMode=e.scaleMode),A.save(),A.translate(e.x,e.y),A.rotate(e.rotation),A.scale(e.scaleX,e.scaleY),e.cropWidth>0&&e.cropHeight>0&&(A.save(),A.beginPath(),A.rect(0,0,e.cropWidth,e.cropHeight),A.clip(),A.closePath());for(var L=0;L<s;++L)if(M=e.fontSize/e.fontData.size,C=0,10!==(v=r.charCodeAt(L))){if(g=c[v]){if(x=R+g.x,m=O+g.y,y=g.width,E=g.height,T=p+g.xOffset+f-e.scrollX,w=g.yOffset+d-e.scrollY,null!==b){var F=g.kerning[_];T+=void 0!==F?F:0}if(o){var D=o({tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:L,charCode:v,x:T,y:w,scale:M,rotation:0,data:g.data});T=D.x,w=D.y,M=D.scale,C=D.rotation}T*=M,w*=M,T-=h,w-=u,A.save(),A.translate(T,w),A.rotate(C),A.scale(M,M),A.drawImage(S,x,m,y,E,0,0,y,E),A.restore(),f+=g.xAdvance,p+=1,b=g,_=v}}else f=0,p=0,d+=l,b=null;e.cropWidth>0&&e.cropHeight>0&&A.restore(),A.restore()}};t.exports=i},function(t,e,i){var n=i(23),r=new n,s=new n,a=function(t,e,i,n){var a=e.text,o=a.length;if(!(this.renderMask!==this.renderFlags||0===o||this.cameraFilter>0&&this.cameraFilter&n._id)){var h,u,c,l,f,d,p,v,g,x,m,y,E,T,w,b,_,A,S,R,O,C,M,L,F,D,I,B,P,k,N,X,U=e.displayCallback,Y=e.frame,z=n.scrollX*e.scrollFactorX,V=n.scrollY*e.scrollFactorY,a=e.text,o=a.length,G=e.fontData.chars,j=e.fontData.lineHeight,H=t.spriteBatch,W=e.alpha,q=e._tintTL,K=e._tintTR,Z=e._tintBL,J=e._tintBR,Q=H.vertexDataBuffer,$=Q.floatView,tt=Q.uintView,et=0,it=e.texture.source[Y.sourceIndex],nt=Y.cutX,rt=Y.cutY,st=it.width,at=it.height,ot=it.glTexture,ht=0,ut=0,ct=0,lt=0,ft=null,dt=0,pt=0,vt=0,gt=0,xt=0,mt=0,yt=0,Et=0,Tt=0,wt=0,bt=0,_t=0,At=0,St=null,Rt=0,Ot=r.matrix,Ct=n.matrix.matrix,Mt=e.fontSize/e.fontData.size,Lt=s.matrix,Ft=e.renderTarget;r.applyITRS(e.x-z,e.y-V,-e.rotation,e.scaleX,e.scaleY),w=Ot[0],b=Ot[1],_=Ot[2],A=Ot[3],S=Ot[4],R=Ot[5],O=Ct[0],C=Ct[1],M=Ct[2],L=Ct[3],F=Ct[4],D=Ct[5],h=w*O+b*M,u=w*C+b*L,c=_*O+A*M,l=_*C+A*L,f=S*O+R*M+F,d=S*C+R*L+D;var Dt=t.gl;if(e.cropWidth>0&&e.cropHeight>0){null!==t.currentRenderer&&t.currentRenderer.flush(),t.scissor.enabled||Dt.enable(Dt.SCISSOR_TEST);var It=e.cropWidth*e.scaleX,Bt=e.cropHeight*e.scaleY;Dt.scissor(e.x,Dt.drawingBufferHeight-e.y-Bt,It,Bt)}for(var Pt=0;Pt<o;++Pt)if(10!==(lt=a.charCodeAt(Pt))){if(ft=G[lt]){if(dt=nt+ft.x,pt=rt+ft.y,vt=ft.width,gt=ft.height,xt=(ct+ft.xOffset+ht)*Mt,mt=(ft.yOffset+ut)*Mt,yt=0,null!==St){var kt=ft.kerning[Rt];xt+=void 0!==kt?kt:0}if(U){var Nt=U({color:0,tint:{topLeft:q,topRight:K,bottomLeft:Z,bottomRight:J},index:Pt,charCode:lt,x:xt,y:mt,scale:Mt,rotation:0,data:ft.data});xt=Nt.x,mt=Nt.y,Mt=Nt.scale,yt=Nt.rotation,Nt.color?(q=Nt.color,K=Nt.color,Z=Nt.color,J=Nt.color):(q=Nt.tint.topLeft,K=Nt.tint.topRight,Z=Nt.tint.bottomLeft,J=Nt.tint.bottomRight)}xt-=0|e.scrollX,mt-=0|e.scrollY,s.applyITRS(xt,mt,-yt,Mt,Mt),I=Lt[0],B=Lt[1],P=Lt[2],k=Lt[3],N=Lt[4],X=Lt[5],w=I*h+B*c,b=I*u+B*l,_=P*h+k*c,A=P*u+k*l,S=N*h+X*c+f,R=N*u+X*l+d,Et=vt,Tt=gt,p=S,v=R,g=Tt*_+S,x=Tt*A+R,m=Et*w+Tt*_+S,y=Et*b+Tt*A+R,E=Et*w+S,T=Et*b+R,wt=dt/st,bt=(dt+vt)/st,_t=pt/at,At=(pt+gt)/at,H.elementCount>=H.maxParticles&&H.flush(),t.setRenderer(H,ot,Ft),et=Q.allocate(24),H.elementCount+=6,$[et++]=p,$[et++]=v,$[et++]=wt,$[et++]=_t,tt[et++]=q,$[et++]=W,$[et++]=g,$[et++]=x,$[et++]=wt,$[et++]=At,tt[et++]=Z,$[et++]=W,$[et++]=m,$[et++]=y,$[et++]=bt,$[et++]=At,tt[et++]=J,$[et++]=W,$[et++]=E,$[et++]=T,$[et++]=bt,$[et++]=_t,tt[et++]=K,$[et++]=W,ht+=ft.xAdvance,ct+=1,St=ft,Rt=lt}}else ht=0,ct=0,ut+=j,St=null;e.cropWidth>0&&e.cropHeight>0&&(H.flush(),t.scissor.enabled?Dt.scissor(t.scissor.x,t.scissor.y,t.scissor.width,t.scissor.height):(Dt.scissor(n.x,Dt.drawingBufferHeight-n.y-n.height,n.width,n.height),Dt.disable(Dt.SCISSOR_TEST)))}};t.exports=a},function(t,e,i){var n=i(80),r=i(2),s=i(9),a=function(t,e){var i=r(e,"map.data",null),a=r(e,"map.width",1),o=r(e,"map.height",1),h=r(e,"x",0),u=r(e,"y",0),c=r(e,"tile.width",16),l=r(e,"tile.height",16),f=r(e,"tile.texture",null),d=r(e,"tile.frame",null),p=r(e,"tile.border",0),v=new n(t,i,h,u,c,l,a,o,p,f,d);return s(t,v,e),v};t.exports=a},function(t,e,i){t.exports={renderCanvas:i(539),renderWebGL:i(540)}},function(t,e){var i=function(t,e,i,n){if(!(e.renderMask!==e.renderFlags||e.cameraFilter>0&&e.cameraFilter&n._id)){this.cull(n);var r=e.culledTiles,s=r.length,a=e.frame.source.image,o=(e.scrollFactorX,e.scrollFactorY,e.alpha,e.x-n.scrollX*e.scrollFactorX),h=e.y-n.scrollY*e.scrollFactorY,u=t.gameContext;u.save(),u.translate(o,h),u.rotate(e.rotation),u.scale(e.scaleX,e.scaleY),u.scale(e.flipX?-1:1,e.flipY?-1:1);for(var c=0;c<s;++c){var l=r[c];u.drawImage(a,l.frameX,l.frameY,l.frameWidth,l.frameHeight,l.x,l.y,l.frameWidth,l.frameHeight)}u.restore()}};t.exports=i},function(t,e){var i=function(t,e,i,n){if(!(this.renderMask!==this.renderFlags||this.cameraFilter>0&&this.cameraFilter&n._id)){this.cull(n);for(var r=e.culledTiles,s=r.length,a=t.spriteBatch,o=e.texture.source[0].glTexture,h=o.width,u=o.height,c=e.renderTarget,l=e.scrollFactorX,f=e.scrollFactorY,d=e.alpha,p=e.x,v=e.y,g=0;g<s;++g){var x=r[g];a.addTileTextureRect(o,p+x.x,v+x.y,x.width,x.height,d*x.alpha,x.tint,l,f,h,u,x.frameX,x.frameY,x.frameWidth,x.frameHeight,n,c)}}};t.exports=i},function(t,e){function i(t){this.index=t.index,this.id=t.id,this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this.frameX=t.frameX,this.frameY=t.frameY,this.frameWidth=t.frameWidth,this.frameHeight=t.frameHeight,this.alpha=1,this.tint=16777215,this.visible=!0,this.textureWidth=t.textureWidth,this.textureHeight=t.textureHeight,this.border=t.border,this.center=t.center}i.prototype.setId=function(t){var e=this.id=t,i=this.width,n=this.height,r=this.textureWidth/i,s=i+2*this.border,a=n+2*this.border,o=.5*s,h=.5*a;this.center||(o=0,h=0);var u=(e%r|0)*s+o,c=(e/r|0)*a+h;this.frameX=u,this.frameY=c},t.exports=i},function(t,e,i){var n=i(81),r=i(4),s=i(9),a=function(t,e){var i=r(e,"x",0),a=r(e,"y",0),o=r(e,"width",512),h=r(e,"height",512),u=(r(e,"key",null),r(e,"fragmentShader","")),c=new n(t,i,a,o,h,effectName,u);return s(t,c,e),c};t.exports=a},function(t,e,i){t.exports={renderCanvas:i(544),renderWebGL:i(545)}},function(t,e){var i=function(t,e,i,n){};t.exports=i},function(t,e){var i=function(t,e,i,n){e.renderMask!==e.renderFlags||e.cameraFilter>0&&e.cameraFilter&n._id||t.effectRenderer.renderEffect(e,n,e.renderTexture,e.width,e.height)};t.exports=i},function(t,e,i){var n=i(82),r=function(t,e){return new n(t,e)};t.exports=r},function(t,e,i){t.exports={renderCanvas:i(548),renderWebGL:i(549)}},function(t,e,i){var n=i(83),r=(i(11),function(t,e,i,r,s){if(!(e.renderMask!==e.renderFlags||e.cameraFilter>0&&e.cameraFilter&r._id)){var a=r.scrollX*e.scrollFactorX,o=r.scrollY*e.scrollFactorY,h=e.x,u=e.y,c=e.scaleX,l=e.scaleY,f=e.rotation,d=e.commandBuffer,p=s||t.currentContext,v=1,g=1,x=0,m=0,y=1,E=0,T=0,w=0;t.currentBlendMode!==e.blendMode&&(t.currentBlendMode=e.blendMode,p.globalCompositeOperation=t.blendModes[e.blendMode]),t.currentAlpha!==e.alpha&&(t.currentAlpha=e.alpha,p.globalAlpha=e.alpha),t.currentScaleMode!==e.scaleMode&&(t.currentScaleMode=e.scaleMode),p.save(),p.translate(h-a,u-o),p.rotate(f),p.scale(c,l),p.fillStyle="#fff",p.globalAlpha=e.alpha;for(var b=0,_=d.length;b<_;++b){var A=d[b];switch(A){case n.ARC:p.arc(d[b+1],d[b+2],d[b+3],d[b+4],d[b+5],d[b+6]),b+=6;break;case n.LINE_STYLE:y=d[b+1],x=d[b+2],v=d[b+3],E=(16711680&x)>>>16,T=(65280&x)>>>8,w=255&x,p.strokeStyle="rgba("+E+","+T+","+w+","+v+")",p.lineWidth=y,b+=3;break;case n.FILL_STYLE:m=d[b+1],g=d[b+2],E=(16711680&m)>>>16,T=(65280&m)>>>8,w=255&m,p.fillStyle="rgba("+E+","+T+","+w+","+g+")",b+=2;break;case n.BEGIN_PATH:p.beginPath();break;case n.CLOSE_PATH:p.closePath();break;case n.FILL_PATH:p.fill();break;case n.STROKE_PATH:p.stroke();break;case n.FILL_RECT:p.fillRect(d[b+1],d[b+2],d[b+3],d[b+4]),b+=4;break;case n.FILL_TRIANGLE:p.beginPath(),p.moveTo(d[b+1],d[b+2]),p.lineTo(d[b+3],d[b+4]),p.lineTo(d[b+5],d[b+6]),p.lineTo(d[b+1],d[b+2]),p.closePath(),p.fill(),b+=6;break;case n.STROKE_TRIANGLE:p.beginPath(),p.moveTo(d[b+1],d[b+2]),p.lineTo(d[b+3],d[b+4]),p.lineTo(d[b+5],d[b+6]),p.lineTo(d[b+1],d[b+2]),p.closePath(),p.stroke(),b+=6;break;case n.LINE_TO:p.lineTo(d[b+1],d[b+2]),b+=2;break;case n.MOVE_TO:p.moveTo(d[b+1],d[b+2]),b+=2;break;case n.LINE_FX_TO:p.lineTo(d[b+1],d[b+2]),b+=5;break;case n.MOVE_FX_TO:p.moveTo(d[b+1],d[b+2]),b+=5;break;case n.SAVE:p.save();break;case n.RESTORE:p.restore();break;case n.TRANSLATE:p.translate(d[b+1],d[b+2]),b+=2;break;case n.SCALE:p.scale(d[b+1],d[b+2]),b+=2;break;case n.ROTATE:p.rotate(d[b+1]),b+=1;break;default:console.error("Phaser: Invalid Graphics Command ID "+A)}}p.restore()}});t.exports=r},function(t,e,i){var n=i(83),r=i(23),s=[],a=Math.cos,o=Math.sin,h=(Math.sqrt,new r),u=new Float32Array(6e3),c=0,l=new r,f=function(t,e,i,n,r){this.x=t,this.y=e,this.width=i,this.rgb=n,this.alpha=r},d=function(t,e,i,n,r){this.points=[],this.pointsLength=1,this.points[0]=new f(t,e,i,n,r)},p=function(t,e,i,r,p){if(!(this.renderMask!==this.renderFlags||this.cameraFilter>0&&this.cameraFilter&r._id)){var v=p||e.renderTarget,g=t.shapeBatch,x=g.vertexDataBuffer,m=(x.floatView,x.uintView,r.scrollX*e.scrollFactorX),y=r.scrollY*e.scrollFactorY;const E=e.x-m,T=e.y-y,w=e.scaleX,b=e.scaleY,_=-e.rotation;var A,S,R,O,C,M,L,F,D,I,B,P,k,N,X,U,Y,z,V,G,j,H,W,q,K=e.commandBuffer,Z=1,J=1,Q=0,$=0,tt=1,et=r.matrix.matrix,it=null,nt=0,rt=0,st=0,at=0,ot=(g.vertexCount,g.maxVertices,h.matrix);h.applyITRS(E,T,_,w,b),L=ot[0],F=ot[1],D=ot[2],I=ot[3],B=ot[4],P=ot[5],k=et[0],N=et[1],X=et[2],U=et[3],Y=et[4],z=et[5],V=L*k+F*X,G=L*N+F*U,j=D*k+I*X,H=D*N+I*U,W=B*k+P*X+Y,q=B*N+P*U+z,t.setRenderer(g,null,v);for(var ht=0,ut=K.length;ht<ut;++ht){var U=K[ht];switch(U){case n.ARC:for(nt=0,A=K[ht+1],S=K[ht+2],R=K[ht+3],O=K[ht+4],C=K[ht+5],K[ht+6];nt<1;)at=(C-O)*nt+O,rt=A+a(at)*R,st=S+o(at)*R,0===nt?(it=new d(rt,st,tt,Q,Z),s.push(it)):it.points.push(new f(rt,st,tt,Q,Z)),nt+=.01;ht+=6;break;case n.LINE_STYLE:tt=K[ht+1],Q=K[ht+2],Z=K[ht+3],ht+=3;break;case n.FILL_STYLE:$=K[ht+1],J=K[ht+2],ht+=2;break;case n.BEGIN_PATH:s.length=0;break;case n.CLOSE_PATH:if(null!==it&&it.points.length>0){var ct=it.points[0],lt=it.points[it.points.length-1];it.points.push(ct),it=new d(lt.x,lt.y,lt.width,lt.rgb,lt.alpha),s.push(it)}break;case n.FILL_PATH:for(var ft=0,dt=s.length;ft<dt;++ft)g.addFillPath(E,T,w,b,_,s[ft].points,$,J,V,G,j,H,W,q,l);break;case n.STROKE_PATH:for(var ft=0,dt=s.length;ft<dt;++ft){var M=s[ft];g.addStrokePath(E,T,w,b,_,M.points,tt,Q,Z,V,G,j,H,W,q,M===this._lastPath,l)}break;case n.FILL_RECT:g.addFillRect(E,T,w,b,_,K[ht+1]-m,K[ht+2]-y,K[ht+3],K[ht+4],$,J,V,G,j,H,W,q,l),ht+=4;break;case n.FILL_TRIANGLE:g.addFillTriangle(E,T,w,b,_,K[ht+1]-m,K[ht+2]-y,K[ht+3]-m,K[ht+4]-y,K[ht+5]-m,K[ht+6]-y,$,J,V,G,j,H,W,q,l),ht+=6;break;case n.STROKE_TRIANGLE:g.addStrokeTriangle(E,T,w,b,_,K[ht+1]-m,K[ht+2]-y,K[ht+3]-m,K[ht+4]-y,K[ht+5]-m,K[ht+6]-y,tt,Q,Z,V,G,j,H,W,q,l),ht+=6;break;case n.LINE_TO:null!==it?it.points.push(new f(K[ht+1],K[ht+2],tt,Q,Z)):(it=new d(K[ht+1],K[ht+2],tt,Q,Z),s.push(it)),ht+=2;break;case n.MOVE_TO:it=new d(K[ht+1],K[ht+2],tt,Q,Z),s.push(it),ht+=2;break;case n.LINE_FX_TO:null!==it?it.points.push(new f(K[ht+1],K[ht+2],K[ht+3],K[ht+4],K[ht+5])):(it=new d(K[ht+1],K[ht+2],K[ht+3],K[ht+4],K[ht+5]),s.push(it)),ht+=5;break;case n.MOVE_FX_TO:it=new d(K[ht+1],K[ht+2],K[ht+3],K[ht+4],K[ht+5]),s.push(it),ht+=5;break;case n.SAVE:u[c+0]=l.matrix[0],u[c+1]=l.matrix[1],u[c+2]=l.matrix[2],u[c+3]=l.matrix[3],u[c+4]=l.matrix[4],u[c+5]=l.matrix[5],c+=6;break;case n.RESTORE:c-=6,l.matrix[0]=u[c+0],l.matrix[1]=u[c+1],l.matrix[2]=u[c+2],l.matrix[3]=u[c+3],l.matrix[4]=u[c+4],l.matrix[5]=u[c+5];break;case n.TRANSLATE:l.translate(K[ht+1],K[ht+2]),ht+=2;break;case n.SCALE:l.scale(K[ht+1],K[ht+2]),ht+=2;break;case n.ROTATE:l.rotate(-K[ht+1]),ht+=1;break;default:console.error("Phaser: Invalid Graphics Command ID "+U)}}l.loadIdentity(),s.length=0}};t.exports=p},function(t,e,i){var n=i(84),r=function(t,e){return new n(t,null,e)};t.exports=r},function(t,e,i){t.exports={renderCanvas:i(552),renderWebGL:i(553)}},function(t,e){var i=function(t,e,i,n){e.renderMask!==e.renderFlags||e.cameraFilter>0&&e.cameraFilter&n._id||t.drawImage(e,n)};t.exports=i},function(t,e){var i=function(t,e,i,n){e.renderMask!==e.renderFlags||e.cameraFilter>0&&e.cameraFilter&n._id||t.spriteBatch.addSprite(e,n)};t.exports=i},function(t,e,i){var n=i(56),r=i(4),s=i(9),a=function(t,e){var i=r(e,"key",null),a=r(e,"frame",null),o=new n(t,0,0,i,a);return s(t,o,e),o};t.exports=a},function(t,e,i){t.exports={renderCanvas:i(556),renderWebGL:i(557)}},function(t,e){var i=function(t,e,i,n){e.renderMask!==e.renderFlags||e.cameraFilter>0&&e.cameraFilter&n._id||t.drawImage(e,n)};t.exports=i},function(t,e){var i=function(t,e,i,n){e.renderMask!==e.renderFlags||e.cameraFilter>0&&e.cameraFilter&n._id||t.spriteBatch.addSprite(e,n)};t.exports=i},function(t,e,i){var n=i(57),r=i(4),s=i(2),a=i(9),o=function(t,e){var i=r(e,"key",null),o=r(e,"frame",null),h=s(e,"vertices",[]),u=s(e,"indices",[]),c=s(e,"colors",[]),l=s(e,"alphas",[]),f=s(e,"uv",[]),d=new n(t,0,0,h,f,u,c,l,i,o);return a(t,d,e),d};t.exports=o},function(t,e,i){t.exports={renderCanvas:i(560),renderWebGL:i(561)}},function(t,e){var i=function(t,e,i,n){};t.exports=i},function(t,e){var i=function(t,e,i,n){e.renderMask!==e.renderFlags||e.cameraFilter>0&&e.cameraFilter&n._id||(e.indices.length>0?t.spriteBatch.addMeshIndexed(e,n):t.spriteBatch.addMesh(e,n))};t.exports=i},function(t,e,i){var n=i(85),r=i(4),s=i(9),a=function(t,e){var i=r(e,"x",0),a=r(e,"y",0),o=r(e,"key",null),h=r(e,"frame",null),u=new n(t,i,a,o,h);return s(t,u,e),u};t.exports=a},function(t,e,i){var n=i(86),r=i(4),s=i(9),a=function(t,e){var i=r(e,"x",0),a=r(e,"y",0),o=r(e,"width",512),h=r(e,"height",512),u=r(e,"shaderName",""),c=r(e,"fragmentShader",""),l=new n(t,i,a,o,h,u,c);return s(t,l,e),l};t.exports=a},function(t,e,i){t.exports={renderCanvas:i(565),renderWebGL:i(566)}},function(t,e){var i=function(t,e,i,n){};t.exports=i},function(t,e){var i=function(t,e,i,n){e.renderMask!==e.renderFlags||e.cameraFilter>0&&e.cameraFilter&n._id||t.spriteBatch.addSpriteTexture(e,n,e.renderTexture,e.width,e.height)};t.exports=i},function(t,e,i){var n=i(39),r=i(4),s=i(9),a=i(568),o=function(t,e){var i=r(e,"key",null),o=r(e,"frame",null),h=new n(t,0,0,i,o);return s(t,h,e),a(h,e),h};t.exports=o},function(t,e,i){var n=i(4),r=function(t,e){var i=n(e,"anims",null);if(null===i)return t;if("string"==typeof i)t.anims.play(i);else if("object"==typeof i){var r=t.anims,s=n(i,"key",void 0),a=n(i,"startFrame",void 0);r.load(s);var o=n(i,"delay",0),h=n(i,"repeat",0),u=n(i,"repeatDelay",0),c=n(i,"yoyo",!1);if(r.delay(o),r.repeat(h),r.repeatDelay(u),r.yoyo(c),n(i,"play",!1))r.play(s,a);else{var l=n(i,"delayedPlay",0);l>0&&r.delayedPlay(l,s,a)}}return t};t.exports=r},function(t,e,i){var n=i(87),r=i(9),s=i(4),a=i(2),o=function(t,e){var i=a(e,"font",""),o=s(e,"text",""),h=s(e,"size",!1),u=new n(t,0,0,i,o,h);return r(t,u,e),u};t.exports=o},function(t,e,i){var n=i(186),r=function(t,e,i,r,s,a,o){var h=t.sys.textures.getFrame(i,r),u=t.sys.cache.xml.get(s);if(h&&u){var c=n(u,a,o,h);return t.sys.cache.bitmapFont.add(e,{data:c,texture:i,frame:r}),!0}return!1};t.exports=r},function(t,e,i){var n=i(2),r=function(t,e){var i=e.width,r=e.height,s=Math.floor(i/2),a=Math.floor(r/2),o=e.chars,h=n(e,"image",""),u=n(e,"offset.x",0),c=n(e,"offset.y",0),l=n(e,"spacing.x",0),f=n(e,"spacing.y",0),d=n(e,"charsPerRow",null);null===d&&(d=t.sys.textures.getFrame(h).width/i)>o.length&&(d=o.length);for(var p=u,v=c,g={retroFont:!0,font:h,size:i,lineHeight:r,chars:{}},x=0,m=0;m<o.length;m++){var y=o.charCodeAt(m);g.chars[y]={x:p,y:v,width:i,height:r,centerX:s,centerY:a,xOffset:0,yOffset:0,xAdvance:i,data:{},kerning:{}},x++,x===d?(x=0,p=u,v+=r+f):p+=i+l}return{data:g,frame:null,texture:h}};r.TEXT_SET1=" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",r.TEXT_SET2=" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ",r.TEXT_SET3="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",r.TEXT_SET4="ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",r.TEXT_SET5="ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",r.TEXT_SET6="ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789\"(),-.' ",r.TEXT_SET7="AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW\")28FLRX-'39",r.TEXT_SET8="0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",r.TEXT_SET9="ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'\"?!",r.TEXT_SET10="ABCDEFGHIJKLMNOPQRSTUVWXYZ",r.TEXT_SET11="ABCDEFGHIJKLMNOPQRSTUVWXYZ.,\"-+!?()':;0123456789",t.exports=r},function(t,e,i){t.exports={renderCanvas:i(573),renderWebGL:i(574)}},function(t,e){var i=function(t,e,i,n){var r=e.text,s=r.length;if(!(e.renderMask!==e.renderFlags||0===s||e.cameraFilter>0&&e.cameraFilter&n._id)){var a=e.frame,o=n.scrollX*e.scrollFactorX,h=n.scrollY*e.scrollFactorY,u=e.fontData.chars,c=e.fontData.lineHeight,l=0,f=0,d=0,p=0,v=null,g=0,x=0,m=0,y=0,E=0,T=0,w=null,b=0,_=t.currentContext,A=e.frame.source.image,S=a.cutX,R=a.cutY,O=e.fontSize/e.fontData.size;t.currentBlendMode!==e.blendMode&&(t.currentBlendMode=e.blendMode,_.globalCompositeOperation=t.blendModes[e.blendMode]),t.currentAlpha!==e.alpha&&(t.currentAlpha=e.alpha,_.globalAlpha=e.alpha),t.currentScaleMode!==e.scaleMode&&(t.currentScaleMode=e.scaleMode),_.save(),_.translate(e.x-o+e.frame.x,e.y-h+e.frame.y),_.rotate(e.rotation),_.scale(e.scaleX,e.scaleY);for(var C=0;C<s;++C)if(10!==(p=r.charCodeAt(C))){if(v=u[p]){if(g=S+v.x,x=R+v.y,m=v.width,y=v.height,E=d+v.xOffset+l,T=v.yOffset+f,null!==w){var M=v.kerning[b];E+=void 0!==M?M:0}E*=O,T*=O,l+=v.xAdvance,d+=1,w=v,b=p,0!==m&&0!==y&&32!==p&&(_.save(),_.translate(E,T),_.scale(O,O),_.drawImage(A,g,x,m,y,0,0,m,y),_.restore())}}else l=0,d=0,f+=c,w=null;_.restore()}};t.exports=i},function(t,e,i){var n=i(23),r=new n,s=function(t,e,i,n){var s=e.text,a=s.length;if(!(this.renderMask!==this.renderFlags||0===a||this.cameraFilter>0&&this.cameraFilter&n._id)){var o,h,u,c,l,f,d,p,v,g,x,m,y,E,T,w,b,_,A,S,R,O,C,M,L,F,D=e.frame,I=n.scrollX*e.scrollFactorX,B=n.scrollY*e.scrollFactorY,s=e.text,a=s.length,P=e.fontData.chars,k=e.fontData.lineHeight,N=t.spriteBatch,X=e.alpha,U=e._tintTL,Y=e._tintTR,z=e._tintBL,V=e._tintBR,G=N.vertexDataBuffer,j=G.floatView,H=G.uintView,W=0,q=e.x,K=e.y,Z=e.texture.source[D.sourceIndex],J=D.cutX,Q=D.cutY,$=Z.width,tt=Z.height,et=Z.glTexture,it=0,nt=0,rt=0,st=0,at=null,ot=0,ht=0,ut=0,ct=0,lt=0,ft=0,dt=0,pt=0,vt=0,gt=0,xt=0,mt=0,yt=null,Et=0,Tt=r.matrix,wt=n.matrix.matrix,bt=e.fontSize/e.fontData.size,_t=e.renderTarget;r.applyITRS(q-I+D.x,K-B+D.y,-e.rotation,e.scaleX,e.scaleY),T=Tt[0],w=Tt[1],b=Tt[2],_=Tt[3],A=Tt[4],S=Tt[5],R=wt[0],O=wt[1],C=wt[2],M=wt[3],L=wt[4],F=wt[5],o=T*R+w*C,h=T*O+w*M,u=b*R+_*C,c=b*O+_*M,l=A*R+S*C+L,f=A*O+S*M+F;for(var At=0;At<a;++At)if(10!==(st=s.charCodeAt(At))){if(at=P[st]){if(ot=J+at.x,ht=Q+at.y,ut=at.width,ct=at.height,lt=(rt+at.xOffset+it)*bt,ft=(at.yOffset+nt)*bt,null!==yt){var St=at.kerning[Et];lt+=void 0!==St?St:0}it+=at.xAdvance,rt+=1,yt=at,Et=st,0!==ut&&0!==ct&&32!==st&&(dt=lt+ut*bt,pt=ft+ct*bt,d=lt*o+ft*u+l,p=lt*h+ft*c+f,v=lt*o+pt*u+l,g=lt*h+pt*c+f,x=dt*o+pt*u+l,m=dt*h+pt*c+f,y=dt*o+ft*u+l,E=dt*h+ft*c+f,vt=ot/$,gt=(ot+ut)/$,xt=ht/tt,mt=(ht+ct)/tt,N.elementCount>=N.maxParticles&&N.flush(),t.setRenderer(N,et,_t),W=G.allocate(24),N.elementCount+=6,j[W++]=d,j[W++]=p,j[W++]=vt,j[W++]=xt,H[W++]=U,j[W++]=X,j[W++]=v,j[W++]=g,j[W++]=vt,j[W++]=mt,H[W++]=z,j[W++]=X,j[W++]=x,j[W++]=m,j[W++]=gt,j[W++]=mt,H[W++]=Y,j[W++]=X,j[W++]=y,j[W++]=E,j[W++]=gt,j[W++]=xt,H[W++]=V,j[W++]=X)}}else it=0,rt=0,nt+=k,yt=null}};t.exports=s},function(t,e,i){var n=i(88),r=i(2),s=i(9),a=function(t,e){var i=r(e,"map.data",null),a=r(e,"map.width",1),o=r(e,"map.height",1),h=r(e,"x",0),u=r(e,"y",0),c=r(e,"tile.width",16),l=r(e,"tile.height",16),f=r(e,"tile.texture",null),d=r(e,"tile.frame",null),p=r(e,"tile.border",0),v=new n(t,i,h,u,c,l,a,o,p,f,d);return s(t,v,e),v};t.exports=a},function(t,e,i){t.exports={renderCanvas:i(577),renderWebGL:i(578)}},function(t,e){var i=function(t,e,i,n){if(!(e.renderMask!==e.renderFlags||e.cameraFilter>0&&e.cameraFilter&n._id)){e.upload(n);var r=n.cullTilemap(e),s=e.tileWidth,a=e.tileHeight,o=e.frame,h=t.gameContext,u=r.length,c=o.source.image,l=e.x-n.scrollX*e.scrollFactorX,f=e.y-n.scrollY*e.scrollFactorY;n.scrollX;h.save(),h.translate(l,f),h.rotate(e.rotation),h.scale(e.scaleX,e.scaleY),h.scale(e.flipX?-1:1,e.flipY?-1:1);for(var d=0;d<u;++d){var p=r[d];h.drawImage(c,p.frameX,p.frameY,s,a,p.x,p.y,s,a)}h.restore()}};t.exports=i},function(t,e){var i=function(t,e,i,n){if(!(e.renderMask!==e.renderFlags||e.cameraFilter>0&&e.cameraFilter&n._id)){var r=e,s=r.frame,a=r.gl;t.setRenderer(r.tilemapRenderer,s.texture.source[s.sourceIndex].glTexture,r.renderTarget),r.tilemapRenderer.bind(),r.upload(n),r.vbo.bind(),a.drawArrays(a.TRIANGLES,0,r.vertexCount)}};t.exports=i},function(t,e,i){var n=i(89),r=i(4),s=i(9),a=function(t,e){var i=r(e,"text",""),a=r(e,"style",null),o=new n(t,0,0,i,a);s(t,o,e),o.autoRound=r(e,"autoRound",!0),o.resolution=r(e,"resolution",1);var h=r(e,"padding",null);return"number"==typeof h?(o.padding.x=h,o.padding.y=h):null!==h&&(o.padding.x=r(h,"x",1),o.padding.y=r(h,"y",1)),o.updateText(),o};t.exports=a},function(t,e,i){t.exports={renderCanvas:i(581),renderWebGL:i(582)}},function(t,e){var i=function(t,e,i,n){if(!(e.renderMask!==e.renderFlags||e.cameraFilter>0&&e.cameraFilter&n._id)){var r=t.currentContext;t.currentBlendMode!==e.blendMode&&(t.currentBlendMode=e.blendMode,r.globalCompositeOperation=t.blendModes[e.blendMode]),t.currentAlpha!==e.alpha&&(t.currentAlpha=e.alpha,r.globalAlpha=e.alpha),t.currentScaleMode!==e.scaleMode&&(t.currentScaleMode=e.scaleMode);var s=e.canvas;r.save(),r.translate(e.x-n.scrollX*e.scrollFactorX,e.y-n.scrollY*e.scrollFactorY),r.rotate(e.rotation),r.scale(e.scaleX,e.scaleY),r.translate(s.width*(e.flipX?1:0),s.height*(e.flipY?1:0)),r.scale(e.flipX?-1:1,e.flipY?-1:1),r.drawImage(s,0,0,s.width,s.height,-e.displayOriginX,-e.displayOriginY,s.width,s.height),r.restore()}};t.exports=i},function(t,e){var i=function(t,e,i,n){e.renderMask!==e.renderFlags||e.cameraFilter>0&&e.cameraFilter&n._id||(e.dirty&&(e.canvasTexture=t.uploadCanvasToGPU(e.canvas,e.canvasTexture,!0),e.dirty=!1),t.spriteBatch.addSpriteTexture(e,n,e.canvasTexture,e.canvas.width,e.canvas.height))};t.exports=i},function(t,e,i){var n=i(0),r=i(2),s=i(4),a=i(584),o={font:["font","16px Courier"],backgroundColor:["backgroundColor",null],fill:["fill","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",!1],fixedHeight:["fixedHeight",!1],rtl:["rtl",!1]},h=new n({initialize:function(t,e){if(this.parent=t,this.font,this.backgroundColor,this.fill,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.rtl,this.reset(),e)for(var i in o)this[i]=s(e,o[i][0],this[i]);var n=r(e,"metrics",!1);this.metrics=n?{ascent:r(n,"ascent",0),descent:r(n,"descent",0),fontSize:r(n,"fontSize",0)}:a(this)},reset:function(){for(var t in o)this[t]=o[t][1];return this},syncFont:function(t,e){this.rtl&&(t.dir="rtl"),e.font=this.font,e.textBaseline="alphabetic",e.fillStyle=this.fill,e.strokeStyle=this.stroke,e.lineWidth=this.strokeThickness,e.lineCap="round",e.lineJoin="round"},syncShadow:function(t,e){e?(t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur):(t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowColor=0,t.shadowBlur=0)},update:function(t){return t&&(this.metrics=a(this)),this.parent.updateText()},setStyle:function(t){for(var e in o)this[e]=s(t,o[e][0],this[e]);return this.update(!0)},setFont:function(t){return this.font=t,this.update(!0)},setFixedSize:function(t,e){return this.fixedWidth=t,this.fixedHeight=e,t&&(this.text.width=t),e&&(this.text.height=e),this.update(!1)},setBackgroundColor:function(t){return this.backgroundColor=t,this.update(!1)},setFill:function(t){return this.fill=t,this.update(!1)},setStroke:function(t,e){return void 0===t?this.strokeThickness=0:(void 0===e&&(e=this.strokeThickness),this.stroke=t,this.strokeThickness=e),this.update(!0)},setShadow:function(t,e,i,n,r,s){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i="#000"),void 0===n&&(n=0),void 0===r&&(r=!1),void 0===s&&(s=!0),this.shadowOffsetX=t,this.shadowOffsetY=e,this.shadowColor=i,this.shadowBlur=n,this.shadowStroke=r,this.shadowFill=s,this.update(!1)},setShadowOffset:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.shadowOffsetX=t,this.shadowOffsetY=e,this.update(!1)},setShadowColor:function(t){return void 0===t&&(t="#000"),this.shadowColor=t,this.update(!1)},setShadowBlur:function(t){return void 0===t&&(t=0),this.shadowBlur=t,this.update(!1)},setShadowStroke:function(t){return this.shadowStroke=t,this.update(!1)},setShadowFill:function(t){return this.shadowFill=t,this.update(!1)},setAlign:function(t){return void 0===t&&(t="left"),this.align=t,this.update(!1)},setMaxLines:function(t){return void 0===t&&(t=0),this.maxLines=t,this.update(!1)},getTextMetrics:function(){var t=this.metrics;return{ascent:t.ascent,descent:t.descent,fontSize:t.fontSize}},toJSON:function(){var t={};for(var e in o)t[e]=this[e];return t.metrics=this.getTextMetrics(),t},destroy:function(){this.parent=void 0}});t.exports=h},function(t,e,i){var n=i(12),r=function(t,e){void 0===e&&(e="|MÉqgy");var i=n.create(this),r=i.getContext("2d");t.syncFont(i,r);var s=Math.ceil(1.2*r.measureText(e).width),a=s,o=2*a;a=1.4*a|0,i.width=s,i.height=o,r.fillStyle="#f00",r.fillRect(0,0,s,o),r.font=t.font,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(e,0,a);var h={ascent:0,descent:0,fontSize:0};if(!r.getImageData(0,0,s,o))return h.ascent=a,h.descent=a+6,h.fontSize=h.ascent+h.descent,n.remove(i),h;var u,c,l=r.getImageData(0,0,s,o).data,f=l.length,d=4*s,p=0,v=!1;for(u=0;u<a;u++){for(c=0;c<d;c+=4)if(255!==l[p+c]){v=!0;break}if(v)break;p+=d}for(h.ascent=a-u,p=f-d,v=!1,u=o;u>a;u--){for(c=0;c<d;c+=4)if(255!==l[p+c]){v=!0;break}if(v)break;p-=d}return h.descent=u-a,h.fontSize=h.ascent+h.descent,n.remove(i),h};t.exports=r},function(t,e){var i=function(t,e,i){var n=t.canvas,r=t.context,s=t.style,a=[],o=0,h=i.length;s.maxLines>0&&s.maxLines<i.length&&(h=s.maxLines),s.syncFont(n,r);for(var u=0;u<h;u++){var c=s.strokeThickness;c+=r.measureText(i[u]).width,s.wordWrap&&(c-=r.measureText(" ").width),a[u]=Math.ceil(c),o=Math.max(o,a[u])}var l=e.fontSize+s.strokeThickness,f=l*h,d=t._lineSpacing||0;return d<0&&Math.abs(d)>l&&(d=-l),0!==d&&(f+=d>0?d*i.length:d*(i.length-1)),{width:o,height:f,lines:h,lineWidths:a,lineSpacing:d,lineHeight:l}};t.exports=i},function(t,e,i){var n=i(90),r=i(4),s=i(9),a=function(t,e){var i=r(e,"x",0),a=r(e,"y",0),o=r(e,"width",512),h=r(e,"height",512),u=r(e,"key",""),c=r(e,"frame",""),l=new n(t,i,a,o,h,u,c);return s(t,l,e),l};t.exports=a},function(t,e,i){t.exports={renderCanvas:i(588),renderWebGL:i(589)}},function(t,e){var i=function(t,e,i,n){if(!(e.renderMask!==e.renderFlags||e.cameraFilter>0&&e.cameraFilter&n._id)){var r=t.currentContext,s=e.frame;t.currentBlendMode!==e.blendMode&&(t.currentBlendMode=e.blendMode,r.globalCompositeOperation=t.blendModes[e.blendMode]),t.currentAlpha!==e.alpha&&(t.currentAlpha=e.alpha,r.globalAlpha=e.alpha),t.currentScaleMode!==e.scaleMode&&(t.currentScaleMode=e.scaleMode);var a=s.x-e.originX*e.width,o=s.y-e.originY*e.height;r.save(),r.translate(a,o),r.translate(e.x-n.scrollX*e.scrollFactorX,e.y-n.scrollY*e.scrollFactorY),r.fillStyle=e.canvasPattern,r.translate(-this.tilePositionX,-this.tilePositionY),r.fillRect(this.tilePositionX,this.tilePositionY,e.width,e.height),r.restore()}};t.exports=i},function(t,e){var i=function(t,e,i,n){e.renderMask!==e.renderFlags||e.cameraFilter>0&&e.cameraFilter&n._id||(e.updateTileTexture(),t.tileBatch.addTileSprite(e,n))};t.exports=i},function(t,e,i){var n=i(591),r=i(0),s=i(592),a=i(593),o=i(594),h=i(595),u=i(596),c=i(597),l=i(598),f=i(610),d=i(611),p=i(612),v=i(613),g=i(614),x=i(615),m=i(616),y=i(617),E=i(618),T=new r({initialize:function(t){this.scene=t,this.displayList,this.updateList},boot:function(){this.displayList=this.scene.sys.displayList,this.updateList=this.scene.sys.updateList},existing:function(t){return(t.renderCanvas||t.renderWebGL)&&this.displayList.add(t),t.preUpdate&&this.updateList.add(t),t},bitmapText:function(t,e,i,n,r,s){return this.displayList.add(g(this.scene,t,e,i,n,r,s))},dynamicBitmapText:function(t,e,i,n,r,a){return this.displayList.add(s(this.scene,t,e,i,n,r,a))},blitter:function(t,e,i,r){return this.displayList.add(n(this.scene,t,e,i,r))},effectLayer:function(t,e,i,n,r,s){return this.displayList.add(o(this.scene,t,e,i,n,r,s))},graphics:function(t){return this.displayList.add(h(this.scene,t))},group:function(t,e){return u(this.scene,t,e)},image:function(t,e,i,n){return this.displayList.add(c(this.scene,t,e,i,n))},mesh:function(t,e,i,n,r,s){return this.displayList.add(f(this.scene,t,e,i,n,r,s))},quad:function(t,e,i,n){return this.displayList.add(d(this.scene,t,e,i,n))},renderPass:function(t,e,i,n,r,s){return this.displayList.add(p(this.scene,t,e,i,n,r,s))},sprite:function(t,e,i,n){var r=v(this.scene,t,e,i,n);return this.displayList.add(r),this.updateList.add(r),r},text:function(t,e,i,n){return this.displayList.add(m(this.scene,t,e,i,n))},tilemap:function(t,e,i,n,r,s,o,h,u,c){return this.displayList.add(a(this.scene,t,e,i,n,r,s,o,h,u,c))},staticTilemap:function(t,e,i,n,r,s,a,o,h,u){return this.displayList.add(x(this.scene,t,e,i,n,r,s,a,o,h,u))},tileSprite:function(t,e,i,n,r,s){return this.displayList.add(y(this.scene,t,e,i,n,r,s))},zone:function(t,e,i,n){return this.displayList.add(E(this.scene,t,e,i,n))},tween:function(t){return this.scene.sys.tweens.add(t)},lightLayer:function(){return this.displayList.add(l(this.scene))}});t.exports=T},function(t,e,i){var n=i(78),r=function(t,e,i,r,s){return new n(t,e,i,r,s)};t.exports=r},function(t,e,i){var n=i(79),r=function(t,e,i,r,s,a){return new n(t,e,i,r,s,a)};t.exports=r},function(t,e,i){var n=i(80),r=function(t,e,i,r,s,a,o,h,u,c,l){return new n(t,e,i,r,s,a,o,h,u,c,l)};t.exports=r},function(t,e,i){var n=i(81),r=function(t,e,i,r,s,a,o){return new n(t,e,i,r,s,a,o)};t.exports=r},function(t,e,i){var n=i(82),r=function(t,e){return new n(t,e)};t.exports=r},function(t,e,i){var n=i(84),r=function(t,e,i){return"object"==typeof e&&void 0===i&&(i=e,e=[]),new n(t,e,i)};t.exports=r},function(t,e,i){var n=i(56),r=function(t,e,i,r,s){return new n(t,e,i,r,s)};t.exports=r},function(t,e,i){var n=i(187),r=function(t){return new n(t)};t.exports=r},function(t,e){t.exports={MAX_LIGHTS:10,DEFERRED_MAX_LIGHTS:100}},function(t,e){var i=function(){return["#extension GL_EXT_draw_buffers : require","precision mediump float;","uniform sampler2D uMainTexture;","uniform sampler2D uNormTexture;","varying vec2 v_tex_coord;","varying vec3 v_color;","varying float v_alpha;","void main()","{","    vec4 spriteColor = texture2D(uMainTexture, v_tex_coord) * vec4(v_color, v_alpha);","    vec3 spriteNormal = texture2D(uNormTexture, v_tex_coord).rgb;","    gl_FragData[0] = spriteColor;","    gl_FragData[1] = vec4(spriteNormal, spriteColor.a);","}"].join("\n")};t.exports=i},function(t,e,i){var n=i(0),r=new n({initialize:function(t,e,i,n,r,s,a,o){this.x=t,this.y=e,this.z=i,this.radius=n,this.r=r,this.g=s,this.b=a,this.attenuation=o,this.scrollFactorX=1,this.scrollFactorY=1},set:function(t,e,i,n,r,s,a,o){this.x=t,this.y=e,this.z=i,this.radius=n,this.r=r,this.g=s,this.b=a,this.attenuation=o,this.scrollFactorX=1,this.scrollFactorY=1}});t.exports=r},function(t,e){var i=function(t){return["precision mediump float;","struct Light","{","    vec3 position;","    vec3 color;","    float attenuation;","    float radius;","};","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainTexture;","uniform sampler2D uNormTexture;","uniform vec3 uAmbientLightColor;","uniform Light uLights["+t+"];","varying vec2 v_tex_coord;","varying vec3 v_color;","varying float v_alpha;","void main()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 spriteColor = texture2D(uMainTexture, v_tex_coord) * vec4(v_color, v_alpha);","    vec3 spriteNormal = texture2D(uNormTexture, v_tex_coord).rgb;","    vec3 normal = normalize(vec3(spriteNormal * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < "+t+"; ++index)","    {","        Light light = uLights[index];","        vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), light.position.z);","        vec3 lightNormal = normalize(lightDir);","        float distToSurf = length(lightDir) * uCamera.w;","        float diffuseFactor = max(dot(normal, lightNormal), 0.0);","        float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","        float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","        vec3 diffuse = light.color * spriteColor.rgb * diffuseFactor;","        finalColor += attenuation * diffuse;","    }","    gl_FragColor = vec4(uAmbientLightColor + finalColor, spriteColor.a);","}"].join("\n")};t.exports=i},function(t,e){var i=function(t){var e=["precision mediump float;","attribute vec2 vertexPosition;","void main()","{","    gl_Position = vec4(vertexPosition, 0.0, 1.0);","}"],i=["precision mediump float;","struct Light","{","    vec3 position;","    vec3 color;","    float attenuation;","    float radius;","};","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uGbufferColor;","uniform sampler2D uGbufferNormal;","uniform vec3 uAmbientLightColor;","uniform Light uLights["+t+"];","void main()","{","    vec2 uv = vec2(gl_FragCoord.xy / uResolution);","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 gbColor = texture2D(uGbufferColor, uv);","    vec3 gbNormal = texture2D(uGbufferNormal, uv).rgb;","    vec3 normal = normalize(vec3(gbNormal * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < "+t+"; ++index)","    {                ","        Light light = uLights[index];","        vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), light.position.z);","        vec3 lightNormal = normalize(lightDir);","        float distToSurf = length(lightDir) * uCamera.w;","        float diffuseFactor = max(dot(normal, lightNormal), 0.0);","        float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","        float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","        vec3 diffuse = light.color * gbColor.rgb * diffuseFactor;","        finalColor += attenuation * diffuse;","    }","    gl_FragColor = vec4(uAmbientLightColor + finalColor, gbColor.a);","}"];return{vert:e.join("\n"),frag:i.join("\n")}};t.exports=i},function(t,e,i){t.exports={renderCanvas:i(605),renderWebGL:i(606)}},function(t,e){var i=function(t,e,i,n){};t.exports=i},function(t,e,i){var n=i(188);t.exports=function(){return i(n.has("WEBGL_draw_buffers")?607:608)}()},function(t,e,i){var n=i(74),r=function(t,e,i,r){var s=e.sprites,a=s.length,o=t.spriteBatch,h=t.gl;if(!(this.renderMask!==this.renderFlags||0===a||e.cameraFilter>0&&e.cameraFilter&r._id)){null!==t.currentRenderer&&t.currentRenderer.flush(),o.bind(e.gBufferShaderPass),o.indexBufferObject.bind(),e.updateLights(t,r,this.lightPassShader),h.bindFramebuffer(h.FRAMEBUFFER,e.gBufferFbo),h.clearColor(0,0,0,0),h.clear(h.COLOR_BUFFER_BIT);for(var u=0;u<a;++u){var c,l,f,d,p,v,g,x,m,y,E,T,w,b,_,A,S,R,O,C,M,L,F,D,I,B,P=s[u],k=P.spriteRef,N=o.tempMatrix,X=k.frame,U=!!X.texture.source[X.sourceIndex].glTexture.isRenderTexture,Y=k.flipX,z=k.flipY^U,V=o.vertexDataBuffer,G=V.floatView,j=V.uintView,H=0,W=X.uvs,q=X.width*(Y?-1:1),K=X.height*(z?-1:1),Z=k.x-r.scrollX*k.scrollFactorX,J=k.y-r.scrollY*k.scrollFactorY,Q=k.scaleX,$=k.scaleY,tt=-k.rotation,et=N.matrix,it=-k.displayOriginX+X.x+X.width*(Y?1:0),nt=-k.displayOriginY+X.y+X.height*(z?1:0),rt=it+q,st=nt+K,at=r.matrix.matrix,ot=k._alphaTL,ht=k._alphaTR,ut=k._alphaBL,ct=k._alphaBR,lt=k._tintTL,ft=k._tintTR,dt=k._tintBL,pt=k._tintBR;N.applyITRS(Z,J,tt,Q,$),_=et[0],A=et[1],S=et[2],R=et[3],O=et[4],C=et[5],M=at[0],L=at[1],F=at[2],D=at[3],I=at[4],B=at[5],c=_*M+A*F,l=_*L+A*D,f=S*M+R*F,d=S*L+R*D,p=O*M+C*F+I,v=O*L+C*D+B,g=it*c+nt*f+p,x=it*l+nt*d+v,m=it*c+st*f+p,y=it*l+st*d+v,E=rt*c+st*f+p,T=rt*l+st*d+v,w=rt*c+nt*f+p,b=rt*l+nt*d+v,(t.currentTexture[0]!==X.texture.source[X.sourceIndex].glTexture||t.currentTexture[1]!==P.normalTextureRef.source[P.spriteRef.frame.sourceIndex].glTexture||o.shouldFlush())&&(o.flush(e.gBufferShaderPass,e.renderTarget),t.setTexture(X.texture.source[X.sourceIndex].glTexture,0),t.setTexture(P.normalTextureRef.source[P.spriteRef.frame.sourceIndex].glTexture,1)),o.drawIndexed=!0,o.drawingMesh=!1,H=V.allocate(24),o.elementCount+=6,G[H++]=g,G[H++]=x,G[H++]=W.x0,G[H++]=W.y0,j[H++]=lt,G[H++]=ot,G[H++]=m,G[H++]=y,G[H++]=W.x1,G[H++]=W.y1,j[H++]=dt,G[H++]=ut,G[H++]=E,G[H++]=T,G[H++]=W.x2,G[H++]=W.y2,j[H++]=pt,G[H++]=ct,G[H++]=w,G[H++]=b,G[H++]=W.x3,G[H++]=W.y3,j[H++]=ft,G[H++]=ht}o.flush(e.gBufferShaderPass,e.renderTarget),t.setTexture({texture:e.gBufferColorTex},0),t.setTexture({texture:e.gBufferNormalTex},1),h.bindFramebuffer(h.FRAMEBUFFER,null),e.lightPassShader.bind(),h.bindBuffer(h.ARRAY_BUFFER,e.lightPassVBO),h.enableVertexAttribArray(0),h.vertexAttribPointer(0,2,h.FLOAT,!1,Float32Array.BYTES_PER_ELEMENT,0),h.drawArrays(h.TRIANGLES,0,3),n.SetDirty(),o.bind()}};t.exports=r},function(t,e){var i=function(t,e,i,n){var r=e.sprites,s=r.length,a=t.spriteBatch;if(!(this.renderMask!==this.renderFlags||0===s||e.cameraFilter>0&&e.cameraFilter&n._id)){null!==t.currentRenderer&&t.currentRenderer.flush(),a.bind(e.passShader),a.indexBufferObject.bind(),e.updateLights(t,n,this.passShader);for(var o=0;o<s;++o){var h,u,c,l,f,d,p,v,g,x,m,y,E,T,w,b,_,A,S,R,O,C,M,L,F,D,I=r[o],B=I.spriteRef,P=a.tempMatrix,k=B.frame,N=!!k.texture.source[k.sourceIndex].glTexture.isRenderTexture,X=B.flipX,U=B.flipY^N,Y=a.vertexDataBuffer,z=Y.floatView,V=Y.uintView,G=0,j=k.uvs,H=k.width*(X?-1:1),W=k.height*(U?-1:1),q=B.x-n.scrollX*B.scrollFactorX,K=B.y-n.scrollY*B.scrollFactorY,Z=B.scaleX,J=B.scaleY,Q=-B.rotation,$=P.matrix,tt=-B.displayOriginX+k.x+k.width*(X?1:0),et=-B.displayOriginY+k.y+k.height*(U?1:0),it=tt+H,nt=et+W,rt=n.matrix.matrix,st=B._alphaTL,at=B._alphaTR,ot=B._alphaBL,ht=B._alphaBR,ut=B._tintTL,ct=B._tintTR,lt=B._tintBL,ft=B._tintBR;P.applyITRS(q,K,Q,Z,J),w=$[0],b=$[1],_=$[2],A=$[3],S=$[4],R=$[5],O=rt[0],C=rt[1],M=rt[2],L=rt[3],F=rt[4],D=rt[5],h=w*O+b*M,u=w*C+b*L,c=_*O+A*M,l=_*C+A*L,f=S*O+R*M+F,d=S*C+R*L+D,p=tt*h+et*c+f,v=tt*u+et*l+d,g=tt*h+nt*c+f,x=tt*u+nt*l+d,m=it*h+nt*c+f,y=it*u+nt*l+d,E=it*h+et*c+f,T=it*u+et*l+d,(t.currentTexture[0]!==k.texture.source[k.sourceIndex].glTexture||t.currentTexture[1]!==I.normalTextureRef.source[I.spriteRef.frame.sourceIndex].glTexture||a.shouldFlush())&&(a.flush(e.passShader,e.renderTarget),t.setTexture(k.texture.source[k.sourceIndex].glTexture,0),t.setTexture(I.normalTextureRef.source[I.spriteRef.frame.sourceIndex].glTexture,1)),a.drawIndexed=!0,a.drawingMesh=!1,G=Y.allocate(24),a.elementCount+=6,z[G++]=p,z[G++]=v,z[G++]=j.x0,z[G++]=j.y0,V[G++]=ut,z[G++]=st,z[G++]=g,z[G++]=x,z[G++]=j.x1,z[G++]=j.y1,V[G++]=lt,z[G++]=ot,z[G++]=m,z[G++]=y,z[G++]=j.x2,z[G++]=j.y2,V[G++]=ft,z[G++]=ht,z[G++]=E,z[G++]=T,z[G++]=j.x3,z[G++]=j.y3,V[G++]=ct,z[G++]=at}a.flush(e.passShader,e.renderTarget)}};t.exports=i},function(t,e,i){var n=i(0),r=new n({initialize:function(t,e){this.spriteRef=t,this.normalTextureRef=e},set:function(t,e){this.spriteRef=t,this.normalTextureRef=e}});t.exports=r},function(t,e,i){var n=i(57),r=function(t,e,i,r,s,a,o){return new n(t,e,i,r,s,a,o)};t.exports=r},function(t,e,i){var n=i(85),r=function(t,e,i,r,s){return new n(t,e,i,r,s)};t.exports=r},function(t,e,i){var n=i(86),r=function(t,e,i,r,s,a,o){return new n(t,e,i,r,s,a,o)};t.exports=r},function(t,e,i){var n=i(39),r=function(t,e,i,r,s){return new n(t,e,i,r,s)};t.exports=r},function(t,e,i){var n=i(87),r=function(t,e,i,r,s,a){return new n(t,e,i,r,s,a)};t.exports=r},function(t,e,i){var n=i(88),r=function(t,e,i,r,s,a,o,h,u,c,l){return new n(t,e,i,r,s,a,o,h,u,c,l)};t.exports=r},function(t,e,i){var n=i(89),r=function(t,e,i,r,s){return new n(t,e,i,r,s)};t.exports=r},function(t,e,i){var n=i(90),r=function(t,e,i,r,s,a,o){return new n(t,e,i,r,s,a,o)};t.exports=r},function(t,e,i){var n=i(65),r=function(t,e,i,r,s){return new n(t,e,i,r,s)};t.exports=r},function(t,e,i){var n=i(0),r=(i(40),i(637)),s=new n({Extends:r,initialize:function(t){r.call(this,t)},pointScreenToWorldHitTest:function(t,e,i,n){return this.manager.pointScreenToWorldHitTest(t,e,i,n)}});t.exports=s},function(t,e,i){var n=i(0),r=i(1),s=new n({Extends:r,initialize:function(t,e){r.call(this,"DRAG_EVENT"),this.pointer=t,this.event=t.event,this.gameObject=e,this.camera=t.camera,this.x=t.x,this.y=t.y,this.dragX=t.x-e.input.dragX,this.dragY=t.y-e.input.dragY}});t.exports=s},function(t,e,i){var n=i(0),r=i(1),s=new n({Extends:r,initialize:function(t,e,i){r.call(this,"DRAG_END_EVENT"),this.pointer=t,this.event=t.event,this.gameObject=e,this.camera=t.camera,this.x=t.x,this.y=t.y,this.dropped=i,this.dragX=e.input.dragX,this.dragY=e.input.dragY}});t.exports=s},function(t,e,i){var n=i(0),r=i(1),s=new n({Extends:r,initialize:function(t,e,i){r.call(this,"DRAG_ENTER_EVENT"),this.pointer=t,this.event=t.event,this.gameObject=e,this.camera=t.camera,this.dropZone=i}});t.exports=s},function(t,e,i){var n=i(0),r=i(1),s=new n({Extends:r,initialize:function(t,e,i){r.call(this,"DRAG_LEAVE_EVENT"),this.pointer=t,this.event=t.event,this.gameObject=e,this.camera=t.camera,this.dropZone=i}});t.exports=s},function(t,e,i){var n=i(0),r=i(1),s=new n({Extends:r,initialize:function(t,e,i){r.call(this,"DRAG_OVER_EVENT"),this.pointer=t,this.event=t.event,this.gameObject=e,this.camera=t.camera,this.dropZone=i}});t.exports=s},function(t,e,i){var n=i(0),r=i(1),s=new n({Extends:r,initialize:function(t,e){r.call(this,"DRAG_START_EVENT"),this.pointer=t,this.event=t.event,this.gameObject=e,this.camera=t.camera,this.x=t.x,this.y=t.y,this.dragX=e.input.dragX,this.dragY=e.input.dragY}});t.exports=s},function(t,e,i){var n=i(0),r=i(1),s=new n({Extends:r,initialize:function(t,e,i){r.call(this,"DROP_EVENT"),this.pointer=t,this.event=t.event,this.gameObject=e,this.camera=t.camera,this.dropZone=i}});t.exports=s},function(t,e,i){var n=i(0),r=i(1),s=new n({Extends:r,initialize:function(t,e){r.call(this,"GAME_OBJECT_DOWN_EVENT"),this.pointer=t,this.event=t.event,this.gameObject=e,this.camera=t.camera,this.x=e.input.localX,this.y=e.input.localY}});t.exports=s},function(t,e,i){var n=i(0),r=i(1),s=new n({Extends:r,initialize:function(t,e){r.call(this,"GAME_OBJECT_MOVE_EVENT"),this.pointer=t,this.event=t.event,this.gameObject=e,this.camera=t.camera,this.x=e.input.localX,this.y=e.input.localY}});t.exports=s},function(t,e,i){var n=i(0),r=i(1),s=new n({Extends:r,initialize:function(t,e){r.call(this,"GAME_OBJECT_OUT_EVENT"),this.pointer=t,this.event=t.event,this.gameObject=e,this.camera=t.camera}});t.exports=s},function(t,e,i){var n=i(0),r=i(1),s=new n({Extends:r,initialize:function(t,e){r.call(this,"GAME_OBJECT_OVER_EVENT"),this.pointer=t,this.event=t.event,this.gameObject=e,this.camera=t.camera,this.x=e.input.localX,this.y=e.input.localY}});t.exports=s},function(t,e,i){var n=i(0),r=i(1),s=new n({Extends:r,initialize:function(t,e){r.call(this,"GAME_OBJECT_UP_EVENT"),this.pointer=t,this.event=t.event,this.gameObject=e,this.camera=t.camera,this.x=e.input.localX,this.y=e.input.localY}});t.exports=s},function(t,e,i){var n=i(0),r=i(1),s=new n({Extends:r,initialize:function(t,e){r.call(this,"POINTER_DOWN_EVENT"),this.pointer=t,this.event=t.event,this.camera=t.camera,this.x=t.x,this.y=t.y,this.list=e,this.gameObject=e[0]}});t.exports=s},function(t,e,i){var n=i(0),r=i(1),s=new n({Extends:r,initialize:function(t,e){r.call(this,"POINTER_MOVE_EVENT"),this.pointer=t,this.event=t.event,this.camera=t.camera,this.x=t.x,this.y=t.y,this.list=e,this.gameObject=e[0]}});t.exports=s},function(t,e,i){var n=i(0),r=i(1),s=new n({Extends:r,initialize:function(t,e){r.call(this,"POINTER_OUT_EVENT"),this.pointer=t,this.event=t.event,this.camera=t.camera,this.x=t.x,this.y=t.y,this.list=e,this.gameObject=e[0]}});t.exports=s},function(t,e,i){var n=i(0),r=i(1),s=new n({Extends:r,initialize:function(t,e){r.call(this,"POINTER_OVER_EVENT"),this.pointer=t,this.event=t.event,this.camera=t.camera,this.x=t.x,this.y=t.y,this.list=e,this.gameObject=e[0]}});t.exports=s},function(t,e,i){var n=i(0),r=i(1),s=new n({Extends:r,initialize:function(t,e){r.call(this,"POINTER_UP_EVENT"),this.pointer=t,this.event=t.event,this.camera=t.camera,this.x=t.x,this.y=t.y,this.list=e,this.gameObject=e[0]}});t.exports=s},function(t,e,i){var n=i(0),r=new n({initialize:function(t){this.scene=t,this.manager=t.sys.game.input,this.displayList,this.cameras,this.events=this.manager.events,this.keyboard=this.manager.keyboard,this.mouse=this.manager.mouse,this.gamepad=this.manager.gamepad,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[]},this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"]},boot:i(638),begin:i(639),clear:i(640),update:i(641),hitTestPointer:i(642),disable:i(643),enable:i(644),queueForInsertion:i(645),queueForRemoval:i(646),setpollRate:i(647),setpollAlways:i(648),setpollOnMove:i(649),setHitArea:i(650),setHitAreaCircle:i(651),setHitAreaEllipse:i(652),setHitAreaFromTexture:i(653),setHitAreaRectangle:i(654),setHitAreaTriangle:i(655),setDraggable:i(656),setCallback:i(657),setCallbacks:i(658),setOnDownCallback:i(659),setOnOutCallback:i(660),setOnOverCallback:i(661),setOnUpCallback:i(662),setOnMoveCallback:i(663),processOverOutEvents:i(664),processDownEvents:i(665),processDragEvents:i(666),processUpEvents:i(667),processMoveEvents:i(668),sortGameObjects:i(669),sortInteractiveObjects:i(670),sortHandlerGO:i(671),sortHandlerIO:i(672),x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},shutdown:function(){this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;for(var t=0;t<10;t++)this._drag[t]=[],this._over[t]=[]},destroy:function(){this.shutdown(),this.scene=void 0,this.cameras=void 0,this.manager=void 0,this.events=void 0,this.keyboard=void 0,this.mouse=void 0,this.gamepad=void 0}});t.exports=r},function(t,e){var i=function(){this.cameras=this.scene.sys.cameras,this.displayList=this.scene.sys.displayList};t.exports=i},function(t,e){var i=function(){var t=this._pendingRemoval,e=this._pendingInsertion,i=t.length,n=e.length;if(0!==i||0!==n){for(var r=this._list,s=0;s<i;s++){var a=t[s],o=r.indexOf(a);o>-1&&(r.splice(o,1),this.clear(a))}t.length=0,this._list=r.concat(e.splice(0))}};t.exports=i},function(t,e){var i=function(t){var e=t.input;return e.gameObject=void 0,e.target=void 0,e.hitArea=void 0,e.hitAreaCallback=void 0,e.callbackContext=void 0,t.input=null,t};t.exports=i},function(t,e){var i=function(t,e){var i=this.manager.activePointer,n=i.dirty||0===this.pollRate;this.pollRate>-1&&(this._pollTimer-=e,this._pollTimer<0&&(n=!0,this._pollTimer=this.pollRate)),n&&(this._temp=this.hitTestPointer(i),this.sortGameObjects(this._temp),this.processDragEvents(i,t),this.processOverOutEvents(i),i.justDown&&this.processDownEvents(i),i.justUp&&this.processUpEvents(i),i.justMoved&&this.processMoveEvents(i))};t.exports=i},function(t,e){var i=function(t){var e=this.cameras.getCameraBelowPointer(t);return e?(t.camera=e,this.manager.hitTest(this._list,t.x,t.y,e)):[]};t.exports=i},function(t,e){var i=function(t){t.input.enabled=!1};t.exports=i},function(t,e){var i=function(t,e,i){return t.input?t.input.enabled=!0:this.setHitArea(t,e,i),this};t.exports=i},function(t,e){var i=function(t){return-1===this._pendingInsertion.indexOf(t)&&-1===this._list.indexOf(t)&&this._pendingInsertion.push(t),this};t.exports=i},function(t,e){var i=function(t){return this._pendingRemoval.push(t),this};t.exports=i},function(t,e){var i=function(t){return this.pollRate=t,this._pollTimer=0,this};t.exports=i},function(t,e){var i=function(){return this.pollRate=0,this._pollTimer=0,this};t.exports=i},function(t,e){var i=function(){return this.pollRate=-1,this._pollTimer=0,this};t.exports=i},function(t,e,i){var n=i(189),r=function(t,e,i){if(void 0===e)return this.setHitAreaFromTexture(t);Array.isArray(t)||(t=[t]);for(var r=0;r<t.length;r++){var s=t[r];s.input=n(s,e,i),this.queueForInsertion(s)}return this};t.exports=r},function(t,e,i){var n=i(48),r=i(36),s=function(t,e,i,s,a){void 0===a&&(a=r);var o=new n(e,i,s);return this.setHitArea(t,o,a)};t.exports=s},function(t,e,i){var n=i(91),r=i(58),s=function(t,e,i,s,a,o){void 0===o&&(o=r);var h=new n(e,i,s,a);return this.setHitArea(t,h,o)};t.exports=s},function(t,e,i){var n=i(189),r=i(14),s=i(27),a=function(t,e){void 0===e&&(e=s),Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var a=t[i],o=a.frame,h=0,u=0;o?(h=o.width,u=o.height):a.width&&(h=a.width,u=a.height),0!==h&&0!==u&&(a.input=n(a,new r(0,0,h,u),e),this.queueForInsertion(a))}return this};t.exports=a},function(t,e,i){var n=i(14),r=i(27),s=function(t,e,i,s,a,o){void 0===o&&(o=r);var h=new n(e,i,s,a);return this.setHitArea(t,h,o)};t.exports=s},function(t,e,i){var n=i(41),r=i(47),s=function(t,e,i,s,a,o,h,u){void 0===u&&(u=r);var c=new n(e,i,s,a,o,h);return this.setHitArea(t,c,u)};t.exports=s},function(t,e){var i=function(t,e){void 0===e&&(e=!0),Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var n=t[i];n.input.draggable=e;var r=this._draggable.indexOf(n);e&&-1===r?this._draggable.push(n):!e&&r>-1&&this._draggable.splice(r,1)}return this};t.exports=i},function(t,e){var i=function(t,e,i,n){if(-1===this._validTypes.indexOf(e))return this;Array.isArray(t)||(t=[t]);for(var r=0;r<t.length;r++){var s=t[r];s.input&&(s.input[e]=i,n&&(s.input.callbackContext=n))}return this};t.exports=i},function(t,e,i){var n=i(7),r=function(t,e){var i=n(e,"onDown",null),r=n(e,"onUp",null),s=n(e,"onOver",null),a=n(e,"onOut",null),o=n(e,"onMove",null),h=n(e,"context",null);return i&&this.setOnDownCallback(t,i,h),r&&this.setOnDownCallback(t,r,h),s&&this.setOnDownCallback(t,s,h),a&&this.setOnDownCallback(t,a,h),o&&this.setOnMoveCallback(t,o,h),this};t.exports=r},function(t,e){var i=function(t,e,i){return this.setCallback(t,"onDown",e,i)};t.exports=i},function(t,e){var i=function(t,e,i){return this.setCallback(t,"onOut",e,i)};t.exports=i},function(t,e){var i=function(t,e,i){return this.setCallback(t,"onOver",e,i)};t.exports=i},function(t,e){var i=function(t,e,i){return this.setCallback(t,"onUp",e,i)};t.exports=i},function(t,e){var i=function(t,e,i){return this.setCallback(t,"onMove",e,i)};t.exports=i},function(t,e,i){var n=i(40),r=function(t){var e,i,r=this._temp,s=[],a=[],o=[],h=this._over[t.id];for(e=0;e<h.length;e++)i=h[e],-1===r.indexOf(i)?s.push(i):o.push(i);for(e=0;e<r.length;e++)i=r[e],-1===h.indexOf(i)&&a.push(i);var u=s.length;if(u>0)for(this.sortGameObjects(s),this.events.dispatch(new n.POINTER_OUT(t,s)),e=0;e<u&&(i=s[e],this.events.dispatch(new n.GAME_OBJECT_OUT(t,i)),i.input.onOut(i,t),!this.topOnly);e++);if((u=a.length)>0)for(this.sortGameObjects(a),this.events.dispatch(new n.POINTER_OVER(t,a)),e=0;e<u&&(i=a[e],this.events.dispatch(new n.GAME_OBJECT_OVER(t,i)),i.input.onOver(i,t,i.input.localX,i.input.localY),!this.topOnly);e++);h=o.concat(a),this._over[t.id]=this.sortGameObjects(h)};t.exports=r},function(t,e,i){var n=i(40),r=function(t){var e=this._temp;this.events.dispatch(new n.POINTER_DOWN(t,e));for(var i=0;i<e.length;i++){var r=e[i];if(this.events.dispatch(new n.GAME_OBJECT_DOWN(t,r)),r.input.onDown(r,t,r.input.localX,r.input.localY),this.topOnly)break}};t.exports=r},function(t,e,i){var n=i(51),r=i(40),s=function(t,e){if(0!==this._draggable.length){var i,s,a,o,h,u=this._temp;if(0===t.dragState&&t.primaryDown&&t.justDown&&u.length>0?t.dragState=1:t.dragState>0&&!t.primaryDown&&t.justUp&&(t.dragState=5),1===t.dragState){var c=[];for(i=0;i<u.length;i++)a=u[i],a.input.draggable&&c.push(a);if(0===c.length)return void(t.dragState=0);c.length>1&&(this.sortGameObjects(c),this.topOnly&&c.splice(1)),this._drag[t.id]=c,0===this.dragDistanceThreshold&&0===this.dragTimeThreshold?t.dragState=3:t.dragState=2}if(2===t.dragState&&(this.dragDistanceThreshold>0&&n(t.x,t.y,t.downX,t.downY)>=this.dragDistanceThreshold&&(t.dragState=3),this.dragTimeThreshold>0&&e>=t.downTime+this.dragTimeThreshold&&(t.dragState=3)),3===t.dragState){for(o=this._drag[t.id],i=0;i<o.length;i++)a=o[i],h=a.input,h.dragState=2,h.dragX=t.x-a.x,h.dragY=t.y-a.y,h.dragStartX=a.x,h.dragStartY=a.y,this.events.dispatch(new r.DRAG_START(t,a)),h.onDragStart(a,t,h.dragX,h.dragY);return void(t.dragState=4)}if(4===t.dragState&&t.justMoved){var l=[];for(s=0;s<u.length;s++)u[s].input.dropZone&&l.push(u[s]);for(o=this._drag[t.id],i=0;i<o.length;i++){if(a=o[i],h=a.input,h.target){var f=l.indexOf(h.target);0===f?this.events.dispatch(new r.DRAG_OVER(t,a,h.target)):f>0?(this.events.dispatch(new r.DRAG_LEAVE(t,a,h.target)),h.target=l[0],this.events.dispatch(new r.DRAG_ENTER(t,a,h.target))):(this.events.dispatch(new r.DRAG_LEAVE(t,a,h.target)),l[0]?(h.target=l[0],this.events.dispatch(new r.DRAG_ENTER(t,a,h.target))):h.target=null)}else!h.target&&l[0]&&(h.target=l[0],this.events.dispatch(new r.DRAG_ENTER(t,a,h.target)));this.events.dispatch(new r.DRAG(t,a)),h.onDrag(a,t)}}if(5===t.dragState){for(o=this._drag[t.id],i=0;i<o.length;i++){a=o[i],h=a.input,h.dragState=0,h.dragX=h.localX-a.displayOriginX,h.dragY=h.localY-a.displayOriginY;var d=!1;h.target&&(this.events.dispatch(new r.DROP(t,a,h.target)),h.target=null,d=!0),this.events.dispatch(new r.DRAG_END(t,a,d)),h.onDragEnd(a,t,h.dragX,h.dragY)}t.dragState=0}}};t.exports=s},function(t,e,i){var n=i(40),r=function(t){var e=this._temp;this.events.dispatch(new n.POINTER_UP(t,e));for(var i=0;i<e.length;i++){var r=e[i];if(this.events.dispatch(new n.GAME_OBJECT_UP(t,r)),r.input.onUp(r,t,r.input.localX,r.input.localY),this.topOnly)break}};t.exports=r},function(t,e,i){var n=i(40),r=function(t){var e=this._temp;this.events.dispatch(new n.POINTER_MOVE(t,e));for(var i=0;i<e.length;i++){var r=e[i];if(this.events.dispatch(new n.GAME_OBJECT_MOVE(t,r)),r.input.onMove(r,t,r.input.localX,r.input.localY),this.topOnly)break}};t.exports=r},function(t,e){var i=function(t){return t.length<2?t:(this.scene.sys.depthSort(),t.sort(this.sortHandlerGO.bind(this)))};t.exports=i},function(t,e){var i=function(t){return t.length<2?t:(this.scene.sys.depthSort(),t.sort(this.sortHandlerIO.bind(this)))};t.exports=i},function(t,e){var i=function(t,e){var i=this.displayList.getIndex(t),n=this.displayList.getIndex(e);return i<n?1:i>n?-1:0};t.exports=i},function(t,e){var i=function(t,e){var i=this.displayList.getIndex(t.gameObject),n=this.displayList.getIndex(e.gameObject);return i<n?1:i>n?-1:0};t.exports=i},function(t,e,i){var n=i(674),r=i(0),s=i(190),a=i(678),o=i(681),h=i(682),u=i(683),c=i(684),l=i(685),f=i(42),d=i(93),p=i(686),v=i(687),g=i(688),x=i(193),m=i(689),y=i(192),E=new r({Extends:n,initialize:function(t){n.call(this,t),this._multilist={}},image:function(t,e,i){return f.create(this,t,e,i)},animation:function(t,e,i){return a.create(this,t,e,i)},json:function(t,e,i){return d.create(this,t,e,i)},script:function(t,e,i){return p.create(this,t,e,i)},xml:function(t,e,i){return y.create(this,t,e,i)},binary:function(t,e,i){return h.create(this,t,e,i)},text:function(t,e,i){return x.create(this,t,e,i)},glsl:function(t,e,i){return c.create(this,t,e,i)},html:function(t,e,i,n,r){return l.create(this,t,e,i,n,r)},svg:function(t,e,i){return g.create(this,t,e,i)},spritesheet:function(t,e,i,n){return v.create(this,t,e,i,n)},unityAtlas:function(t,e,i,n,r){var s=new m(t,e,i,this.path,n,r);return this.addFile(s.texture),this.addFile(s.data),this},atlas:function(t,e,i,n,r){var s=new o(t,e,i,this.path,n,r);return this.addFile(s.texture),this.addFile(s.data),this},bitmapFont:function(t,e,i,n,r){var s=new u(t,e,i,this.path,n,r);return this.addFile(s.texture),this.addFile(s.data),this},multiatlas:function(t,e,i,n,r){if("number"==typeof e){var a=e,o=void 0===i?"":i;e=s(0,a,t+o,".png"),i=s(0,a,t+o,".json")}else Array.isArray(e)||(e=[e]),Array.isArray(i)||(i=[i]);var h,u,c=0;for(this._multilist[t]=[],c=0;c<e.length;c++)u="_MA_IMG_"+t+"_"+c.toString(),h=new f(u,e[c],this.path,n),this.addFile(h),this._multilist[t].push(u);for(c=0;c<i.length;c++)u="_MA_JSON_"+t+"_"+c.toString(),h=new d(u,i[c],this.path,r),this.addFile(h),this._multilist[t].push(u)}});t.exports=E},function(t,e,i){var n=i(13),r=i(55),s=i(92),a=i(675),o=i(0),h=i(186),u=new o({initialize:function(t){this.scene=t,this.events=t.sys.events,this.baseURL="",this.path="",this.enableParallel=!0,this.maxParallelDownloads=4,this.xhr=s(),this.crossOrigin=void 0,this.list=new r,this.inflight=new r,this.failed=new r,this.queue=new r,this.storage=new r,this.state=n.LOADER_IDLE},setPath:function(t){return"/"!==t.substr(-1)&&(t=t.concat("/")),this.path=t,this},addFile:function(t){return this.isReady()?(t.path=this.path,this.list.set(t),this):-1},isLoading:function(){return this.state===n.LOADER_LOADING||this.state===n.LOADER_PROCESSING},isReady:function(){return this.state===n.LOADER_IDLE||this.state===n.LOADER_COMPLETE||this.state===n.LOADER_FAILED},start:function(){console.log(this.scene.sys.settings.key,"- BaseLoader start. Files to load:",this.list.size),this.isReady()&&(this.events.dispatch(new a.LOADER_START_EVENT(this)),0===this.list.size?this.finishedLoading():(this.state=n.LOADER_LOADING,this.failed.clear(),this.inflight.clear(),this.queue.clear(),this.queue.debug=!0,this.updateProgress(),this.processLoadQueue()))},updateProgress:function(){},processLoadQueue:function(){var t=this;this.list.each(function(e){if(e.state===n.FILE_PENDING&&t.inflight.size<t.maxParallelDownloads&&(t.inflight.set(e),t.list.delete(e),t.loadFile(e)),t.inflight.size===t.maxParallelDownloads)return!1})},loadFile:function(t){t.crossOrigin||(t.crossOrigin=this.crossOrigin),t.load(this.nextFile.bind(this),this.baseURL)},nextFile:function(t,e){e?this.queue.set(t):this.failed.set(t),this.inflight.delete(t),this.list.size>0?this.processLoadQueue():0===this.inflight.size&&this.finishedLoading()},finishedLoading:function(){this.state=n.LOADER_PROCESSING,this.storage.clear();var t=this;this.queue.each(function(e){e.onProcess(t.processUpdate.bind(t))})},processUpdate:function(t){if(t.state===n.FILE_ERRORED)return this.failed.set(t),t.linkFile&&this.queue.delete(t.linkFile),this.removeFromQueue(t);t.linkFile?t.state===n.FILE_COMPLETE&&t.linkFile.state===n.FILE_COMPLETE&&(this.storage.set({type:t.linkType,fileA:t,fileB:t.linkFile}),this.queue.delete(t.linkFile),this.removeFromQueue(t)):(this.storage.set(t),this.removeFromQueue(t))},removeFromQueue:function(t){this.queue.delete(t),0===this.queue.size&&this.state===n.LOADER_PROCESSING&&this.processComplete()},processComplete:function(){console.log(this.scene.sys.settings.key,"- Loader Complete. Loaded:",this.storage.size,"Failed:",this.failed.size),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.processCallback(),this.state=n.LOADER_COMPLETE,this.events.dispatch(new a.LOADER_COMPLETE_EVENT(this))},processCallback:function(){if(0!==this.storage.size){var t,e,i,n=this.scene.sys.cache,r=this.scene.sys.textures,s=this.scene.sys.anims;for(var a in this._multilist){for(var o=[],u=[],c=this._multilist[a],l=0;l<c.length;l++)(t=this.storage.get("key",c[l]))&&("image"===t.type?u.push(t.data):"json"===t.type&&o.push(t.data),this.storage.delete(t));u.length+o.length===c.length&&(Array.isArray(o[0].frames)?r.addAtlasJSONArray(a,u,o):r.addAtlasJSONHash(a,u,o))}var f=[];this.storage.each(function(t){switch(t.type){case"animationJSON":f.push(t);break;case"image":case"svg":case"html":r.addImage(t.key,t.data);break;case"atlasjson":e=t.fileA,i=t.fileB,"image"===e.type?r.addAtlas(e.key,e.data,i.data):r.addAtlas(i.key,i.data,e.data);break;case"unityatlas":e=t.fileA,i=t.fileB,"image"===e.type?r.addUnityAtlas(e.key,e.data,i.data):r.addUnityAtlas(i.key,i.data,e.data);break;case"bitmapfont":e=t.fileA,i=t.fileB,"image"===e.type?(n.bitmapFont.add(i.key,{data:h(i.data),texture:e.key,frame:null}),r.addImage(e.key,e.data)):(n.bitmapFont.add(e.key,{data:h(e.data),texture:i.key,frame:null}),r.addImage(i.key,i.data));break;case"spritesheet":r.addSpriteSheet(t.key,t.data,t.config);break;case"json":n.json.add(t.key,t.data);break;case"xml":n.xml.add(t.key,t.data);break;case"text":n.text.add(t.key,t.data);break;case"binary":n.binary.add(t.key,t.data);break;case"sound":n.sound.add(t.key,t.data);break;case"glsl":n.shader.add(t.key,t.data)}}),f.forEach(function(t){s.fromJSON(t.data)}),this.storage.clear()}},reset:function(){this.list.clear(),this.inflight.clear(),this.failed.clear(),this.queue.clear(),this.storage.clear(),this.events.removeAll("LOADER_START_EVENT"),this.events.removeAll("LOADER_COMPLETE_EVENT"),this.tag="",this.path="",this.baseURL="",this.state=n.LOADER_IDLE},destroy:function(){this.reset(),this.state=n.LOADER_DESTROYED}});t.exports=u},function(t,e,i){t.exports={LOADER_START_EVENT:i(676),LOADER_COMPLETE_EVENT:i(677)}},function(t,e,i){var n=i(0),r=i(1),s=new n({Extends:r,initialize:function(t){r.call(this,"LOADER_START_EVENT"),this.loader=t}});t.exports=s},function(t,e,i){var n=i(0),r=i(1),s=new n({Extends:r,initialize:function(t){r.call(this,"LOADER_COMPLETE_EVENT"),this.loader=t}});t.exports=s},function(t,e,i){var n=i(93),r=function(t,e,i,r){var s=new n(t,e,i,r);return s.type="animationJSON",s};r.create=function(t,e,i,n){if(Array.isArray(e))for(var s=0;s<e.length;s++)t.addFile(new r(e[s],i,t.path,n));else t.addFile(new r(e,i,t.path,n));return t},t.exports=r},function(t,e){var i=function(t,e){return!!t.url&&(t.url.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)?t.url:e+t.url)};t.exports=i},function(t,e,i){var n=i(191),r=function(t,e){var i=n(e,t.xhrSettings),r=new XMLHttpRequest;return r.open("GET",t.src,i.async,i.user,i.password),r.responseType=t.xhrSettings.responseType,r.timeout=i.timeout,i.header&&i.headerValue&&r.setRequestHeader(i.header,i.headerValue),i.overrideMimeType&&r.overrideMimeType(i.overrideMimeType),r.onload=t.onLoad.bind(t),r.onerror=t.onError.bind(t),r.onprogress=t.onProgress.bind(t),r.send(),r};t.exports=r},function(t,e,i){var n=i(42),r=i(93),s=function(t,e,i,s,a,o){var h=new n(t,e,s,a),u=new r(t,i,s,o);return h.linkFile=u,u.linkFile=h,h.linkType="atlasjson",u.linkType="atlasjson",{texture:h,data:u}};t.exports=s},function(t,e,i){var n=i(0),r=i(13),s=i(24),a=i(7),o=new n({Extends:s,initialize:function(t,e,i,n){var r="string"==typeof t?t:a(t,"key",""),o={type:"binary",extension:a(t,"extension","bin"),responseType:"arraybuffer",key:r,url:a(t,"file",e),path:i,xhrSettings:a(t,"xhr",n)};s.call(this,o)},onProcess:function(t){this.state=r.FILE_PROCESSING,this.data=this.xhrLoader.response,this.onComplete(),t(this)}});o.create=function(t,e,i,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)t.addFile(new o(e[r],i,t.path,n));else t.addFile(new o(e,i,t.path,n));return t},t.exports=o},function(t,e,i){var n=i(42),r=i(192),s=function(t,e,i,s,a,o){var h=new n(t,e,s,a),u=new r(t,i,s,o);return h.linkFile=u,u.linkFile=h,h.linkType="bitmapfont",u.linkType="bitmapfont",{texture:h,data:u}};t.exports=s},function(t,e,i){var n=i(0),r=i(13),s=i(24),a=i(7),o=new n({Extends:s,initialize:function(t,e,i,n){var r="string"==typeof t?t:a(t,"key",""),o={type:"glsl",extension:a(t,"extension","glsl"),responseType:"text",key:r,url:a(t,"file",e),path:i,xhrSettings:a(t,"xhr",n)};s.call(this,o)},onProcess:function(t){this.state=r.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onComplete(),t(this)}});o.create=function(t,e,i,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)t.addFile(new o(e[r],i,t.path,n));else t.addFile(new o(e,i,t.path,n));return t},t.exports=o},function(t,e,i){var n=i(0),r=i(13),s=i(24),a=i(7),o=new n({Extends:s,initialize:function(t,e,i,n,r,o){void 0===i&&(i=512),void 0===n&&(n=512);var h="string"==typeof t?t:a(t,"key",""),u={type:"html",extension:a(t,"extension","html"),responseType:"text",key:h,url:a(t,"file",e),path:r,xhrSettings:a(t,"xhr",o),config:{width:i,height:n}};s.call(this,u)},onProcess:function(t){this.state=r.FILE_PROCESSING;var e=this.config.width,i=this.config.height,n=[];n.push('<svg width="'+e+'px" height="'+i+'px" viewBox="0 0 '+e+" "+i+'" xmlns="http://www.w3.org/2000/svg">'),n.push('<foreignObject width="100%" height="100%">'),n.push('<body xmlns="http://www.w3.org/1999/xhtml">'),n.push(this.xhrLoader.responseText),n.push("</body>"),n.push("</foreignObject>"),n.push("</svg>");var s=[n.join("\n")],a=this;try{var o=new window.Blob(s,{type:"image/svg+xml;charset=utf-8"})}catch(e){return a.state=r.FILE_ERRORED,void t(a)}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){URL.revokeObjectURL(a.data.src),a.onComplete(),t(a)},this.data.onerror=function(){URL.revokeObjectURL(a.data.src),a.state=r.FILE_ERRORED,t(a)},this.data.src=URL.createObjectURL(o)}});o.create=function(t,e,i,n,r,s){if(Array.isArray(e))for(var a=0;a<e.length;a++)t.addFile(new o(e[a],i,n,r,t.path,s));else t.addFile(new o(e,i,n,r,t.path,s));return t},t.exports=o},function(t,e,i){var n=i(0),r=i(13),s=i(24),a=i(7),o=new n({Extends:s,initialize:function(t,e,i,n){var r="string"==typeof t?t:a(t,"key",""),o={type:"script",extension:a(t,"extension","js"),responseType:"text",key:r,url:a(t,"file",e),path:i,xhrSettings:a(t,"xhr",n)};s.call(this,o)},onProcess:function(t){this.state=r.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onComplete(),t(this)}});o.create=function(t,e,i,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)t.addFile(new o(e[r],i,t.path,n));else t.addFile(new o(e,i,t.path,n));return t},t.exports=o},function(t,e,i){var n=i(42),r=function(t,e,i,r,s){var a=new n(t,e,r,s,i);return a.type="spritesheet",a};r.create=function(t,e,i,n,s){if(Array.isArray(e))for(var a=0;a<e.length;a++)t.addFile(new r(e[a],i,null,t.path,s));else t.addFile(new r(e,i,n,t.path,s));return t},t.exports=r},function(t,e,i){var n=i(0),r=i(13),s=i(24),a=i(7),o=new n({Extends:s,initialize:function(t,e,i,n){var r="string"==typeof t?t:a(t,"key",""),o={type:"svg",extension:a(t,"extension","svg"),responseType:"text",key:r,url:a(t,"file",e),path:i,xhrSettings:a(t,"xhr",n)};s.call(this,o)},onProcess:function(t){this.state=r.FILE_PROCESSING;var e=[this.xhrLoader.responseText],i=this;try{var n=new window.Blob(e,{type:"image/svg+xml;charset=utf-8"})}catch(e){return i.state=r.FILE_ERRORED,void t(i)}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var s=!1;this.data.onload=function(){URL.revokeObjectURL(i.data.src),i.onComplete(),t(i)},this.data.onerror=function(){if(URL.revokeObjectURL(i.data.src),s)i.state=r.FILE_ERRORED,t(i);else{s=!0;var n="data:image/svg+xml,"+encodeURIComponent(e.join(""));i.data.src=URL.createObjectURL(n)}},this.data.src=URL.createObjectURL(n)}});o.create=function(t,e,i,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)t.addFile(new o(e[r],i,t.path,n));else t.addFile(new o(e,i,t.path,n));return t},t.exports=o},function(t,e,i){var n=i(42),r=i(193),s=function(t,e,i,s,a,o){var h=new n(t,e,s,a),u=new r(t,i,s,o);return h.linkFile=u,u.linkFile=h,h.linkType="unityatlas",u.linkType="unityatlas",{texture:h,data:u}};t.exports=s},function(t,e,i){var n=i(0),r=i(2),s=i(94),a=i(25),o=i(691),h=new n({initialize:function(t){this.scene=t,this.gameConfig=t.sys.game.config.physics,this.defaultSystem=t.sys.game.config.defaultPhysicsSystem,this.sceneConfig=t.sys.settings.physics,this.system,this.world={update:a},this.add},boot:function(){var t=r(this.sceneConfig,"system",!1);if(this.defaultSystem||t){var e=!1!==t?t:this.defaultSystem,i=s(this.sceneConfig,r(this.gameConfig,e,{}));switch(e){case"impact":this.system=new o(this,i)}}},update:function(t,e){this.world.update(t,e)}});t.exports=h},function(t,e,i){var n=i(0),r=(i(94),i(692)),s=i(703),a=new n({initialize:function(t,e){this.config=e,t.world=new r(t.scene,e),t.add=new s(t.world)}});t.exports=a},function(t,e,i){var n=i(693),r=i(0),s=i(60),a=i(696),o=i(7),h=i(55),u=i(698),c=i(61),l=new r({initialize:function(t,e){this.scene=t,this.events=t.sys.events,this.bodies=new h,this.gravity=o(e,"gravity",0),this.cellSize=o(e,"cellSize",64),this.collisionMap=new a,this.timeScale=o(e,"timeScale",1),this.maxStep=o(e,"maxStep",.05),this.enabled=!0,this.drawDebug=o(e,"debug",!1),this.debugGraphic;var i=o(e,"maxVelocity",100);if(this.defaults={debugShowBody:o(e,"debugShowBody",!0),debugShowVelocity:o(e,"debugShowVelocity",!0),bodyDebugColor:o(e,"debugBodyColor",16711935),velocityDebugColor:o(e,"debugVelocityColor",65280),maxVelocityX:o(e,"maxVelocityX",i),maxVelocityY:o(e,"maxVelocityY",i),minBounceVelocity:o(e,"minBounceVelocity",40),gravityFactor:o(e,"gravityFactor",1),bounciness:o(e,"bounciness",0)},this.walls={left:null,right:null,top:null,bottom:null},this.delta=0,this._lastId=0,o(e,"setBounds",!1)){var n=e.setBounds;if("boolean"==typeof n)this.setBounds();else{var r=o(n,"x",0),s=o(n,"y",0),u=o(n,"width",t.sys.game.config.width),c=o(n,"height",t.sys.game.config.height),l=o(n,"thickness",64),f=o(n,"left",!0),d=o(n,"right",!0),p=o(n,"top",!0),v=o(n,"bottom",!0);this.setBounds(r,s,u,c,l,f,d,p,v)}}this.drawDebug&&this.createDebugGraphic()},setCollisionMap:function(t,e){return this.collisionMap=new a(t,e),this},setBounds:function(t,e,i,n,r,s,a,o,h){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=this.scene.sys.game.config.width),void 0===n&&(n=this.scene.sys.game.config.height),void 0===r&&(r=64),void 0===s&&(s=!0),void 0===a&&(a=!0),void 0===o&&(o=!0),void 0===h&&(h=!0),this.updateWall(s,"left",t-r,e,r,n),this.updateWall(a,"right",t+i,e,r,n),this.updateWall(o,"top",t,e-r,i,r),this.updateWall(h,"bottom",t,e+n,i,r),this},updateWall:function(t,e,i,n,r,a){var o=this.walls[e];t?o?o.resetSize(i,n,r,a):(this.walls[e]=this.create(i,n,r,a),this.walls[e].name=e,this.walls[e].gravityFactor=0,this.walls[e].collides=s.FIXED):(o&&this.bodies.remove(o),this.walls[e]=null)},createDebugGraphic:function(){var t=this.scene.sys.add.graphics({x:0,y:0});return t.setZ(Number.MAX_SAFE_INTEGER),this.debugGraphic=t,this.drawDebug=!0,t},getNextID:function(){return this._lastId++},create:function(t,e,i,r){var s=new n(this,t,e,i,r);return this.bodies.set(s),s},pause:function(){return this.enabled=!1,this},resume:function(){return this.enabled=!0,this},update:function(t,e){if(this.enabled&&0!==this.bodies.size){this.delta=Math.min(e/1e3,this.maxStep)*this.timeScale;var i,n,r=this.bodies.entries,s=r.length,a={},o=this.cellSize;for(i=0;i<s;i++)n=r[i],n.enabled&&n.update(this.delta);for(i=0;i<s;i++)n=r[i],n.skipHash()||this.checkHash(n,a,o);if(this.drawDebug){var h=this.debugGraphic;for(h.clear(),i=0;i<s;i++)n=r[i],n.willDrawDebug()&&n.drawDebug(h)}}},checkHash:function(t,e,i){for(var n={},r=Math.floor(t.pos.x/i),s=Math.floor(t.pos.y/i),a=Math.floor((t.pos.x+t.size.x)/i)+1,o=Math.floor((t.pos.y+t.size.y)/i)+1,h=r;h<a;h++)for(var u=s;u<o;u++)if(e[h])if(e[h][u]){for(var c=e[h][u],l=0;l<c.length;l++)t.touches(c[l])&&!n[c[l].id]&&(n[c[l].id]=!0,this.checkBodies(t,c[l]));c.push(t)}else e[h][u]=[t];else e[h]={},e[h][u]=[t]},checkBodies:function(t,e){t.collides===s.FIXED&&e.collides===s.FIXED||(t.checkAgainst&e.type&&t.check(e),e.checkAgainst&t.type&&e.check(t),t.collides&&e.collides&&t.collides+e.collides>s.ACTIVE&&u(this,t,e))},setCollidesNever:function(t){for(var e=0;e<t.length;e++)t[e].collides=s.NEVER;return this},setLite:function(t){for(var e=0;e<t.length;e++)t[e].collides=s.LITE;return this},setPassive:function(t){for(var e=0;e<t.length;e++)t[e].collides=s.PASSIVE;return this},setActive:function(t){for(var e=0;e<t.length;e++)t[e].collides=s.ACTIVE;return this},setFixed:function(t){for(var e=0;e<t.length;e++)t[e].collides=s.FIXED;return this},setTypeNone:function(t){for(var e=0;e<t.length;e++)t[e].type=c.NONE;return this},setTypeA:function(t){for(var e=0;e<t.length;e++)t[e].type=c.A;return this},setTypeB:function(t){for(var e=0;e<t.length;e++)t[e].type=c.B;return this},setAvsB:function(t){for(var e=0;e<t.length;e++)t[e].type=c.A,t[e].checkAgainst=c.B;return this},setBvsA:function(t){for(var e=0;e<t.length;e++)t[e].type=c.B,t[e].checkAgainst=c.A;return this},setCheckAgainstNone:function(t){for(var e=0;e<t.length;e++)t[e].checkAgainst=c.NONE;return this},setCheckAgainstA:function(t){for(var e=0;e<t.length;e++)t[e].checkAgainst=c.A;return this},setCheckAgainstB:function(t){for(var e=0;e<t.length;e++)t[e].checkAgainst=c.B;return this},destroy:function(){this.scene=null,this.events=null,this.bodies.clear(),this.bodies=null,this.collisionMap=null}});t.exports=l},function(t,e,i){var n=i(0),r=i(60),s=i(694),a=i(61),o=i(695),h=new n({initialize:function(t,e,i,n,s){void 0===n&&(n=16),void 0===s&&(s=n),this.world=t,this.gameObject=null,this.enabled=!0,this.parent,this.id=t.getNextID(),this.name="",this.size={x:n,y:s},this.offset={x:0,y:0},this.pos={x:e,y:i},this.last={x:e,y:i},this.vel={x:0,y:0},this.accel={x:0,y:0},this.friction={x:0,y:0},this.maxVel={x:t.defaults.maxVelocityX,y:t.defaults.maxVelocityY},this.standing=!1,this.gravityFactor=t.defaults.gravityFactor,this.bounciness=t.defaults.bounciness,this.minBounceVelocity=t.defaults.minBounceVelocity,this.accelGround=0,this.accelAir=0,this.jumpSpeed=0,this.type=a.NONE,this.checkAgainst=a.NONE,this.collides=r.NEVER,this.debugShowBody=t.defaults.debugShowBody,this.debugShowVelocity=t.defaults.debugShowVelocity,this.debugBodyColor=t.defaults.bodyDebugColor,this.updateCallback,this.slopeStanding={min:.767944870877505,max:2.3736477827122884}},reset:function(t,e){this.pos={x:t,y:e},this.last={x:t,y:e},this.vel={x:0,y:0},this.accel={x:0,y:0},this.friction={x:0,y:0},this.maxVel={x:100,y:100},this.standing=!1,this.gravityFactor=1,this.bounciness=0,this.minBounceVelocity=40,this.accelGround=0,this.accelAir=0,this.jumpSpeed=0,this.type=a.NONE,this.checkAgainst=a.NONE,this.collides=r.NEVER},update:function(t){var e=this.pos;this.last.x=e.x,this.last.y=e.y,this.vel.y+=this.world.gravity*t*this.gravityFactor,this.vel.x=s(t,this.vel.x,this.accel.x,this.friction.x,this.maxVel.x),this.vel.y=s(t,this.vel.y,this.accel.y,this.friction.y,this.maxVel.y);var i=this.vel.x*t,n=this.vel.y*t,r=this.world.collisionMap.trace(e.x,e.y,i,n,this.size.x,this.size.y);this.handleMovementTrace(r)&&o(this,r);var a=this.gameObject;a&&(a.x=e.x-this.offset.x+a.displayOriginX*a.scaleX,a.y=e.y-this.offset.y+a.displayOriginY*a.scaleY),this.updateCallback&&this.updateCallback(this)},drawDebug:function(t){var e=this.pos;if(this.debugShowBody&&(t.lineStyle(1,this.debugBodyColor,1),t.strokeRect(e.x,e.y,this.size.x,this.size.y)),this.debugShowVelocity){var i=e.x+this.size.x/2,n=e.y+this.size.y/2;t.lineStyle(1,this.world.defaults.velocityDebugColor,1),t.lineBetween(i,n,i+this.vel.x,n+this.vel.y)}},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},skipHash:function(){return!this.enabled||0===this.type&&0===this.checkAgainst&&0===this.collides},touches:function(t){return!(this.pos.x>=t.pos.x+t.size.x||this.pos.x+this.size.x<=t.pos.x||this.pos.y>=t.pos.y+t.size.y||this.pos.y+this.size.y<=t.pos.y)},resetSize:function(t,e,i,n){return this.pos.x=t,this.pos.y=e,this.size.x=i,this.size.y=n,this},toJSON:function(){return{name:this.name,size:{x:this.size.x,y:this.size.y},pos:{x:this.pos.x,y:this.pos.y},vel:{x:this.vel.x,y:this.vel.y},accel:{x:this.accel.x,y:this.accel.y},friction:{x:this.friction.x,y:this.friction.y},maxVel:{x:this.maxVel.x,y:this.maxVel.y},gravityFactor:this.gravityFactor,bounciness:this.bounciness,minBounceVelocity:this.minBounceVelocity,type:this.type,checkAgainst:this.checkAgainst,collides:this.collides}},fromJSON:function(t){},check:function(t){},collideWith:function(t,e){this.parent&&this.parent._collideCallback&&this.parent._collideCallback.call(this.parent._callbackScope,this,t,e)},handleMovementTrace:function(t){return!0},destroy:function(){this.enabled=!1,this.world=null,this.gameObject=null,this.parent=null}});t.exports=h},function(t,e,i){var n=i(49),r=function(t,e,i,r,s){if(i)return n(e+i*t,-s,s);if(r){var a=r*t;return e-a>0?e-a:e+a<0?e+a:0}return n(e,-s,s)};t.exports=r},function(t,e){var i=function(t,e){if(t.standing=!1,e.collision.y&&(t.bounciness>0&&Math.abs(t.vel.y)>t.minBounceVelocity?t.vel.y*=-t.bounciness:(t.vel.y>0&&(t.standing=!0),t.vel.y=0)),e.collision.x&&(t.bounciness>0&&Math.abs(t.vel.x)>t.minBounceVelocity?t.vel.x*=-t.bounciness:t.vel.x=0),e.collision.slope){var i=e.collision.slope;if(t.bounciness>0){var n=t.vel.x*i.nx+t.vel.y*i.ny;t.vel.x=(t.vel.x-i.nx*n*2)*t.bounciness,t.vel.y=(t.vel.y-i.ny*n*2)*t.bounciness}else{var r=i.x*i.x+i.y*i.y,s=(t.vel.x*i.x+t.vel.y*i.y)/r;t.vel.x=i.x*s,t.vel.y=i.y*s;var a=Math.atan2(i.x,i.y);a>t.slopeStanding.min&&a<t.slopeStanding.max&&(t.standing=!0)}}t.pos.x=e.pos.x,t.pos.y=e.pos.y};t.exports=i},function(t,e,i){var n=i(0),r=i(697),s=new n({initialize:function(t,e){this.tilesize=t,this.data=e,this.width=Array.isArray(e)?e[0].length:0,this.height=Array.isArray(e)?e.length:0,this.lastSlope=55,this.tiledef=r},trace:function(t,e,i,n,r,s){var a={collision:{x:!1,y:!1,slope:!1},pos:{x:t+i,y:e+n},tile:{x:0,y:0}};if(!this.data)return a;var o=Math.ceil(Math.max(Math.abs(i),Math.abs(n))/this.tilesize);if(o>1)for(var h=i/o,u=n/o,c=0;c<o&&(h||u)&&(this.step(a,t,e,h,u,r,s,i,n,c),t=a.pos.x,e=a.pos.y,a.collision.x&&(h=0,i=0),a.collision.y&&(u=0,n=0),!a.collision.slope);c++);else this.step(a,t,e,i,n,r,s,i,n,0);return a},step:function(t,e,i,n,r,s,a,o,h,u){var c,l,f=0,d=this.tilesize,p=this.width,v=this.height;if(n){var g=n>0?s:0,x=n<0?d:0,m=Math.max(Math.floor(i/d),0),y=Math.min(Math.ceil((i+a)/d),v);c=Math.floor((t.pos.x+g)/d);var E=Math.floor((e+g)/d);if((u>0||c===E||E<0||E>=p)&&(E=-1),c>=0&&c<p)for(l=m;l<y&&!(-1!==E&&(f=this.data[l][E])>1&&f<=this.lastSlope&&this.checkDef(t,f,e,i,o,h,s,a,E,l));l++)if(1===(f=this.data[l][c])||f>this.lastSlope||f>1&&this.checkDef(t,f,e,i,o,h,s,a,c,l)){if(f>1&&f<=this.lastSlope&&t.collision.slope)break;t.collision.x=!0,t.tile.x=f,t.pos.x=c*d-g+x,e=t.pos.x,o=0;break}}if(r){var T=r>0?a:0,w=r<0?d:0,b=Math.max(Math.floor(t.pos.x/d),0),_=Math.min(Math.ceil((t.pos.x+s)/d),p);l=Math.floor((t.pos.y+T)/d);var A=Math.floor((i+T)/d);if((u>0||l===A||A<0||A>=v)&&(A=-1),l>=0&&l<v)for(c=b;c<_&&!(-1!==A&&(f=this.data[A][c])>1&&f<=this.lastSlope&&this.checkDef(t,f,e,i,o,h,s,a,c,A));c++)if(1===(f=this.data[l][c])||f>this.lastSlope||f>1&&this.checkDef(t,f,e,i,o,h,s,a,c,l)){if(f>1&&f<=this.lastSlope&&t.collision.slope)break;t.collision.y=!0,t.tile.y=f,t.pos.y=l*d-T+w;break}}},checkDef:function(t,e,i,n,r,s,a,o,h,u){var c=this.tiledef[e];if(!c)return!1;var l=this.tilesize,f=(h+c[0])*l,d=(u+c[1])*l,p=(c[2]-c[0])*l,v=(c[3]-c[1])*l,g=c[4],x=i+r+(v<0?a:0)-f,m=n+s+(p>0?o:0)-d;if(p*m-v*x>0){if(r*-v+s*p<0)return g;var y=Math.sqrt(p*p+v*v),E=v/y,T=-p/y,w=x*E+m*T,b=E*w,_=T*w;return b*b+_*_>=r*r+s*s?g||p*(m-s)-v*(x-r)<.5:(t.pos.x=i+r-b,t.pos.y=n+s-_,t.collision.slope={x:p,y:v,nx:E,ny:T},!0)}return!1}});t.exports=s},function(t,e){var i=.5,n=1/3,r=2/3;t.exports={2:[0,1,1,0,!0],3:[0,1,1,i,!0],4:[0,i,1,0,!0],5:[0,1,1,r,!0],6:[0,r,1,n,!0],7:[0,n,1,0,!0],8:[i,1,0,0,!0],9:[1,0,i,1,!0],10:[i,1,1,0,!0],11:[0,0,i,1,!0],12:[0,0,1,0,!1],13:[1,1,0,0,!0],14:[1,i,0,0,!0],15:[1,1,0,i,!0],16:[1,n,0,0,!0],17:[1,r,0,n,!0],18:[1,1,0,r,!0],19:[1,1,i,0,!0],20:[i,0,0,1,!0],21:[0,1,i,0,!0],22:[i,0,1,1,!0],23:[1,1,0,1,!1],24:[0,0,1,1,!0],25:[0,0,1,i,!0],26:[0,i,1,1,!0],27:[0,0,1,n,!0],28:[0,n,1,r,!0],29:[0,r,1,1,!0],30:[n,1,0,0,!0],31:[1,0,r,1,!0],32:[r,1,1,0,!0],33:[0,0,n,1,!0],34:[1,0,1,1,!1],35:[1,0,0,1,!0],36:[1,i,0,1,!0],37:[1,0,0,i,!0],38:[1,r,0,1,!0],39:[1,n,0,r,!0],40:[1,0,0,n,!0],41:[r,1,n,0,!0],42:[r,0,n,1,!0],43:[n,1,r,0,!0],44:[n,0,r,1,!0],45:[0,1,0,0,!1],52:[1,1,r,0,!0],53:[n,0,0,1,!0],54:[0,1,n,0,!0],55:[r,0,1,1,!0]}},function(t,e,i){var n=i(699),r=i(700),s=i(60),a=i(701),o=function(t,e,i){var o=null;e.collides===s.LITE||i.collides===s.FIXED?o=e:i.collides!==s.LITE&&e.collides!==s.FIXED||(o=i),e.last.x+e.size.x>i.last.x&&e.last.x<i.last.x+i.size.x?(e.last.y<i.last.y?r(t,e,i,o):r(t,i,e,o),e.collideWith(i,"y"),i.collideWith(e,"y"),t.events.dispatch(new a.COLLIDE(e,i,"y"))):e.last.y+e.size.y>i.last.y&&e.last.y<i.last.y+i.size.y&&(e.last.x<i.last.x?n(t,e,i,o):n(t,i,e,o),e.collideWith(i,"x"),i.collideWith(e,"x"),t.events.dispatch(new a.COLLIDE(e,i,"x")))};t.exports=o},function(t,e){var i=function(t,e,i,n){var r=e.pos.x+e.size.x-i.pos.x;if(n){var s=e===n?i:e;n.vel.x=-n.vel.x*n.bounciness+s.vel.x;var a=t.collisionMap.trace(n.pos.x,n.pos.y,n===e?-r:r,0,n.size.x,n.size.y);n.pos.x=a.pos.x}else{var o=(e.vel.x-i.vel.x)/2;e.vel.x=-o,i.vel.x=o;var h=t.collisionMap.trace(e.pos.x,e.pos.y,-r/2,0,e.size.x,e.size.y);e.pos.x=Math.floor(h.pos.x);var u=t.collisionMap.trace(i.pos.x,i.pos.y,r/2,0,i.size.x,i.size.y);i.pos.x=Math.ceil(u.pos.x)}};t.exports=i},function(t,e){var i=function(t,e,i,n){var r,s,a=e.pos.y+e.size.y-i.pos.y;if(n){var o=e===n?i:e;n.vel.y=-n.vel.y*n.bounciness+o.vel.y,r=0,n===e&&Math.abs(n.vel.y-o.vel.y)<n.minBounceVelocity&&(n.standing=!0,r=o.vel.x*t.delta);var h=t.collisionMap.trace(n.pos.x,n.pos.y,r,n===e?-a:a,n.size.x,n.size.y);n.pos.y=h.pos.y,n.pos.x=h.pos.x}else if(t.gravity&&(i.standing||e.vel.y>0))s=t.collisionMap.trace(e.pos.x,e.pos.y,0,-(e.pos.y+e.size.y-i.pos.y),e.size.x,e.size.y),e.pos.y=s.pos.y,e.bounciness>0&&e.vel.y>e.minBounceVelocity?e.vel.y*=-e.bounciness:(e.standing=!0,e.vel.y=0);else{var u=(e.vel.y-i.vel.y)/2;e.vel.y=-u,i.vel.y=u,r=i.vel.x*t.delta,s=t.collisionMap.trace(e.pos.x,e.pos.y,r,-a/2,e.size.x,e.size.y),e.pos.y=s.pos.y;var c=t.collisionMap.trace(i.pos.x,i.pos.y,0,a/2,i.size.x,i.size.y);i.pos.y=c.pos.y}};t.exports=i},function(t,e,i){t.exports={COLLIDE:i(702)}},function(t,e,i){var n=i(0),r=i(1),s=new n({Extends:r,initialize:function(t,e,i){r.call(this,"COLLIDE_EVENT"),this.bodyA=t,this.bodyB=e,this.gameObjectA=t.gameObject,this.gameObjectB=e.gameObject,this.axis=i}});t.exports=s},function(t,e,i){var n=i(0),r=i(704),s=i(717),a=i(718),o=new n({initialize:function(t){this.world=t,this.sys=t.scene.sys},body:function(t,e,i,n){return new r(this.world,t,e,i,n)},image:function(t,e,i,n){var r=new s(this.world,t,e,i,n);return this.sys.displayList.add(r),r},sprite:function(t,e,i,n){var r=new a(this.world,t,e,i,n);return this.sys.displayList.add(r),this.sys.updateList.add(r),r}});t.exports=o},function(t,e,i){var n=i(0),r=i(95),s=new n({Mixins:[r.Acceleration,r.BodyScale,r.BodyType,r.Bounce,r.CheckAgainst,r.Collides,r.Debug,r.Friction,r.Gravity,r.Offset,r.SetGameObject,r.Velocity],initialize:function(t,e,i,n,r){this.body=t.create(e,i,n,r),this.body.parent=this,this.size=this.body.size,this.offset=this.body.offset,this.vel=this.body.vel,this.accel=this.body.accel,this.friction=this.body.friction,this.maxVel=this.body.maxVel}});t.exports=s},function(t,e){var i={setAccelerationX:function(t){return this.accel.x=t,this},setAccelerationY:function(t){return this.accel.y=t,this},setAcceleration:function(t,e){return this.accel.x=t,this.accel.y=e,this}};t.exports=i},function(t,e){var i={setBodySize:function(t,e){return void 0===e&&(e=t),this.body.size.x=Math.round(t),this.body.size.y=Math.round(e),this},setBodyScale:function(t,e){void 0===e&&(e=t);var i=this.body.gameObject;return i?(i.setScale(t,e),this.setBodySize(i.width*i.scaleX,i.height*i.scaleY)):this.setBodySize(this.body.size.x*t,this.body.size.y*e)}};t.exports=i},function(t,e,i){var n=i(61),r={getBodyType:function(){return this.body.type},setTypeNone:function(){return this.body.type=n.NONE,this},setTypeA:function(){return this.body.type=n.A,this},setTypeB:function(){return this.body.type=n.B,this}};t.exports=r},function(t,e){var i={setBounce:function(t){return this.body.bounciness=t,this},setMinBounceVelocity:function(t){return this.body.minBounceVelocity=t,this},bounce:{get:function(){return this.body.bounciness},set:function(t){this.body.bounciness=t}}};t.exports=i},function(t,e,i){var n=i(61),r={setAvsB:function(){return this.setTypeA(),this.setCheckAgainstB()},setBvsA:function(){return this.setTypeB(),this.setCheckAgainstA()},setCheckAgainstNone:function(){return this.body.checkAgainst=n.NONE,this},setCheckAgainstA:function(){return this.body.checkAgainst=n.A,this},setCheckAgainstB:function(){return this.body.checkAgainst=n.B,this},checkAgainst:{get:function(){return this.body.checkAgainst},set:function(t){this.body.checkAgainst=t}}};t.exports=r},function(t,e,i){var n=i(60),r={_collideCallback:null,_callbackScope:null,setCollideCallback:function(t,e){return this._collideCallback=t,e&&(this._callbackScope=e),this},setCollidesNever:function(){return this.body.collides=n.NEVER,this},setLite:function(){return this.body.collides=n.LITE,this},setPassive:function(){return this.body.collides=n.PASSIVE,this},setActive:function(){return this.body.collides=n.ACTIVE,this},setFixed:function(){return this.body.collides=n.FIXED,this},collides:{get:function(){return this.body.collides},set:function(t){this.body.collides=t}}};t.exports=r},function(t,e){var i={setDebug:function(t,e,i){return this.debugShowBody=t,this.debugShowVelocity=e,this.debugBodyColor=i,this},setDebugBodyColor:function(t){return this.body.debugBodyColor=t,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(t){this.body.debugShowBody=t}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(t){this.body.debugShowVelocity=t}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(t){this.body.debugBodyColor=t}}};t.exports=i},function(t,e){var i={setFrictionX:function(t){return this.friction.x=t,this},setFrictionY:function(t){return this.friction.y=t,this},setFriction:function(t,e){return this.friction.x=t,this.friction.y=e,this}};t.exports=i},function(t,e){var i={setGravity:function(t){return this.body.gravityFactor=t,this},gravity:{get:function(){return this.body.gravityFactor},set:function(t){this.body.gravityFactor=t}}};t.exports=i},function(t,e){var i={setOffset:function(t,e,i,n){return this.body.offset.x=t,this.body.offset.y=e,i&&this.setBodySize(i,n),this}};t.exports=i},function(t,e){var i={setGameObject:function(t,e){return void 0===e&&(e=!0),t?(this.body.gameObject=t,e&&this.syncGameObject()):this.body.gameObject=null,this},syncGameObject:function(){var t=this.body.gameObject;return t&&this.setBodySize(t.width*t.scaleX,t.height*t.scaleY),this}};t.exports=i},function(t,e){var i={setVelocityX:function(t){return this.vel.x=t,this},setVelocityY:function(t){return this.vel.y=t,this},setVelocity:function(t,e){return this.vel.x=t,this.vel.y=e,this},setMaxVelocity:function(t,e){return void 0===e&&(e=t),this.maxVel.x=t,this.maxVel.y=e,this}};t.exports=i},function(t,e,i){var n=i(0),r=i(95),s=i(56),a=new n({Extends:s,Mixins:[r.Acceleration,r.BodyScale,r.BodyType,r.Bounce,r.CheckAgainst,r.Collides,r.Debug,r.Friction,r.Gravity,r.Offset,r.SetGameObject,r.Velocity],initialize:function(t,e,i,n,r){s.call(this,t.scene,e,i,n,r),this.body=t.create(e-this.frame.centerX,i-this.frame.centerY,this.width,this.height),this.body.parent=this,this.body.gameObject=this,this.size=this.body.size,this.offset=this.body.offset,this.vel=this.body.vel,this.accel=this.body.accel,this.friction=this.body.friction,this.maxVel=this.body.maxVel}});t.exports=a},function(t,e,i){var n=i(0),r=i(95),s=i(39),a=new n({Extends:s,Mixins:[r.Acceleration,r.BodyScale,r.BodyType,r.Bounce,r.CheckAgainst,r.Collides,r.Debug,r.Friction,r.Gravity,r.Offset,r.SetGameObject,r.Velocity],initialize:function(t,e,i,n,r){s.call(this,t.scene,e,i,n,r),this.body=t.create(e-this.frame.centerX,i-this.frame.centerY,this.width,this.height),this.body.parent=this,this.body.gameObject=this,this.size=this.body.size,this.offset=this.body.offset,this.vel=this.body.vel,this.accel=this.body.accel,this.friction=this.body.friction,this.maxVel=this.body.maxVel}});t.exports=a},function(t,e,i){var n=i(0),r=i(96),s=i(720),a=new n({initialize:function(t){this.scene=t,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],this.processing=!1},add:function(t){return this.processing?this._pendingInsertion.push(t):this._active.push(t),this},createSpritePool:function(t,e,i){var n=new s(this,t,e,i);return this.add(n),n},createObjectPool:function(t,e){void 0===e&&(e=-1);var i=new r(this,t,e);return this.add(i),i},begin:function(){var t=this._pendingRemoval.length,e=this._pendingInsertion.length;if(0!==t||0!==e){var i,n;for(i=0;i<t;i++){n=this._pendingRemoval[i];var r=this._active.indexOf(n);r>-1&&this._active.splice(r,1),n.destroy()}this._active=this._active.concat(this._pendingInsertion.splice(0)),this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(t,e){this.processing=!0;for(var i=0;i<this._active.length;i++){var n=this._active[i];n.update.call(n,t,e)}this.processing=!1},shutdown:function(){var t;for(t=0;t<this._pendingInsertion.length;t++)this._pendingInsertion[t].destroy();for(t=0;t<this._active.length;t++)this._active[t].destroy();for(t=0;t<this._pendingRemoval.length;t++)this._pendingRemoval[t].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0},destroy:function(){this.shutdown(),this.scene=void 0}});t.exports=a},function(t,e,i){var n=i(0),r=i(39),s=i(96),a=new n({Extends:s,initialize:function(t,e,i,n,a){s.call(this,t,r,e,this.makeSprite,this),this.defaultKey=n,this.defaultFrame=a},makeSprite:function(){var t=new this.classType(this.scene,0,0,this.defaultKey,this.defaultFrame);return this.displayList.add(t),this.updateList.add(t),t.setActive(!1),t.setVisible(!1),t},get:function(t,e){var i=this.getFreeGameObject();return i.setPosition(t,e),i}});t.exports=a},function(t,e,i){var n=i(0),r=new n({initialize:function(t){this.scene=t,this.settings=t.sys.settings,this.key=t.sys.settings.key,this.manager=t.sys.game.scene,this._queue=[]},update:function(){var t=this._queue.length;if(0!==t){for(var e=this.manager,i=0;i<t;i++){var n=this._queue[i];switch(n.type){case"add":e.add(n.key,n.data,n.autoStart);break;case"start":e.stop(this.key),e.start(n.key,n.data);break;case"launch":e.start(n.key,n.data);break;case"pause":e.pause(n.key);break;case"resume":e.resume(n.key);break;case"stop":e.stop(n.key);break;case"swap":e.swap(this.key,n.key);break;case"moveUp":e.moveUp(this.key);break;case"moveDown":e.moveDown(this.key);break;case"bringToTop":e.bringToTop(this.key);break;case"sendToBack":e.sendToBack(this.key);break;case"swapPosition":e.swapPosition(this.key,n.key);break;case"sleep":e.sleep(n.key);break;case"wake":e.wake(n.key)}}this._queue.length=0}},start:function(t,e){return void 0===t&&(t=this.key),this._queue.push({type:"start",key:t,data:e}),this},add:function(t,e,i){return this._queue.push({type:"add",key:t,data:e,autoStart:i}),this},launch:function(t,e){return void 0===t&&(t=this.key),this._queue.push({type:"launch",key:t,data:e}),this},pause:function(t){return void 0===t&&(t=this.key),this._queue.push({type:"pause",key:t}),this},resume:function(t){return void 0===t&&(t=this.key),this._queue.push({type:"resume",key:t}),this},sleep:function(t){return this._queue.push({type:"sleep",key:t}),this},wake:function(t){return this._queue.push({type:"wake",key:t}),this},swap:function(t){return this._queue.push({type:"swap",key:t}),this},stop:function(t){return void 0===t&&(t=this.key),this._queue.push({type:"stop",key:t}),this},setVisible:function(t){return this.settings.visible=t,this},swapPosition:function(t){this._queue.push({type:"swapPosition",key:t})},moveUp:function(){this._queue.push({type:"moveUp"})},moveDown:function(){this._queue.push({type:"moveDown"})},bringToTop:function(){this._queue.push({type:"bringToTop"})},sendToBack:function(){this._queue.push({type:"sendToBack"})},get:function(t){return this.manager.getScene(t)},transitionTo:function(t,e){},isActive:function(t){return void 0===t&&(t=this.key),this.manager.isActive(t)}});t.exports=r},function(t,e,i){var n=i(723),r=i(26),s=i(2),a=i(724),o={create:function(t){return"string"==typeof t?t={key:t}:void 0===t&&(t={}),{status:n.PENDING,op:n.BOOT,key:s(t,"key",""),active:s(t,"active",!1),visible:s(t,"visible",!0),data:{},files:s(t,"files",!1),cameras:s(t,"cameras",null),map:s(t,"map",a),physics:s(t,"physics",{}),scaleMode:s(t,"scaleMode",r.DEFAULT),roundPixels:s(t,"roundPixels",!1),dirtyRender:s(t,"dirtyRender",!1),renderToTexture:s(t,"renderToTexture",!1),autoResize:s(t,"autoResize",!1)}}};t.exports=o},function(t,e){t.exports={PENDING:0,INSTALLED:1,BOOT:0,INIT:1,PRELOAD:2,CREATE:3,UPDATE:4,RENDER:5,SHUTDOWN:6}},function(t,e){var i={game:"game",anims:"anims",cache:"cache",registry:"registry",textures:"textures",add:"add",cameras:"cameras",data:"data",displayList:"children",events:"events",inputManager:"input",load:"load",make:"make",physicsManager:"physics",pool:"pool",sceneManager:"scene",time:"time",tweens:"tweens"};t.exports=i},function(t,e,i){!function(){function e(t,e){"function"!=typeof e&&(e=function(t,e){return String(t).localeCompare(e)});var i=t.length;if(i<=1)return t;for(var r=new Array(i),s=1;s<i;s*=2){n(t,e,s,r);var a=t;t=r,r=a}return t}var i=function(t,i){return e(t.slice(),i)};i.inplace=function(t,i){var r=e(t,i);return r!==t&&n(r,null,t.length,t),t};var n=function(t,e,i,n){var r,s,a,o,h,u=t.length,c=0,l=2*i;for(r=0;r<u;r+=l)for(s=r+i,a=s+i,s>u&&(s=u),a>u&&(a=u),o=r,h=s;;)if(o<s&&h<a)e(t[o],t[h])<=0?n[c++]=t[o++]:n[c++]=t[h++];else if(o<s)n[c++]=t[o++];else{if(!(h<a))break;n[c++]=t[h++]}};t.exports=i}()},function(t,e,i){var n=i(0),r=i(727),s=i(97),a=i(10),o=new n({initialize:function(t){this.scene=t,this.timeScale=1,this._add=[],this._pending=[],this._active=[],this._destroy=[],this._toProcess=0},boot:function(){this.timeScale=1},createTimeline:function(t){return r(this,t)},timeline:function(t){var e=r(this,t);return e.paused||(this._add.push(e),this._toProcess++),e},create:function(t){return s(this,t)},add:function(t){var e=s(this,t);return this._add.push(e),this._toProcess++,e},existing:function(t){return this._add.push(t),this._toProcess++,this},begin:function(){if(0!==this._toProcess){var t,e,i=this._destroy,n=this._active;for(t=0;t<i.length;t++){e=i[t];var r=n.indexOf(e);-1!==r&&(e.state=a.REMOVED,n.splice(r,1))}for(i.length=0,i=this._add,t=0;t<i.length;t++)e=i[t],e.init()?(e.play(),this._active.push(e)):this._pending.push(e);i.length=0,this._toProcess=0}},update:function(t,e){var i,n=this._active;e*=this.timeScale;for(var r=0;r<n.length;r++)i=n[r],i.update(t,e)&&(this._destroy.push(i),this._toProcess++)},makeActive:function(t){if(-1===this._add.indexOf(t)&&-1===this._active.indexOf(t)){var e=this._pending.indexOf(t);return-1!==e&&this._pending.splice(e,1),this._add.push(t),t.state=a.PENDING_ADD,this._toProcess++,this}},setGlobalTimeScale:i(748),getGlobalTimeScale:i(749),getAllTweens:i(750),getTweensOf:i(751),isTweening:i(752),killAll:i(753),killTweensOf:i(754),pauseAll:i(755),resumeAll:i(756),each:i(757),shutdown:i(758),destroy:i(759)});t.exports=o},function(t,e,i){var n=i(59),r=i(194),s=i(195),a=i(196),o=i(197),h=i(198),u=i(729),c=i(2),l=i(4),f=i(730),d=i(97),p=function(t,e){var i=new f(t),p=u(e);if(0===p.length)return i.paused=!0,i;var v=n(r);v.targets=h(e);var g=l(e,"totalDuration",0);v.duration=g>0?Math.floor(g/p.length):o(e,"duration",v.duration),v.delay=o(e,"delay",v.delay),v.easeParams=c(e,"easeParams",v.easeParams),v.ease=a(c(e,"ease",v.ease),v.easeParams),v.hold=o(e,"hold",v.hold),v.repeat=o(e,"repeat",v.repeat),v.repeatDelay=o(e,"repeatDelay",v.repeatDelay),v.yoyo=s(e,"yoyo",v.yoyo),v.flipX=s(e,"flipX",v.flipX),v.flipY=s(e,"flipY",v.flipY);for(var x=0;x<p.length;x++)i.queue(d(i,p[x],v));i.completeDelay=l(e,"completeDelay",0),i.loop=Math.round(l(e,"loop",0)),i.loopDelay=Math.round(l(e,"loopDelay",0)),i.paused=s(e,"paused",!1),i.useFrames=s(e,"useFrames",!1);var m=c(e,"callbackScope",i),y=[i],E=c(e,"onStart",!1);if(E){var T=c(e,"onStartScope",m),w=c(e,"onStartParams",[]);i.setCallback("onStart",E,y.concat(w),T)}var b=c(e,"onUpdate",!1);if(b){var _=c(e,"onUpdateScope",m),A=c(e,"onUpdateParams",[]);i.setCallback("onUpdate",b,y.concat(A),_)}var S=c(e,"onLoop",!1);if(S){var R=c(e,"onLoopScope",m),O=c(e,"onLoopParams",[]);i.setCallback("onLoop",S,y.concat(O),R)}var C=c(e,"onYoyo",!1);if(C){var M=c(e,"onYoyoScope",m),L=c(e,"onYoyoParams",[]);i.setCallback("onYoyo",C,y.concat(null,L),M)}var F=c(e,"onComplete",!1);if(F){var D=c(e,"onCompleteScope",m),I=c(e,"onCompleteParams",[]);i.setCallback("onComplete",F,y.concat(I),D)}return i};t.exports=p},function(t,e,i){var n=i(137),r=i(138),s=i(139),a=i(140),o=i(141),h=i(142),u=i(143),c=i(144),l=i(145),f=i(146),d=i(147);t.exports={Power0:u,Power1:c.Out,Power2:a.Out,Power3:l.Out,Power4:f.Out,Linear:u,Quad:c.Out,Cubic:a.Out,Quart:l.Out,Quint:f.Out,Sine:d.Out,Expo:h.Out,Circ:s.Out,Elastic:o.Out,Back:n.Out,Bounce:r.Out,"Quad.easeIn":c.In,"Cubic.easeIn":a.In,"Quart.easeIn":l.In,"Quint.easeIn":f.In,"Sine.easeIn":d.In,"Expo.easeIn":h.In,"Circ.easeIn":s.In,"Elastic.easeIn":o.In,"Back.easeIn":n.In,"Bounce.easeIn":r.In,"Quad.easeOut":c.Out,"Cubic.easeOut":a.Out,"Quart.easeOut":l.Out,"Quint.easeOut":f.Out,"Sine.easeOut":d.Out,"Expo.easeOut":h.Out,"Circ.easeOut":s.Out,"Elastic.easeOut":o.Out,"Back.easeOut":n.Out,"Bounce.easeOut":r.Out,"Quad.easeInOut":c.InOut,"Cubic.easeInOut":a.InOut,"Quart.easeInOut":l.InOut,"Quint.easeInOut":f.InOut,"Sine.easeInOut":d.InOut,"Expo.easeInOut":h.InOut,"Circ.easeInOut":s.InOut,"Elastic.easeInOut":o.InOut,"Back.easeInOut":n.InOut,"Bounce.easeInOut":r.InOut}},function(t,e,i){var n=i(2),r=function(t){var e=n(t,"tweens",null);return null===e?[]:("function"==typeof e&&(e=e.call()),Array.isArray(e)||(e=[e]),e)};t.exports=r},function(t,e,i){var n=i(0),r=i(97),s=i(10),a=new n({initialize:function(t){this.manager=t,this.isTimeline=!0,this.data=[],this.totalData=0,this.useFrames=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=s.PENDING_ADD,this._pausedState=s.PENDING_ADD,this.paused=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.callbacks={onComplete:null,onLoop:null,onStart:null,onUpdate:null,onYoyo:null},this.callbackScope},setTimeScale:function(t){return this.timeScale=t,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return this.state===s.ACTIVE},add:function(t){return this.queue(r(this,t))},queue:function(t){return this.isPlaying()||(t.parent=this,t.parentIsTimeline=!0,this.data.push(t),this.totalData=this.data.length),this},hasOffset:function(t){return null!==t.offset},isOffsetAbsolute:function(t){return"number"==typeof t},isOffsetRelative:function(t){if("string"==typeof t){var e=t[0];if("-"===e||"+"===e)return!0}return!1},getRelativeOffset:function(t,e){var i=t[0],n=parseFloat(t.substr(2)),r=e;switch(i){case"+":r+=n;break;case"-":r-=n}return Math.max(0,r)},calcDuration:function(){for(var t=0,e=0,i=0,n=0;n<this.totalData;n++){var r=this.data[n];r.init(),this.hasOffset(r)?this.isOffsetAbsolute(r.offset)?(r.calculatedOffset=r.offset,0===r.offset&&(i=0)):this.isOffsetRelative(r.offset)&&(r.calculatedOffset=this.getRelativeOffset(r.offset,t)):r.calculatedOffset=i,t=r.totalDuration+r.calculatedOffset,e+=r.totalDuration,i+=r.totalDuration}this.duration=e,this.loopCounter=-1===this.loop?999999999999:this.loop,this.loopCounter>0?this.totalDuration=this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter:this.totalDuration=this.duration+this.completeDelay},init:function(){return this.calcDuration(),this.progress=0,this.totalProgress=0,!this.paused||(this.state=s.PAUSED,!1)},resetTweens:function(t){for(var e=0;e<this.totalData;e++){this.data[e].play(t)}},setCallback:function(t,e,i,n){return-1!==a.TYPES.indexOf(t)&&(this.callbacks[t]={func:e,scope:n,params:i}),this},play:function(){if(this.state!==s.ACTIVE){if(this.paused)return this.paused=!1,void this.manager.makeActive(this);this.resetTweens(!1),this.state=s.ACTIVE;var t=this.callbacks.onStart;t&&t.func.apply(t.scope,t.params)}},nextState:function(){if(this.loopCounter>0){this.elapsed=0,this.progress=0,this.loopCounter--;var t=this.callbacks.onLoop;t&&t.func.apply(t.scope,t.params),this.resetTweens(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.state=s.LOOP_DELAY):this.state=s.ACTIVE}else if(this.completeDelay>0)this.countdown=this.completeDelay,this.state=s.COMPLETE_DELAY;else{var e=this.callbacks.onComplete;e&&e.func.apply(e.scope,e.params),this.state=s.PENDING_REMOVE}},update:function(t,e){if(this.state!==s.PAUSED){var i=e;switch(this.useFrames&&(e=1*this.manager.timeScale),e*=this.timeScale,this.elapsed+=e,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=e,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),this.state){case s.ACTIVE:for(var n=this.totalData,r=0;r<this.totalData;r++){this.data[r].update(t,i)&&n--}var a=this.callbacks.onUpdate;a&&a.func.apply(a.scope,a.params),0===n&&this.nextState();break;case s.LOOP_DELAY:this.countdown-=e,this.countdown<=0&&(this.state=s.ACTIVE);break;case s.COMPLETE_DELAY:if(this.countdown-=e,this.countdown<=0){var o=this.callbacks.onComplete;o&&o.func.apply(o.scope,o.params),this.state=s.PENDING_REMOVE}}return this.state===s.PENDING_REMOVE}},stop:function(){this.state=s.PENDING_REMOVE},pause:function(){if(this.state!==s.PAUSED)return this.paused=!0,this._pausedState=this.state,this.state=s.PAUSED,this},resume:function(){return this.state===s.PAUSED&&(this.paused=!1,this.state=this._pausedState),this},hasTarget:function(t){for(var e=0;e<this.data.length;e++)if(this.data[e].hasTarget(t))return!0;return!1},destroy:function(){for(var t=0;t<this.data.length;t++)this.data[t].destroy()}});a.TYPES=["onStart","onUpdate","onLoop","onComplete","onYoyo"],t.exports=a},function(t,e,i){var n=i(732),r=function(t){var e,i=[];if(t.hasOwnProperty("props"))for(e in t.props)"_"!==e.substr(0,1)&&i.push({key:e,value:t.props[e]});else for(e in t)-1===n.indexOf(e)&&"_"!==e.substr(0,1)&&i.push({key:e,value:t[e]});return i};t.exports=r},function(t,e){t.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","loop","loopDelay","offset","onComplete","onCompleteParams","onCompleteScope","onLoop","onLoopParams","onLoopScope","onRepeat","onRepeatParams","onRepeatScope","onStart","onStartParams","onStartScope","onUpdate","onUpdateParams","onUpdateScope","onYoyo","onYoyoParams","onYoyoScope","paused","props","repeat","repeatDelay","targets","useFrames","yoyo"]},function(t,e){function i(t){return!!t.getStart&&"function"==typeof t.getStart}function n(t){return!!t.getEnd&&"function"==typeof t.getEnd}function r(t){return i(t)||n(t)}var s=function(t,e){var a,o=function(t,e,i){return i},h=function(t,e,i){return i},u=typeof e;if("number"===u)o=function(){return e};else if("string"===u){var c=e[0],l=parseFloat(e.substr(2));switch(c){case"+":o=function(t,e,i){return i+l};break;case"-":o=function(t,e,i){return i-l};break;case"*":o=function(t,e,i){return i*l};break;case"/":o=function(t,e,i){return i/l};break;default:o=function(){return parseFloat(e)}}}else"function"===u?o=e:"object"===u&&r(e)?(n(e)&&(o=e.getEnd),i(e)&&(h=e.getStart)):e.hasOwnProperty("value")&&(a=s(t,e.value));return a||(a={getEnd:o,getStart:h}),a};t.exports=s},function(t,e,i){var n=i(0),r=i(10),s=new n({initialize:function(t,e,i){this.parent=t,this.parentIsTimeline=t.hasOwnProperty("isTimeline"),this.data=e,this.totalData=e.length,this.targets=i,this.totalTargets=i.length,this.useFrames=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.offset=0,this.calculatedOffset=0,this.state=r.PENDING_ADD,this._pausedState=r.PENDING_ADD,this.paused=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.callbacks={onComplete:null,onLoop:null,onRepeat:null,onStart:null,onUpdate:null,onYoyo:null},this.callbackScope},setTimeScale:function(t){return this.timeScale=t,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return this.state===r.ACTIVE},hasTarget:function(t){return-1!==this.targets.indexOf(t)},updateTo:function(t,e,i){for(var n=0;n<this.totalData;n++){var r=this.data[n];if(r.key===t){r.end=e,i&&(r.start=r.current);break}}return this},restart:function(){this.stop(),this.play()},calcDuration:i(735),init:i(736),nextState:i(737),pause:i(738),play:i(739),resetTweenData:i(740),resume:i(741),seek:i(742),setCallback:i(743),stop:i(744),update:i(745)});s.TYPES=["onComplete","onLoop","onRepeat","onStart","onUpdate","onYoyo"],t.exports=s},function(t,e){var i=function(){for(var t=0,e=this.data,i=0;i<this.totalData;i++){var n=e[i];n.t1=n.duration+n.hold,n.yoyo&&(n.t1+=n.duration),n.t2=n.t1+n.repeatDelay,n.totalDuration=n.delay+n.t1,-1===n.repeat?n.totalDuration+=999999999999*n.t2:n.repeat>0&&(n.totalDuration+=n.t2*n.repeat),n.totalDuration>t&&(t=n.totalDuration)}this.duration=t,this.loopCounter=-1===this.loop?999999999999:this.loop,this.loopCounter>0?this.totalDuration=this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter:this.totalDuration=this.duration+this.completeDelay};t.exports=i},function(t,e,i){var n=i(10),r=function(){for(var t=this.data,e=this.totalTargets,i=0;i<this.totalData;i++){var r=t[i],s=r.target,a=r.gen;r.delay=a.delay(i,e,s),r.duration=a.duration(i,e,s),r.hold=a.hold(i,e,s),r.repeat=a.repeat(i,e,s),r.repeatDelay=a.repeatDelay(i,e,s)}return this.calcDuration(),this.progress=0,this.totalProgress=0,this.elapsed=0,this.totalElapsed=0,!(this.paused&&!this.parentIsTimeline)||(this.state=n.PAUSED,!1)};t.exports=r},function(t,e,i){var n=i(10),r=function(){if(this.loopCounter>0){this.elapsed=0,this.progress=0,this.loopCounter--;var t=this.callbacks.onLoop;t&&(t.params[1]=this.targets,t.func.apply(t.scope,t.params)),this.resetTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.state=n.LOOP_DELAY):this.state=n.ACTIVE}else if(this.completeDelay>0)this.countdown=this.completeDelay,this.state=n.COMPLETE_DELAY;else{var e=this.callbacks.onComplete;e&&(e.params[1]=this.targets,e.func.apply(e.scope,e.params)),this.state=n.PENDING_REMOVE}};t.exports=r},function(t,e,i){var n=i(10),r=function(){if(this.state!==n.PAUSED)return this.paused=!0,this._pausedState=this.state,this.state=n.PAUSED,this};t.exports=r},function(t,e,i){var n=i(10),r=function(t){if(this.state!==n.ACTIVE){this.state!==n.PENDING_REMOVE&&this.state!==n.REMOVED||(this.init(),this.parent.makeActive(this),t=!0);var e=this.callbacks.onStart;if(this.parentIsTimeline)this.resetTweenData(t),0===this.calculatedOffset?(e&&(e.params[1]=this.targets,e.func.apply(e.scope,e.params)),this.state=n.ACTIVE):(this.countdown=this.calculatedOffset,this.state=n.OFFSET_DELAY);else{if(this.paused)return this.paused=!1,void this.parent.makeActive(this);this.resetTweenData(t),this.state=n.ACTIVE,e&&(e.params[1]=this.targets,e.func.apply(e.scope,e.params))}}};t.exports=r},function(t,e,i){var n=i(10),r=function(t){for(var e=this.data,i=0;i<this.totalData;i++){var r=e[i];r.progress=0,r.elapsed=0,r.repeatCounter=-1===r.repeat?999999999999:r.repeat,t?(r.start=r.getStartValue(r.target,r.key,r.start),r.end=r.getEndValue(r.target,r.key,r.end),r.current=r.start,r.state=n.PLAYING_FORWARD):r.delay>0?(r.elapsed=r.delay,r.state=n.DELAY):r.state=n.PENDING_RENDER}};t.exports=r},function(t,e,i){var n=i(10),r=function(){return this.state===n.PAUSED&&(this.paused=!1,this.state=this._pausedState),this};t.exports=r},function(t,e){var i=function(t){for(var e=this.data,i=0;i<this.totalData;i++){var n=this.totalDuration*t,r=e[i],s=0,a=0;if(n<=r.delay)s=0,a=0;else if(n>=r.totalDuration)s=1,a=r.duration;else if(n>r.delay&&n<=r.t1)n=Math.max(0,n-r.delay),s=n/r.t1,a=r.duration*s;else if(n>r.t1&&n<r.totalDuration){n-=r.delay,n-=r.t1;Math.floor(n/r.t2);n=n/r.t2%1*r.t2,n>r.repeatDelay&&(s=n/r.t1,a=r.duration*s)}r.progress=s,r.elapsed=a;var o=r.ease(r.progress);r.current=r.start+(r.end-r.start)*o,r.target[r.key]=r.current}};t.exports=i},function(t,e){var i=function(t,e,i,n){return this.callbacks[t]={func:e,scope:n,params:i},this};t.exports=i},function(t,e,i){var n=i(10),r=function(){this.state=n.PENDING_REMOVE};t.exports=r},function(t,e,i){var n=i(10),r=i(746),s=function(t,e){if(this.state===n.PAUSED)return!1;switch(this.useFrames&&(e=1*this.parent.timeScale),e*=this.timeScale,this.elapsed+=e,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=e,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),this.state){case n.ACTIVE:for(var i=!1,s=0;s<this.totalData;s++)r(this,this.data[s],e)&&(i=!0);i||this.nextState();break;case n.LOOP_DELAY:this.countdown-=e,this.countdown<=0&&(this.state=n.ACTIVE);break;case n.OFFSET_DELAY:if(this.countdown-=e,this.countdown<=0){var a=this.callbacks.onStart;a&&(a.params[1]=this.targets,a.func.apply(a.scope,a.params)),this.state=n.ACTIVE}break;case n.COMPLETE_DELAY:if(this.countdown-=e,this.countdown<=0){var o=this.callbacks.onComplete;o&&o.func.apply(o.scope,o.params),this.state=n.PENDING_REMOVE}}return this.state===n.PENDING_REMOVE};t.exports=s},function(t,e,i){var n=i(10),r=function(t,e,i){if(e.yoyo){e.elapsed=i,e.progress=i/e.duration,e.flipX&&e.target.toggleFlipX(),e.flipY&&e.target.toggleFlipY();var r=t.callbacks.onYoyo;return r&&(r.params[1]=e.target,r.func.apply(r.scope,r.params)),e.start=e.getStartValue(e.target,e.key,e.start),n.PLAYING_BACKWARD}if(e.repeatCounter>0){e.repeatCounter--,e.elapsed=i,e.progress=i/e.duration,e.flipX&&e.target.toggleFlipX(),e.flipY&&e.target.toggleFlipY();var s=t.callbacks.onRepeat;return s&&(s.params[1]=e.target,s.func.apply(s.scope,s.params)),e.start=e.getStartValue(e.target,e.key,e.start),e.end=e.getEndValue(e.target,e.key,e.end),e.repeatDelay>0?(e.elapsed=e.repeatDelay-i,e.current=e.start,e.target[e.key]=e.current,n.REPEAT_DELAY):n.PLAYING_FORWARD}return n.COMPLETE},s=function(t,e,i){if(e.repeatCounter>0){e.repeatCounter--,e.elapsed=i,e.progress=i/e.duration,e.flipX&&e.target.toggleFlipX(),e.flipY&&e.target.toggleFlipY();var r=t.callbacks.onRepeat;return r&&(r.params[1]=e.target,r.func.apply(r.scope,r.params)),e.end=e.getEndValue(e.target,e.key,e.end),e.repeatDelay>0?(e.elapsed=e.repeatDelay-i,e.current=e.start,e.target[e.key]=e.current,n.REPEAT_DELAY):n.PLAYING_FORWARD}return n.COMPLETE},a=function(t,e,i){switch(e.state){case n.PLAYING_FORWARD:case n.PLAYING_BACKWARD:var a=e.elapsed,o=e.duration,h=0;a+=i,a>o&&(h=a-o,a=o);var u,c=e.state===n.PLAYING_FORWARD,l=a/o;u=c?e.ease(l):e.ease(1-l),e.current=e.start+(e.end-e.start)*u,e.target[e.key]=e.current,e.elapsed=a,e.progress=l;var f=t.callbacks.onUpdate;f&&(f.params[1]=e.target,f.func.apply(f.scope,f.params)),1===l&&(c?e.hold>0?(e.elapsed=e.hold-h,e.state=n.HOLD_DELAY):e.state=r(t,e,h):e.state=s(t,e,h));break;case n.DELAY:e.elapsed-=i,e.elapsed<=0&&(e.elapsed=Math.abs(e.elapsed),e.state=n.PENDING_RENDER);break;case n.REPEAT_DELAY:e.elapsed-=i,e.elapsed<=0&&(e.elapsed=Math.abs(e.elapsed),e.state=n.PLAYING_FORWARD);break;case n.HOLD_DELAY:e.elapsed-=i,e.elapsed<=0&&(e.state=r(t,e,Math.abs(e.elapsed)));break;case n.PENDING_RENDER:e.start=e.getStartValue(e.target,e.key,e.target[e.key]),e.end=e.getEndValue(e.target,e.key,e.start),e.current=e.start,e.target[e.key]=e.start,e.state=n.PLAYING_FORWARD}return e.state!==n.COMPLETE};t.exports=a},function(t,e){var i=function(t,e,i,n,r,s,a,o,h,u,c,l,f){return{target:t,key:e,getEndValue:i,getStartValue:n,ease:r,duration:0,totalDuration:0,delay:0,yoyo:o,hold:0,repeat:0,repeatDelay:0,flipX:l,flipY:f,progress:0,elapsed:0,repeatCounter:0,start:0,current:0,end:0,t1:0,t2:0,gen:{delay:s,duration:a,hold:h,repeat:u,repeatDelay:c},state:0}};t.exports=i},function(t,e){var i=function(t){return this.timeScale=t,this};t.exports=i},function(t,e){var i=function(){return this.timeScale};t.exports=i},function(t,e){var i=function(){for(var t=this._active,e=[],i=0;i<t.length;i++)e.push(t[i]);return e};t.exports=i},function(t,e){var i=function(t){var e,i,n=this._active,r=[];if(Array.isArray(t))for(i=0;i<n.length;i++){e=n[i];for(;0<t.length;i++)e.hasTarget(t[0])&&r.push(e)}else for(i=0;i<n.length;i++)e=n[i],e.hasTarget(t)&&r.push(e);return r};t.exports=i},function(t,e){var i=function(t){for(var e,i=this._active,n=0;n<i.length;n++)if(e=i[n],e.hasTarget(t)&&e.isPlaying())return!0;return!1};t.exports=i},function(t,e){var i=function(){for(var t=this.getAllTweens(),e=0;e<t.length;e++)t[e].stop();return this};t.exports=i},function(t,e){var i=function(t){for(var e=this.getTweensOf(t),i=0;i<e.length;i++)e[i].stop();return this};t.exports=i},function(t,e){var i=function(){for(var t=this._active,e=0;e<t.length;e++)t[e].pause();return this};t.exports=i},function(t,e){var i=function(){for(var t=this._active,e=0;e<t.length;e++)t[e].resume();return this};t.exports=i},function(t,e){var i=function(t,e){for(var i=[null],n=1;n<arguments.length;n++)i.push(arguments[n]);for(var r in this.list)i[0]=this.list[r],t.apply(e,i)};t.exports=i},function(t,e){var i=function(){this.killAll(),this._add=[],this._pending=[],this._active=[],this._destroy=[],this._toProcess=0};t.exports=i},function(t,e){var i=function(){this.shutdown()};t.exports=i},function(t,e,i){var n=i(0),r=new n({initialize:function(t){this.scene=t,this._list=[],this._pendingInsertion=[],this._pendingRemoval=[]},add:function(t){this._pendingInsertion.push(t)},begin:function(){var t=this._pendingRemoval.length,e=this._pendingInsertion.length;if(0!==t||0!==e){var i,n;for(i=0;i<t;i++){n=this._pendingRemoval[i];var r=this._list.indexOf(n);r>-1&&this._list.splice(r,1)}this._list=this._list.concat(this._pendingInsertion.splice(0)),this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(t,e){for(var i=0;i<this._list.length;i++){var n=this._list[i];n.active&&n.preUpdate.call(n,t,e)}},remove:function(t){var e=this._list.indexOf(t);return-1!==e&&this._list.splice(e,1),t},removeAll:function(){for(var t=this._list.length;t--;)this.remove(this._list[t]);return this},shutdown:function(){this.removeAll(),this._list.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0},destroy:function(){this.shutdown(),this.scene=void 0}});t.exports=r},function(t,e){var i=function(){var t,e;for(t=0;t<this._pending.length;t++)e=this._pending[t],this.add(e.key,e.scene,e.autoStart);for(t=0;t<this._start.length;t++)e=this._start[t],this.start(e);this._start=[],this._pending=[]};t.exports=i},function(t,e){var i=function(t){t.init&&t.init.call(t,t.sys.settings.data);var e=t.sys.load;e.reset(),t.preload?(t.preload(this.game),0===e.list.size?this.create(t):(e.events.once("LOADER_COMPLETE_EVENT",this.loadComplete.bind(this)),e.start())):this.create(t)};t.exports=i},function(t,e){var i=function(t){var e="string"==typeof t?this.getActiveSceneIndexByKey(t):this.getActiveSceneIndex(t);if(e<this.active.length){var i=0,n=this.active.splice(e,1);for(i=0;i<this.active.length;i++)this.active[i].index=i;this.active.push({index:i,scene:n[0].scene})}};t.exports=i},function(t,e,i){var n=i(62),r=function(t){var e=this.getSceneIndex(t);this.active.push({index:e,scene:t}),this.active.sort(n),t.create&&t.create.call(t,t.sys.settings.data)};t.exports=r},function(t,e,i){var n=i(12),r=i(5),s=i(166),a=i(69),o=function(t){var e=t.sys.settings,i=e.width,o=e.height,h=this.game.config;h.renderType===r.CANVAS&&(e.renderToTexture?(t.sys.canvas=n.create(t,i,o),t.sys.context=s(t.sys.canvas)):(t.sys.canvas=this.game.canvas,t.sys.context=this.game.context),h.pixelArt&&a.setCrisp(t.sys.canvas))};t.exports=o},function(t,e,i){var n=i(46),r=i(180),s=i(25),a=function(t,e){var i=new e;if(i instanceof n){var a=i.sys.settings.key;if(""!==a&&(t=a),this.keys.hasOwnProperty(t))throw new Error("Cannot add a Scene with duplicate key: "+t);return this.createSceneFromInstance(t,i)}return i.sys=new r(i),i.sys.settings.key=t,i.sys.init(this.game),this.createSceneDisplay(i),i.init||(i.init=s),i.preload||(i.preload=s),i.create||(i.create=s),i.shutdown||(i.shutdown=s),i.update||(i.update=s),i.render||(i.render=s),i};t.exports=a},function(t,e){var i=function(t,e){var i=e.sys.settings.key;return""!==i?t=i:e.sys.settings.key=t,e.sys.init(this.game),this.createSceneDisplay(e),e};t.exports=i},function(t,e,i){var n=i(46),r=function(t,e){var i=new n(e),r=i.sys.settings.key;return""!==r?t=r:i.sys.settings.key=t,i.sys.init(this.game),this.createSceneDisplay(i),this.setupCallbacks(i,e)};t.exports=r},function(t,e){var i=function(t){for(var e=this.getScene(t),i=0;i<this.active.length;i++)if(this.active[i].scene===e)return this.active[i]};t.exports=i},function(t,e){var i=function(t){for(var e=0;e<this.active.length;e++)if(this.active[e].scene===t)return this.active[e].index;return-1};t.exports=i},function(t,e){var i=function(t){for(var e=this.keys[t],i=0;i<this.active.length;i++)if(this.active[i].scene===e)return this.active[i].index;return-1};t.exports=i},function(t,e,i){var n=i(46),r=function(t,e){if(t||(t="default"),"function"==typeof e)return t;if(e instanceof n?t=e.sys.settings.key:"object"==typeof e&&e.hasOwnProperty("key")&&(t=e.key),this.keys.hasOwnProperty(t))throw new Error("Cannot add a Scene with duplicate key: "+t);return t};t.exports=r},function(t,e){var i=function(t){return this.keys[t]};t.exports=i},function(t,e){var i=function(t){if(this.active[t])return this.active[t].scene};t.exports=i},function(t,e){var i=function(t){return this.scenes.indexOf(t)};t.exports=i},function(t,e){var i=function(t){var e=this.keys[t];return this.scenes.indexOf(e)};t.exports=i},function(t,e){var i=function(t){var e=this.getActiveScene(t);return e&&e.scene.sys.settings.active};t.exports=i},function(t,e){var i=function(t){var e=this.getActiveScene(t);return!!e&&(!e.scene.sys.settings.active&&!e.scene.sys.settings.visible)};t.exports=i},function(t,e){var i=function(t){var e=t.loader.scene;this.create(e)};t.exports=i},function(t,e){var i=function(t){var e="string"==typeof t?this.getActiveSceneIndexByKey(t):this.getActiveSceneIndex(t);if(e>0){var i=this.getSceneAt(e-1);i&&this.swapPosition(t,i)}};t.exports=i},function(t,e){var i=function(t){var e="string"==typeof t?this.getActiveSceneIndexByKey(t):this.getActiveSceneIndex(t);if(-1!==e&&e<this.active.length-1){var i=this.getSceneAt(e+1);i&&this.swapPosition(t,i)}};t.exports=i},function(t,e){var i=function(t){var e=this.getActiveScene(t);e&&e.scene.sys.pause()};t.exports=i},function(t,e){var i=function(t){var e=t.loader.scene;this.bootScene(e)};t.exports=i},function(t,e){var i=function(t){var e=this.getActiveScene(t);e&&e.scene.sys.resume()};t.exports=i},function(t,e){var i=function(t){var e="string"==typeof t?this.getActiveSceneIndexByKey(t):this.getActiveSceneIndex(t);if(e>0){var i=this.active.splice(e,1);this.active.unshift({index:0,scene:i[0].scene});for(var n=0;n<this.active.length;n++)this.active[n].index=n}};t.exports=i},function(t,e,i){var n=i(2),r=i(25),s=function(t,e){return void 0===e&&(e=t),t.init=n(e,"init",r),t.preload=n(e,"preload",r),t.create=n(e,"create",r),t.shutdown=n(e,"shutdown",r),t.update=n(e,"update",r),t.render=n(e,"render",r),t};t.exports=s},function(t,e){var i=function(t){var e=this.getActiveScene(t);e&&e.scene.sys.sleep()};t.exports=i},function(t,e){var i=function(t,e){if(void 0===e&&(e={}),this.game.isBooted){var i=this.getScene(t);if(i){if(this.isActive(t))return;i.sys.start(e);var n=i.sys.load;n&&Array.isArray(i.sys.settings.files)?(n.reset(),n.loadArray(i.sys.settings.files)?(n.events.once("LOADER_COMPLETE_EVENT",this.payloadComplete.bind(this)),n.start()):this.bootScene(i)):this.bootScene(i)}}else for(var r=0;r<this._pending.length;r++){var s=this._pending[r];s.key===t&&(s.autoStart=!0,s.data=e)}};t.exports=i},function(t,e,i){var n=i(62),r=function(t){var e=this.getActiveScene(t);if(e){e.scene.sys.shutdown();var i=this.active.indexOf(e);-1!==i&&(this.active.splice(i,1),this.active.sort(n))}};t.exports=r},function(t,e){var i=function(t,e){this.sleep(t),this.isSleeping(e)?this.wake(e):this.start(e)};t.exports=i},function(t,e,i){var n=i(62),r=function(t,e){if(t!==e){var i="string"==typeof t?this.getActiveSceneIndexByKey(t):this.getActiveSceneIndex(t),r="string"==typeof e?this.getActiveSceneIndexByKey(e):this.getActiveSceneIndex(e);-1!==i&&-1!==r&&(this.active[i].index=r,this.active[r].index=i,this.active.sort(n))}};t.exports=r},function(t,e){var i=function(t){var e=this.getActiveScene(t);e&&e.scene.sys.wake()};t.exports=i},function(t,e,i){var n=i(12),r=i(0),s=i(28),a=i(130),o=i(2),h=i(794),u=i(804),c=new r({initialize:function(t){this.game=t,this.list={},this._tempCanvas=n.create2D(this,1,1),this._tempContext=this._tempCanvas.getContext("2d"),this.addBase64("__DEFAULT",t.config.defaultImage),this.addBase64("__MISSING",t.config.missingImage)},addBase64:function(t,e){var i=this,n=new Image;n.onload=function(){var e=i.create(t,n);h.Image(e,0)},n.src=e},addImage:function(t,e){var i=this.create(t,e);return h.Image(i,0),i},generate:function(t,e){var i=n.create(this,1,1);return e.canvas=i,a(e),this.addCanvas(t,i)},createCanvas:function(t,e,i){void 0===e&&(e=256),void 0===i&&(i=256);var r=n.create(this,e,i);return this.addCanvas(t,r)},addCanvas:function(t,e){var i=this.create(t,e);return h.Canvas(i,0),i},addAtlas:function(t,e,i){return Array.isArray(i.frames)?this.addAtlasJSONArray(t,e,i):this.addAtlasJSONHash(t,e,i)},addAtlasJSONArray:function(t,e,i){var n=this.create(t,e);if(Array.isArray(i))for(var r=0;r<i.length;r++)h.JSONArray(n,r,i[r]);else h.JSONArray(n,0,i);return n},addAtlasJSONHash:function(t,e,i){var n=this.create(t,e);if(Array.isArray(i))for(var r=0;r<i.length;r++)h.JSONHash(n,r,i[r]);else h.JSONHash(n,0,i);return n},addUnityAtlas:function(t,e,i){var n=this.create(t,e);return h.UnityYAML(n,0,i),n},addSpriteSheet:function(t,e,i){var n=this.create(t,e),r=n.source[0].width,s=n.source[0].height;return h.SpriteSheet(n,0,0,0,r,s,i),n},addSpriteSheetFromAtlas:function(t,e){var i=o(e,"atlas",null),n=o(e,"frame",null);if(i&&n){var r=this.get(i),s=r.get(n);if(s){var a=this.create(t,s.source.image);return console.log(s),s.trimmed?h.SpriteSheetFromAtlas(a,s,e):h.SpriteSheet(a,0,s.cutX,s.cutY,s.cutWidth,s.cutHeight,e),a}}},addAtlasStarlingXML:function(t,e,i){var n=this.create(t,e);if(Array.isArray(i))for(var r=0;r<i.length;r++)h.StarlingXML(n,r,i[r]);else h.StarlingXML(n,0,i);return n},addAtlasPyxel:function(t,e,i){var n=this.create(t,e);if(Array.isArray(i))for(var r=0;r<i.length;r++)h.Pyxel(n,r,i[r]);else h.Pyxel(n,0,i);return n},create:function(t,e,i,n){var r=new u(this,t,e,i,n);return this.list[t]=r,r},exists:function(t){return this.list.hasOwnProperty(t)},get:function(t){return void 0===t&&(t="__DEFAULT"),this.list[t]?this.list[t]:this.list.__MISSING},cloneFrame:function(t,e){if(this.list[t])return this.list[t].get(e).clone()},getFrame:function(t,e){if(this.list[t])return this.list[t].get(e)},getPixel:function(t,e,i,n){var r=this.getFrame(i,n);if(r){var a=r.source.image;if(t>=0&&t<=a.width&&e>=0&&e<=a.height){t+=r.cutX,e+=r.cutY;var o=this._tempContext;o.clearRect(0,0,1,1),o.drawImage(a,t,e,1,1,0,0,1,1);var h=o.getImageData(0,0,1,1);return new s(h.data[0],h.data[1],h.data[2],h.data[3])}}return null},setTexture:function(t,e,i){return this.list[e]&&(t.texture=this.list[e],t.frame=t.texture.get(i)),t},each:function(t,e){for(var i=[null],n=1;n<arguments.length;n++)i.push(arguments[n]);for(var r in this.list)i[0]=this.list[r],t.apply(e,i)}});t.exports=c},function(t,e,i){t.exports={Canvas:i(795),Image:i(796),JSONArray:i(797),JSONHash:i(798),Pyxel:i(799),SpriteSheet:i(800),SpriteSheetFromAtlas:i(801),StarlingXML:i(802),UnityYAML:i(803)}},function(t,e){var i=function(t,e){var i=t.source[e];return t.add("__BASE",e,0,0,i.width,i.height),t};t.exports=i},function(t,e){var i=function(t,e){var i=t.source[e];return t.add("__BASE",e,0,0,i.width,i.height),t};t.exports=i},function(t,e){var i=function(t,e,i){if(!i.frames)return void console.warn("Invalid Texture Atlas JSON Array given, missing 'frames' array");var n=t.source[e];t.add("__BASE",e,0,0,n.width,n.height);for(var r,s=i.frames,a=0;a<s.length;a++){var o=s[a];r=t.add(o.filename,e,o.frame.x,o.frame.y,o.frame.w,o.frame.h),o.trimmed&&r.setTrim(o.sourceSize.w,o.sourceSize.h,o.spriteSourceSize.x,o.spriteSourceSize.y,o.spriteSourceSize.w,o.spriteSourceSize.h),o.rotated&&(r.rotated=!0,r.updateUVsInverted())}return t};t.exports=i},function(t,e){var i=function(t,e,i){if(!i.frames)return void console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");var n=t.source[e];t.add("__BASE",e,0,0,n.width,n.height);var r,s=i.frames;for(var a in s){var o=s[a];r=t.add(a,e,o.frame.x,o.frame.y,o.frame.w,o.frame.h),o.trimmed&&r.setTrim(o.sourceSize.w,o.sourceSize.h,o.spriteSourceSize.x,o.spriteSourceSize.y,o.spriteSourceSize.w,o.spriteSourceSize.h),o.rotated&&(r.rotated=!0,r.updateUVsInverted())}return t};t.exports=i},function(t,e){var i=function(t,e){if(["layers","tilewidth","tileheight","tileswide","tileshigh"].forEach(function(t){e[t]}),1===e.layers.length){for(var i,n=new Phaser.FrameData,r=e.tileheight,s=e.tilewidth,a=e.layers[0].tiles,o=0;o<a.length;o++)i=n.addFrame(new Phaser.Frame(o,a[o].x,a[o].y,s,r,"frame_"+o)),i.setTrim(!1);return n}};t.exports=i},function(t,e,i){var n=i(2),r=function(t,e,i,r,s,a,o){var h=n(o,"frameWidth",null),u=n(o,"frameHeight",h);if(null===h)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var c=t.source[e];t.add("__BASE",e,0,0,c.width,c.height);var l=n(o,"startFrame",0),f=n(o,"endFrame",-1),d=n(o,"margin",0),p=n(o,"spacing",0),v=Math.floor((s-d)/(h+p)),g=Math.floor((a-d)/(u+p)),x=v*g;(l>x||l<-x)&&(l=0),l<0&&(l=x+l),-1!==f&&(x=l+(f+1));for(var m=d,y=d,E=0,T=0,w=0;w<x;w++){E=0,T=0;var b=m+h,_=y+u;b>s&&(E=b-s),_>a&&(T=_-a),t.add(w,e,i+m,r+y,h-E,u-T),m+=h+p,m+h>s&&(m=d,y+=u+p)}return t};t.exports=r},function(t,e,i){var n=i(2),r=function(t,e,i){var r=n(i,"frameWidth",null),s=n(i,"frameHeight",r);if(!r)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var a=n(i,"startFrame",0),o=n(i,"endFrame",-1),h=n(i,"margin",0),u=n(i,"spacing",0),c=e.cutX,l=e.cutY,f=(e.cutWidth,e.cutHeight,e.realWidth),d=e.realHeight,p=Math.floor((f-h)/(r+u)),v=Math.floor((d-h)/(s+u)),g=p*v;console.log("split sheet into rows/cols:",p,v,"total frames:",g),(a>g||a<-g)&&(a=0),a<0&&(a=g+a),-1!==o&&(g=a+(o+1));for(var x=h,m=h,y=0,E=0,T=0;T<g;T++){y=0,E=0;var w=x+r,b=m+s;w>width&&(y=w-width),b>height&&(E=b-height),t.add(T,sourceIndex,c+x,l+m,r-y,s-E),x+=r+u,x+r>width&&(x=h,m+=s+u)}return t};t.exports=r},function(t,e){var i=function(t,e){if(e.getElementsByTagName("TextureAtlas")){for(var i,n,r,s,a,o,h,u,c,l,f,d=new Phaser.FrameData,p=e.getElementsByTagName("SubTexture"),v=0;v<p.length;v++)r=p[v].attributes,n=r.name.value,s=parseInt(r.x.value,10),a=parseInt(r.y.value,10),o=parseInt(r.width.value,10),h=parseInt(r.height.value,10),u=null,c=null,r.frameX&&(u=Math.abs(parseInt(r.frameX.value,10)),c=Math.abs(parseInt(r.frameY.value,10)),l=parseInt(r.frameWidth.value,10),f=parseInt(r.frameHeight.value,10)),i=d.addFrame(new Phaser.Frame(v,s,a,o,h,n)),null===u&&null===c||i.setTrim(!0,o,h,u,c,l,f);return d}};t.exports=i},function(module,exports){var imageHeight=0,addFrame=function(t,e,i,n){var r=imageHeight-n.y-n.height;t.add(i,e,n.x,r,n.width,n.height)},UnityYAML=function(texture,sourceIndex,yaml){var source=texture.source[sourceIndex];texture.add("__BASE",sourceIndex,0,0,source.width,source.height),imageHeight=source.height;for(var data=yaml.split("\n"),lineRegExp=/^[ ]*(- )*(\w+)+[: ]+(.*)/,prevSprite="",currentSprite="",rect={x:0,y:0,width:0,height:0},pivot={x:0,y:0},border={x:0,y:0,z:0,w:0},i=0;i<data.length;i++){var results=data[i].match(lineRegExp);if(results){var isList="- "===results[1],key=results[2],value=results[3];if(isList&&(currentSprite!==prevSprite&&(addFrame(texture,sourceIndex,currentSprite,rect),prevSprite=currentSprite),rect={x:0,y:0,width:0,height:0}),"name"!==key)switch(key){case"x":case"y":case"width":case"height":rect[key]=parseInt(value,10);break;case"pivot":pivot=eval("var obj = "+value);break;case"border":border=eval("var obj = "+value)}else currentSprite=value}}return currentSprite!==prevSprite&&addFrame(texture,sourceIndex,currentSprite,rect),texture};module.exports=UnityYAML},function(t,e,i){var n=i(0),r=i(805),s=i(806),a=new n({initialize:function(t,e,i,n,r){this.manager=t,Array.isArray(i)||(i=[i]),this.key=e,this.source=[],this.frames={},this.firstFrame="__BASE",this.frameTotal=0;for(var a=0;a<i.length;a++)this.source.push(new s(this,i[a],n,r))},add:function(t,e,i,n,s,a){var o=new r(this,t,e,i,n,s,a);return this.frames[t]=o,1===this.frameTotal&&(this.firstFrame=t),this.frameTotal++,o},has:function(t){return this.frames[t]},get:function(t){void 0!==t&&null!==t||(t=1===this.frameTotal?"__BASE":this.firstFrame);var e=this.frames[t];return e||(console.warn("No Texture.frame found with name "+t),this.frames.__BASE)},getFrameNames:function(t){void 0===t&&(t=!1);var e=Object.keys(this.frames);if(!t){var i=e.indexOf("__BASE");-1!==i&&e.splice(i,1)}return e},getSourceImage:function(t){void 0!==t&&null!==t&&1!==this.frameTotal||(t="__BASE");var e=this.frames[t];return e?e.source.image:(console.warn("No Texture.frame found with name "+t),this.frames.__BASE.source.image)},setFilter:function(t){for(var e=0;e<this.source.length;e++)this.source[e].setFilter(t)},destroy:function(){}});t.exports=a},function(t,e,i){var n=i(0),r=i(64),s=new n({initialize:function(t,e,i,n,r,s,a){this.texture=t,this.name=e,this.source=t.source[i],this.sourceIndex=i,this.cutX=n,this.cutY=r,this.cutWidth=s,this.cutHeight=a,this.x=0,this.y=0,this.width=s,this.height=a,this.centerX=Math.floor(s/2),this.centerY=Math.floor(a/2),this.rotated=!1,this.autoRound=-1,this.data={cut:{x:n,y:r,w:s,h:a,r:n+s,b:r+a},trim:!1,sourceSize:{w:s,h:a},spriteSourceSize:{x:0,y:0,w:s,h:a},uvs:{x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},radius:.5*Math.sqrt(s*s+a*a),drawImage:{sx:n,sy:r,sWidth:s,sHeight:a,dWidth:s,dHeight:a}},this.updateUVs()},setTrim:function(t,e,i,n,r,s){var a=this.data,o=a.spriteSourceSize;return a.trim=!0,a.sourceSize.w=t,a.sourceSize.h=e,o.x=i,o.y=n,o.w=r,o.h=s,this.x=i,this.y=n,this.width=r,this.height=s,this.centerX=Math.floor(r/2),this.centerY=Math.floor(s/2),this.updateUVs(),this},updateUVs:function(){var t=this.source.width,e=this.source.height,i=this.data.uvs;return i.x0=this.cutX/t,i.y0=this.cutY/e,i.x1=this.cutX/t,i.y1=(this.cutY+this.cutHeight)/e,i.x2=(this.cutX+this.cutWidth)/t,i.y2=(this.cutY+this.cutHeight)/e,i.x3=(this.cutX+this.cutWidth)/t,i.y3=this.cutY/e,this},updateUVsInverted:function(){var t=this.source.width,e=this.source.height,i=this.data.uvs;return i.x3=(this.cutX+this.cutHeight)/t,i.y3=(this.cutY+this.cutWidth)/e,i.x2=this.cutX/t,i.y2=(this.cutY+this.cutWidth)/e,i.x1=this.cutX/t,i.y1=this.cutY/e,i.x0=(this.cutX+this.cutHeight)/t,i.y0=this.cutY/e,this},clone:function(){var t=new s(this.texture,this.name,this.sourceIndex);return t.cutX=this.cutX,t.cutY=this.cutY,t.cutWidth=this.cutWidth,t.cutHeight=this.cutHeight,t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t.centerX=this.centerX,t.centerY=this.centerY,t.rotated=this.rotated,t.data=r(!0,t.data,this.data),t.updateUVs(),t},destroy:function(){},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},uvs:{get:function(){return this.data.uvs}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},canvasData:{get:function(){return this.data.drawImage}}});t.exports=s},function(t,e,i){var n=i(0),r=i(5),s=i(71),a=i(26),o=new n({initialize:function(t,e,i,n){this.texture=t,this.image=e,this.compressionAlgorithm=null,this.resolution=1,this.width=i||e.naturalWidth||e.width||0,this.height=n||e.naturalHeight||e.height||0,this.scaleMode=a.DEFAULT,this.isPowerOf2=s(this.width,this.height),this.glTexture=null;var o=t.manager.game;o.config.renderType===r.WEBGL&&o.renderer.createTexture(this,i,n),o.config.pixelArt&&this.setFilter(1)},setFilter:function(t){var e=this.texture.manager.game;e.config.renderType===r.WEBGL&&e.renderer.setTextureFilterMode(this.glTexture,t)}});t.exports=o},function(t,e,i){var n=i(0),r=i(2),s=i(25),a=i(135),o=new n({initialize:function(t,e){this.game=t,this.raf=new a,this.started=!1,this.running=!1,this.minFps=r(e,"min",5),this.targetFps=r(e,"target",60),this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=s,this.forceSetTimeOut=r(e,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=r(e,"deltaHistory",10),this.panicMax=r(e,"panicMax",120),this.rawDelta=0},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var t=window.performance.now();this.time=t,this.lastTime=t,this.nextFpsUpdate=t+1e3,this.framesThisSecond=0,this.frame=0;for(var e=0;e<this.deltaSmoothingMax;e++)this.deltaHistory[e]=Math.min(this._target,this.deltaHistory[e]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(t){if(this.started)return this;this.started=!0,this.running=!0;for(var e=0;e<this.deltaSmoothingMax;e++)this.deltaHistory[e]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=t,this.raf.start(this.step.bind(this),this.forceSetTimeOut)},step:function(t){this.frame++,this.rawDelta=t-this.lastTime;var e=this.deltaIndex,i=this.deltaHistory,n=this.deltaSmoothingMax,r=t-this.lastTime;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,r=Math.min(r,this._target)),r>this._min&&(r=i[e],r=Math.min(r,this._min)),i[e]=r,++this.deltaIndex>n&&(this.deltaIndex=0);for(var s=0,a=0;a<n;a++)s+=i[a];s/=n,this.delta=s,this.time+=this.rawDelta,t>this.nextFpsUpdate&&(this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=t+1e3,this.framesThisSecond=0),this.framesThisSecond++;var o=s/this._target;this.callback(t,s,o),this.lastTime=t},tick:function(){this.step(window.performance.now())},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(t){this.running?this.sleep():t&&(this.startTime+=-this.lastTime+(this.lastTime=window.performance.now())),this.raf.start(this.step.bind(this),this.useRAF),this.running=!0,this.step(window.performance.now())},setFps:function(t){this.fps=t,this.wake()},getFps:function(){return this.fps},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){}});t.exports=o},function(t,e,i){t.exports={Circle:i(809),Ellipse:i(821),Intersects:i(832),Line:i(843),Point:i(863),Polygon:i(883),Rectangle:i(888),Triangle:i(913)}},function(t,e,i){var n=i(48);n.Area=i(810),n.Circumference=i(811),n.CircumferencePoint=i(812),n.Clone=i(813),n.Contains=i(36),n.ContainsPoint=i(814),n.ContainsRect=i(815),n.CopyFrom=i(816),n.Equals=i(817),n.GetBounds=i(818),n.Offset=i(819),n.OffsetPoint=i(820),n.Random=i(123),t.exports=n},function(t,e){var i=function(t){return t.radius>0?Math.PI*t.radius*t.radius:0};t.exports=i},function(t,e){var i=function(t){return Math.PI*t.radius*2};t.exports=i},function(t,e){var i=function(t,e,i){return void 0===i&&(i={x:0,y:0}),i.x=t.x+t.radius*Math.cos(e),i.y=t.y+t.radius*Math.sin(e),i};t.exports=i},function(t,e,i){var n=i(48),r=function(t){return new n(t.x,t.y,t.radius)};t.exports=r},function(t,e,i){var n=i(36),r=function(t,e){return n(t,e.x,e.y)};t.exports=r},function(t,e,i){var n=i(36),r=function(t,e){return n(t,e.x,e.y)&&n(t,e.right,e.y)&&n(t,e.x,e.bottom)&&n(t,e.right,e.bottom)};t.exports=r},function(t,e){var i=function(t,e){return e.setTo(t.x,t.y,t.radius)};t.exports=i},function(t,e){var i=function(t,e){return t.x===e.x&&t.y===e.y&&t.radius===e.radius};t.exports=i},function(t,e,i){var n=i(14),r=function(t,e){return void 0===e&&(e=new n),e.x=t.left,e.y=t.top,e.width=t.diameter,e.height=t.diameter,e};t.exports=r},function(t,e){var i=function(t,e,i){return t.x+=e,t.y+=i,t};t.exports=i},function(t,e){var i=function(t,e){return t.x+=e.x,t.y+=e.y,t};t.exports=i},function(t,e,i){var n=i(91);n.Area=i(822),n.CircumferencePoint=i(823),n.Clone=i(824),n.Contains=i(58),n.ContainsPoint=i(825),n.ContainsRect=i(826),n.CopyFrom=i(827),n.Equals=i(828),n.GetBounds=i(829),n.Offset=i(830),n.OffsetPoint=i(831),n.Random=i(124),t.exports=n},function(t,e){var i=function(t){return t.isEmpty()?0:t.getMajorRadius()*t.getMinorRadius()*Math.PI};t.exports=i},function(t,e){var i=function(t,e,i){void 0===i&&(i={x:0,y:0});var n=t.width/2,r=t.height/2;return i.x=t.x+n*Math.cos(e),i.y=t.y+r*Math.sin(e),i};t.exports=i},function(t,e,i){var n=i(91),r=function(t){return new n(t.x,t.y,t.width,t.height)};t.exports=r},function(t,e,i){var n=i(58),r=function(t,e){return n(t,e.x,e.y)};t.exports=r},function(t,e,i){var n=i(58),r=function(t,e){return n(t,e.x,e.y)&&n(t,e.right,e.y)&&n(t,e.x,e.bottom)&&n(t,e.right,e.bottom)};t.exports=r},function(t,e){var i=function(t,e){return e.setTo(t.x,t.y,t.width,t.height)};t.exports=i},function(t,e){var i=function(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height};t.exports=i},function(t,e,i){var n=i(14),r=function(t,e){return void 0===e&&(e=new n),e.x=t.x-t.width,e.y=t.y-t.height,e.width=t.width,e.height=t.height,e};t.exports=r},function(t,e){var i=function(t,e,i){return t.x+=e,t.y+=i,t};t.exports=i},function(t,e){var i=function(t,e){return t.x+=e.x,t.y+=e.y,t};t.exports=i},function(t,e,i){t.exports={CircleToCircle:i(833),CircleToRectangle:i(834),GetRectangleIntersection:i(835),LineToCircle:i(200),LineToLine:i(63),LineToRectangle:i(836),PointToLine:i(201),PointToLineSegment:i(837),RectangleToRectangle:i(199),RectangleToTriangle:i(838),RectangleToValues:i(839),TriangleToCircle:i(840),TriangleToLine:i(841),TriangleToTriangle:i(842)}},function(t,e,i){var n=i(51),r=function(t,e){return n(t.x,t.y,e.x,e.y)<=t.radius+e.radius};t.exports=r},function(t,e){var i=function(t,e){var i=e.width/2,n=e.height/2,r=Math.abs(t.x-e.x-i),s=i+t.radius;if(r<=i||r>s)return!1;var a=Math.abs(t.y-e.y-n),o=n+t.radius;if(a<=n||a>o)return!1;var h=r-i,u=a-n;return h*h+u*u<=t.radius*t.radius};t.exports=i},function(t,e,i){var n=i(14),r=i(199),s=function(t,e,i){return void 0===i&&(i=new n),r(t,e)&&(i.x=Math.max(t.x,e.x),i.y=Math.max(t.y,e.y),i.width=Math.min(t.right,e.right)-i.x,i.height=Math.min(t.bottom,e.bottom)-i.y),i};t.exports=s},function(t,e){var i=function(t,e){var i=t.x1,n=t.y2,r=t.x2,s=t.y2,a=e.x,o=e.y,h=e.right,u=e.bottom,c=0;if(i>=a&&i<=h&&n>=o&&n<=u||r>=a&&r<=h&&s>=o&&s<=u)return!0;if(i<a&&r>=a){if((c=n+(s-n)*(a-i)/(r-i))>o&&c<=u)return!0}else if(i>h&&r<=h&&(c=n+(s-n)*(h-i)/(r-i))>=o&&c<=u)return!0;if(n<o&&s>=o){if((c=i+(r-i)*(o-n)/(s-n))>=a&&c<=h)return!0}else if(n>u&&s<=u&&(c=i+(r-i)*(u-n)/(s-n))>=a&&c<=h)return!0;return!1};t.exports=i},function(t,e,i){var n=i(201),r=function(t,e){if(!n(t,e))return!1;var i=Math.min(e.x1,e.x2),r=Math.max(e.x1,e.x2),s=Math.min(e.y1,e.y2),a=Math.max(e.y1,e.y2);return t.x>=i&&t.x<=r&&t.y>=s&&t.y<=a};t.exports=r},function(t,e,i){var n=i(63),r=i(27),s=i(98),a=i(202),o=function(t,e){if(e.left>t.right||e.right<t.left||e.top>t.bottom||e.bottom<t.top)return!1;var i=e.getLineA(),o=e.getLineB(),h=e.getLineC();if(r(t,i.x1,i.y1)||r(t,i.x2,i.y2))return!0;if(r(t,o.x1,o.y1)||r(t,o.x2,o.y2))return!0;if(r(t,h.x1,h.y1)||r(t,h.x2,h.y2))return!0;var u=t.getLineA(),c=t.getLineB(),l=t.getLineC(),f=t.getLineD();if(n(i,u)||n(i,c)||n(i,l)||n(i,f))return!0;if(n(o,u)||n(o,c)||n(o,l)||n(o,f))return!0;if(n(h,u)||n(h,c)||n(h,l)||n(h,f))return!0;var d=a(t);return s(e,d,!0).length>0};t.exports=o},function(t,e){var i=function(t,e,i,n,r,s){return void 0===s&&(s=0),!(e>t.right+s||i<t.left-s||n>t.bottom+s||r<t.top-s)};t.exports=i},function(t,e,i){var n=i(200),r=i(47),s=function(t,e){return!(t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top)&&(!!r(t,e.x,e.y)||(!!n(t.getLineA(),e)||(!!n(t.getLineB(),e)||!!n(t.getLineC(),e))))};t.exports=s},function(t,e,i){var n=i(63),r=i(47),s=function(t,e){return!(!r(t,e.getPointA())&&!r(t,e.getPointB()))||(!!n(t.getLineA(),e)||(!!n(t.getLineB(),e)||!!n(t.getLineC(),e)))};t.exports=s},function(t,e,i){var n=i(63),r=i(98),s=i(203),a=function(t,e){if(t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top)return!1;var i=t.getLineA(),a=t.getLineB(),o=t.getLineC(),h=e.getLineA(),u=e.getLineB(),c=e.getLineC();if(n(i,h)||n(i,u)||n(i,c))return!0;if(n(a,h)||n(a,u)||n(a,c))return!0;if(n(o,h)||n(o,u)||n(o,c))return!0;var l=s(t),f=r(e,l,!0);return f.length>0||(l=s(e),f=r(t,l,!0),f.length>0)};t.exports=a},function(t,e,i){var n=i(204);n.Angle=i(43),n.CenterOn=i(844),n.Clone=i(845),n.CopyFrom=i(846),n.Equals=i(847),n.GetMidPoint=i(848),n.GetNormal=i(849),n.GetPoint=i(850),n.GetPointsOnLine=i(66),n.Height=i(851),n.Length=i(852),n.NormalAngle=i(205),n.NormalX=i(853),n.NormalY=i(854),n.Offset=i(855),n.PerpSlope=i(856),n.Random=i(125),n.ReflectAngle=i(857),n.Rotate=i(858),n.RotateAroundPoint=i(859),n.RotateAroundXY=i(99),n.SetToAngle=i(860),n.Slope=i(861),n.Width=i(862),t.exports=n},function(t,e){var i=function(t,e,i){var n=e-(t.x1+t.x2)/2,r=i-(t.y1+t.y2)/2;return t.x1+=n,t.y1+=r,t.x2+=n,t.y2+=r,t};t.exports=i},function(t,e,i){var n=i(204),r=function(t){return new n(t.x1,t.y1,t.x2,t.y2)};t.exports=r},function(t,e){var i=function(t,e){return e.setTo(t.x1,t.y1,t.x2,t.y2)};t.exports=i},function(t,e){var i=function(t,e){return t.x1===e.x1&&t.y1===e.y1&&t.x2===e.x2&&t.y2===e.y2};t.exports=i},function(t,e,i){var n=i(8),r=function(t,e){return void 0===e&&(e=new n),e.x=(t.x1+t.x2)/2,e.y=(t.y1+t.y2)/2,e};t.exports=r},function(t,e,i){var n=i(11),r=i(43),s=i(8),a=function(t,e){void 0===e&&(e=new s);var i=r(t)-n.TAU;return e.x=Math.cos(i),e.y=Math.sin(i),e};t.exports=a},function(t,e){var i=function(t,e){return{x:t.x1+(t.x2-t.x1)*e,y:t.y1+(t.y2-t.y1)*e}};t.exports=i},function(t,e){var i=function(t){return Math.abs(t.y1-t.y2)};t.exports=i},function(t,e){var i=function(t){return Math.sqrt((t.x2-t.x1)*(t.x2-t.x1)+(t.y2-t.y1)*(t.y2-t.y1))};t.exports=i},function(t,e,i){var n=i(11),r=i(43),s=function(t){return Math.cos(r(t)-n.TAU)};t.exports=s},function(t,e,i){var n=i(11),r=i(43),s=function(t){return Math.sin(r(t)-n.TAU)};t.exports=s},function(t,e){var i=function(t,e,i){return t.x1+=e,t.y1+=i,t.x2+=e,t.y2+=i,t};t.exports=i},function(t,e){var i=function(t){return-(t.x2-t.x1)/(t.y2-t.y1)};t.exports=i},function(t,e,i){var n=i(43),r=i(205),s=function(t,e){return 2*r(e)-Math.PI-n(t)};t.exports=s},function(t,e,i){var n=i(99),r=function(t,e){var i=(t.x1+t.x2)/2,r=(t.y1+t.y2)/2;return n(t,i,r,e)};t.exports=r},function(t,e,i){var n=i(99),r=function(t,e,i){return n(t,e.x,e.y,i)};t.exports=r},function(t,e){var i=function(t,e,i,n,r){return t.x1=e,t.y1=i,t.x2=e+Math.cos(n)*r,t.y2=i+Math.sin(n)*r,t};t.exports=i},function(t,e){var i=function(t){return(t.y2-t.y1)/(t.x2-t.x1)};t.exports=i},function(t,e){var i=function(t){return Math.abs(t.x1-t.x2)};t.exports=i},function(t,e,i){var n=i(8);n.Add=i(864),n.Ceil=i(865),n.Clone=i(866),n.CopyFrom=i(867),n.Cross=i(868),n.Divide=i(869),n.Dot=i(100),n.Equals=i(870),n.Floor=i(871),n.GetCentroid=i(872),n.GetMagnitude=i(206),n.GetMagnitudeSq=i(207),n.Interpolate=i(873),n.Invert=i(874),n.Multiply=i(208),n.Negative=i(875),n.Normalize=i(209),n.NormalizeRightHand=i(876),n.Perp=i(877),n.Project=i(878),n.ProjectUnit=i(879),n.RPerp=i(880),n.SetMagnitude=i(881),n.Subtract=i(882),t.exports=n},function(t,e){var i=function(t,e,i){return t.x+=e,t.y+=i,t};t.exports=i},function(t,e){var i=function(t){return t.setTo(Math.ceil(t.x),Math.ceil(t.y))};t.exports=i},function(t,e,i){var n=i(8),r=function(t){return new n(t.x,t.y)};t.exports=r},function(t,e){var i=function(t,e){return e.setTo(t.x,t.y)};t.exports=i},function(t,e){var i=function(t,e){return t.x*e.y-t.y*e.x};t.exports=i},function(t,e){var i=function(t,e,i){return t.x/=e,t.y/=i,t};t.exports=i},function(t,e){var i=function(t,e){return t.x===e.x&&t.y===e.y};t.exports=i},function(t,e){var i=function(t){return t.setTo(Math.floor(t.x),Math.floor(t.y))};t.exports=i},function(t,e,i){var n=i(8),r=function(t,e){if(void 0===e&&(e=new n),!Array.isArray(t))throw new Error("GetCentroid points argument must be an array");var i=t.length;if(i<1)throw new Error("GetCentroid points array must not be empty");if(1===i)e.x=t[0].x,e.y=t[0].y;else{for(var r=0;r<i;r++)e.x+=t[r].x,e.y+=t[r].y;e.x/=i,e.y/=i}return e};t.exports=r},function(t,e,i){var n=i(8),r=function(t,e,i,r){return void 0===i&&(i=0),void 0===r&&(r=new n),r.x=t.x+(e.x-t.x)*i,r.y=t.y+(e.y-t.y)*i,r};t.exports=r},function(t,e){var i=function(t){return t.setTo(t.y,t.x)};t.exports=i},function(t,e,i){var n=i(8),r=function(t,e){return void 0===e&&(e=new n),e.setTo(-t.x,-t.y)};t.exports=r},function(t,e){var i=function(t){return t.setTo(-1*t.y,t.x)};t.exports=i},function(t,e){var i=function(t){return t.setTo(-t.y,t.x)};t.exports=i},function(t,e,i){var n=i(100),r=i(8),s=i(207),a=function(t,e,i){void 0===i&&(i=new r);var a=n(t,e)/s(e);return 0!==a&&(i.x=a*e.x,i.y=a*e.y),i};t.exports=a},function(t,e,i){var n=i(100),r=i(8),s=function(t,e,i){void 0===i&&(i=new r);var s=n(t,e);return 0!==s&&(i.x=s*e.x,i.y=s*e.y),i};t.exports=s},function(t,e){var i=function(t){return t.setTo(t.y,-t.x)};t.exports=i},function(t,e,i){var n=i(209),r=i(208),s=function(t,e){return n(t),r(t,e,e)};t.exports=s},function(t,e){var i=function(t,e,i){return t.x-=e,t.y-=i,t};t.exports=i},function(t,e,i){var n=i(210);n.Clone=i(884),n.Contains=i(211),n.ContainsPoint=i(885),n.GetAABB=i(886),n.GetNumberArray=i(887),t.exports=n},function(t,e,i){var n=i(210),r=function(t){return new n(t.points)};t.exports=r},function(t,e,i){var n=i(211),r=function(t,e){return n(t,e.x,e.y)};t.exports=r},function(t,e){var i=function(t){for(var e,i=1/0,n=1/0,r=-i,s=-n,a=0;a<t.points.length;a++)e=t.points[a],i=Math.min(i,e.x),n=Math.min(n,e.y),r=Math.max(r,e.x),s=Math.max(s,e.y);return{x:i,y:n,width:r-i,height:s-n}};t.exports=i},function(t,e){var i=function(t,e){void 0===e&&(e=[]);for(var i=0;i<t.points.length;i++)e.push(t.points[i].x),e.push(t.points[i].y);return e};t.exports=i},function(t,e,i){var n=i(14);n.Area=i(889),n.Ceil=i(890),n.CeilAll=i(891),n.CenterOn=i(212),n.Clone=i(892),n.Contains=i(27),n.ContainsPoint=i(893),n.ContainsRect=i(894),n.CopyFrom=i(895),n.Decompose=i(202),n.Equals=i(896),n.FitInside=i(897),n.FitOutside=i(898),n.Floor=i(899),n.FloorAll=i(900),n.GetAspectRatio=i(101),n.GetCenter=i(901),n.GetSize=i(902),n.Inflate=i(903),n.MarchingAnts=i(119),n.MergePoints=i(904),n.MergeRect=i(905),n.MergeXY=i(906),n.Offset=i(907),n.OffsetPoint=i(908),n.Overlaps=i(909),n.Perimeter=i(120),n.PerimeterPoint=i(910),n.Random=i(126),n.Scale=i(911),n.Union=i(912),t.exports=n},function(t,e){var i=function(t){return t.width*t.height};t.exports=i},function(t,e){var i=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t};t.exports=i},function(t,e){var i=function(t){return t.x=Math.ceil(t.x),t.y=Math.ceil(t.y),t.width=Math.ceil(t.width),t.height=Math.ceil(t.height),t};t.exports=i},function(t,e,i){var n=i(14),r=function(t){return new n(t.x,t.y,t.width,t.height)};t.exports=r},function(t,e,i){var n=i(27),r=function(t,e){return n(t,e.x,e.y)};t.exports=r},function(t,e){var i=function(t,e){return!(e.width*e.height>t.width*t.height)&&(e.x>t.x&&e.x<t.right&&e.right>t.x&&e.right<t.right&&e.y>t.y&&e.y<t.bottom&&e.bottom>t.y&&e.bottom<t.bottom)};t.exports=i},function(t,e){var i=function(t,e){return e.setTo(t.x,t.y,t.width,t.height)};t.exports=i},function(t,e){var i=function(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height};t.exports=i},function(t,e,i){var n=i(101),r=function(t,e){var i=n(t);return i<n(e)?t.setSize(e.height*i,e.height):t.setSize(e.width,e.width*i),t.setPosition(e.right/2-t.width/2,e.bottom/2-t.height/2)};t.exports=r},function(t,e,i){var n=i(101),r=function(t,e){var i=n(t);return i>n(e)?t.setSize(e.height*i,e.height):t.setSize(e.width,e.width*i),t.setPosition(e.right/2-t.width/2,e.bottom/2-t.height/2)};t.exports=r},function(t,e){var i=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t};t.exports=i},function(t,e){var i=function(t){return t.x=Math.floor(t.x),t.y=Math.floor(t.y),t.width=Math.floor(t.width),t.height=Math.floor(t.height),t};t.exports=i},function(t,e){var i=function(t,e){return void 0===e&&(e={x:0,y:0}),e.x=t.right/2,e.y=t.bottom/2,e};t.exports=i},function(t,e){var i=function(t,e){return void 0===e&&(e={x:0,y:0}),e.x=t.width,e.y=t.height,e};t.exports=i},function(t,e,i){var n=i(212),r=function(t,e,i){var r=t.centerX,s=t.centerY;return t.setSize(t.width+2*e,t.height+2*i),n(t,r,s)};t.exports=r},function(t,e){var i=function(t,e){for(var i=t.x,n=t.right,r=t.y,s=t.bottom,a=0;a<e.length;a++)i=Math.min(i,e[a].x),n=Math.max(n,e[a].x),r=Math.min(r,e[a].y),s=Math.max(s,e[a].y);return t.x=i,t.y=r,t.width=n-i,t.height=s-r,t};t.exports=i},function(t,e){var i=function(t,e){var i=Math.min(t.x,e.x),n=Math.max(t.right,e.right);t.x=i,t.width=n-i;var r=Math.min(t.y,e.y),s=Math.max(t.bottom,e.bottom);return t.y=r,t.height=s-r,t};t.exports=i},function(t,e){var i=function(t,e,i){var n=Math.min(t.x,e),r=Math.max(t.right,e);t.x=n,t.width=r-n;var s=Math.min(t.y,i),a=Math.max(t.bottom,i);return t.y=s,t.height=a-s,t};t.exports=i},function(t,e){var i=function(t,e,i){return t.x+=e,t.y+=i,t};t.exports=i},function(t,e){var i=function(t,e){return t.x+=e.x,t.y+=e.y,t};t.exports=i},function(t,e){var i=function(t,e){return t.x<e.right&&t.right>e.x&&t.y<e.bottom&&t.bottom>e.y};t.exports=i},function(t,e,i){var n=i(11),r=function(t,e,i){void 0===i&&(i={x:0,y:0});for(var r=e*n.DEG_TO_RAD;r<-Math.PI;)r+=n.PI2;for(;r>Math.PI;)r-=n.PI2;var s,a=Math.atan2(t.height,t.width),o=Math.tan(r),h=Math.PI-a,u=1,c=1;return r>-a&&r<=a?(s=1,c=-1):r>a&&r<=h?(s=2,c=-1):r>h||r<=-h?(s=3,u=-1):(s=4,u=-1),i.x=t.x+t.width/2,i.y=t.y+t.height/2,1===s||3===s?(i.x+=u*(t.width/2),i.y+=c*(t.width/2)*o):(i.x+=u*(t.height/(2*o)),i.y+=c*(t.height/2)),i};t.exports=r},function(t,e){var i=function(t,e,i){return void 0===i&&(i=e),t.width*=e,t.height*=i,t};t.exports=i},function(t,e,i){var n=i(14),r=function(t,e,i){void 0===i&&(i=n());var r=Math.min(t.x,e.x),s=Math.min(t.y,e.y);return i.set(r,s,Math.max(t.right,e.right)-r,Math.max(t.bottom,e.bottom)-s)};t.exports=r},function(t,e,i){var n=i(41);n.Area=i(914),n.BuildEquilateral=i(915),n.BuildFromPolygon=i(916),n.BuildRight=i(917),n.CenterOn=i(918),n.Centroid=i(213),n.CircumCenter=i(919),n.CircumCircle=i(920),n.Clone=i(921),n.Contains=i(47),n.ContainsArray=i(98),n.ContainsPoint=i(922),n.CopyFrom=i(923),n.Decompose=i(203),n.Equals=i(924),n.InCenter=i(215),n.Offset=i(214),n.Random=i(127),n.Rotate=i(925),n.RotateAroundPoint=i(926),n.RotateAroundXY=i(102),t.exports=n},function(t,e){var i=function(t){var e=t.x1,i=t.y1,n=t.x2,r=t.y2,s=t.x3,a=t.y3;return Math.abs(((s-e)*(r-i)-(n-e)*(a-i))/2)};t.exports=i},function(t,e,i){var n=i(41),r=function(t,e,i){var r=i*(Math.sqrt(3)/2);return new n(t,e,t+i/2,e+r,t-i/2,e+r)};t.exports=r},function(t,e,i){var n=i(168),r=i(41),s=function(t,e,i,s,a){void 0===e&&(e=null),void 0===i&&(i=1),void 0===s&&(s=1),void 0===a&&(a=[]);for(var o,h,u,c,l,f,d,p,v,g=n(t,e),x=0;x<g.length;x+=3)o=g[x],h=g[x+1],u=g[x+2],c=t[2*o]*i,l=t[2*o+1]*s,f=t[2*h]*i,d=t[2*h+1]*s,p=t[2*u]*i,v=t[2*u+1]*s,a.push(new r(c,l,f,d,p,v));return a};t.exports=s},function(t,e,i){var n=i(41),r=function(t,e,i,r){return void 0===r&&(r=i),new n(t,e,t,e-r,t+i,e)};t.exports=r},function(t,e,i){var n=i(213),r=i(214),s=function(t,e,i,s){void 0===s&&(s=n);var a=s(t),o=e-a.x,h=i-a.y;return r(t,o,h)};t.exports=s},function(t,e){function i(t,e,i,n){return t*n-e*i}var n=function(t,e){void 0===e&&(e={x:0,y:0});var n=t.x3,r=t.y3,s=t.x1-n,a=t.y1-r,o=t.x2-n,h=t.y2-r,u=2*i(s,a,o,h),c=i(a,s*s+a*a,h,o*o+h*h),l=i(s,s*s+a*a,o,o*o+h*h);return e.x=n-c/u,e.y=r+l/u,e};t.exports=n},function(t,e){var i=function(t,e){void 0===e&&(e={x:0,y:0,radius:0});var i,n,r=t.x1,s=t.y1,a=t.x2,o=t.y2,h=t.x3,u=t.y3,c=a-r,l=o-s,f=h-r,d=u-s,p=c*(r+a)+l*(s+o),v=f*(r+h)+d*(s+u),g=2*(c*(u-o)-l*(h-a));if(Math.abs(g)<1e-6){var x=Math.min(r,a,h),m=Math.min(s,o,u);i=.5*(Math.max(r,a,h)-x),n=.5*(Math.max(s,o,u)-m),e.x=x+i,e.y=m+n,e.radius=Math.sqrt(i*i+n*n)}else e.x=(d*p-l*v)/g,e.y=(c*v-f*p)/g,i=e.x-r,n=e.y-s,e.radius=Math.sqrt(i*i+n*n);return e};t.exports=i},function(t,e,i){var n=i(41),r=function(t){return new n(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)};t.exports=r},function(t,e,i){var n=i(47),r=function(t,e){return n(t,e.x,e.y)};t.exports=r},function(t,e){var i=function(t,e){return e.setTo(t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)};t.exports=i},function(t,e){var i=function(t,e){return t.x1===e.x1&&t.y1===e.y1&&t.x2===e.x2&&t.y2===e.y2&&t.x3===e.x3&&t.y3===e.y3};t.exports=i},function(t,e,i){var n=i(102),r=i(215),s=function(t,e){var i=r(t);return n(t,i.x,i.y,e)};t.exports=s},function(t,e,i){var n=i(102),r=function(t,e,i){return n(t,e.x,e.y,i)};t.exports=r},function(t,e,i){t.exports={BlendModes:i(928),Color:i(943)}},function(t,e,i){t.exports={Add:i(216),Average:i(929),ColorBurn:i(217),ColorDodge:i(218),Darken:i(219),Difference:i(930),Exclusion:i(931),Glow:i(932),HardLight:i(933),HardMix:i(934),Lighten:i(223),LinearBurn:i(224),LinearDodge:i(226),LinearLight:i(935),Multiply:i(936),Negation:i(937),Normal:i(938),Overlay:i(221),Phoenix:i(939),PinLight:i(940),Reflect:i(220),Screen:i(941),SoftLight:i(942),Subtract:i(225),VividLight:i(222)}},function(t,e){var i=function(t,e){return(t+e)/2};t.exports=i},function(t,e){var i=function(t,e){return Math.abs(t-e)};t.exports=i},function(t,e){var i=function(t,e){return t+e-2*t*e/255};t.exports=i},function(t,e,i){var n=i(220),r=function(t,e){return n(e,t)};t.exports=r},function(t,e,i){var n=i(221),r=function(t,e){return n(e,t)};t.exports=r},function(t,e,i){var n=i(222),r=function(t,e){return n(t,e)<128?0:255};t.exports=r},function(t,e,i){var n=i(224),r=i(226),s=function(t,e){return e<128?n(t,2*e):r(t,2*(e-128))};t.exports=s},function(t,e){var i=function(t,e){return t*e/255};t.exports=i},function(t,e){var i=function(t,e){return 255-Math.abs(255-t-e)};t.exports=i},function(t,e){var i=function(t){return t};t.exports=i},function(t,e){var i=function(t,e){return Math.min(t,e)-Math.max(t,e)+255};t.exports=i},function(t,e,i){var n=i(219),r=i(223),s=function(t,e){return e<128?n(t,2*e):r(t,2*(e-128))};t.exports=s},function(t,e){var i=function(t,e){return 255-((255-t)*(255-e)>>8)};t.exports=i},function(t,e){var i=function(t,e){return e<128?2*(64+(t>>1))*(e/255):255-2*(255-(64+(t>>1)))*(255-e)/255};t.exports=i},function(t,e,i){var n=i(28);n.ColorToRGBA=i(944),n.ComponentToHex=i(227),n.CSSToColor=i(945),n.GetColor=i(73),n.GetColor32=i(156),n.HexStringToColor=i(157),n.HSLToColor=i(946),n.HSVColorWheel=i(948),n.HSVToRGB=i(229),n.HueToComponent=i(228),n.IntegerToColor=i(158),n.IntegerToRGB=i(159),n.Interpolate=i(949),n.RandomRGB=i(950),n.RGBStringToColor=i(155),n.RGBToHSV=i(951),n.RGBToString=i(952),n.ValueToColor=i(52),t.exports=n},function(t,e){var i=function(t){var e={r:t>>16&255,g:t>>8&255,b:255&t,a:255};return t>16777215&&(e.a=t>>>24),e};t.exports=i},function(t,e,i){var n=i(28),r={aliceblue:[240,248,245],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,35],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,129],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},s=function(t){t=t.toLowerCase();var e=new n,i=r[t];return i&&e.setTo(i[0],i[1],i[2],255),e};t.exports=s},function(t,e,i){var n=i(28),r=i(228),s=function(t,e,i){var s=i,a=i,o=i;if(0!==e){var h=i<.5?i*(1+e):i+e-i*e,u=2*i-h;s=r(u,h,t+1/3),a=r(u,h,t),o=r(u,h,t-1/3)}return(new n).setGLTo(s,a,o,1)};t.exports=s},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,i){var n=i(229),r=function(t,e){void 0===t&&(t=1),void 0===e&&(e=1);for(var i=[],r=0;r<=359;r++)i.push(n(r/359,t,e));return i};t.exports=r},function(t,e,i){var n=i(151),r=function(t,e,i,r,s,a,o,h){void 0===o&&(o=100),void 0===h&&(h=0);var u=h/o;return{r:n(t,r,u),g:n(e,s,u),b:n(i,a,u)}},s=function(t,e,i,n){return void 0===i&&(i=100),void 0===n&&(n=0),r(t.r,t.g,t.b,e.r,e.g,e.b,i,n)},a=function(t,e,i,n,s,a){return void 0===s&&(s=100),void 0===a&&(a=0),r(t.r,t.g,t.b,e,i,n,s,a)};t.exports={RGBWithRGB:r,ColorWithRGB:a,ColorWithColor:s}},function(t,e,i){var n=i(72),r=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=255),{r:n(t,e),g:n(t,e),b:n(t,e)}};t.exports=r},function(t,e){var i=function(t,e,i){t/=255,e/=255,i/=255;var n=Math.min(t,e,i),r=Math.max(t,e,i),s=r-n,a=0,o=0===r?0:s/r,h=r;return r!==n&&(r===t?a=(e-i)/s+(e<i?6:0):r===e?a=(i-t)/s+2:r===i&&(a=(t-e)/s+4),a/=6),{h:a,s:o,v:h}};t.exports=i},function(t,e,i){var n=i(227),r=function(t,e,i,r,s){return void 0===r&&(r=255),void 0===s&&(s="#"),"#"===s?"#"+((1<<24)+(t<<16)+(e<<8)+i).toString(16).slice(1):"0x"+n(r)+n(t)+n(e)+n(i)};t.exports=r},function(t,e,i){t.exports={Gamepad:i(954),Keyboard:i(958),Mouse:i(963)}},function(t,e,i){t.exports={Axis:i(172),Button:i(173),Gamepad:i(171),GamepadManager:i(170),Configs:i(955)}},function(t,e,i){t.exports={DUALSHOCK_4:i(956),SNES_USB:i(957)}},function(t,e){t.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},function(t,e){t.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},function(t,e,i){t.exports={KeyboardManager:i(174),Key:i(175),KeyCodes:i(77),KeyCombo:i(176),JustDown:i(959),JustUp:i(960),DownDuration:i(961),UpDuration:i(962)}},function(t,e){var i=function(t){var e=!1;return t.isDown&&(e=t._justDown,t._justDown=!1),e};t.exports=i},function(t,e){var i=function(t){var e=!1;return t.isDown&&(e=t._justUp,t._justUp=!1),e};t.exports=i},function(t,e){var i=function(t,e){return void 0===e&&(e=50),t.isDown&&t.duration<e};t.exports=i},function(t,e){var i=function(t,e){return void 0===e&&(e=50),t.isUp&&t.duration<e};t.exports=i},function(t,e,i){t.exports={MouseManager:i(178)}},function(t,e,i){t.exports={Components:i(3),BitmapText:i(87),Blitter:i(78),DynamicBitmapText:i(79),EffectLayer:i(81),LightLayer:i(187),Graphics:i(82),Group:i(84),Image:i(56),Mesh:i(57),ObjectPool:i(96),Quad:i(85),RenderPass:i(86),Sprite:i(39),StaticTilemap:i(88),Text:i(89),Tilemap:i(80),TileSprite:i(90),Zone:i(65)}},function(t,e,i){t.exports={Dynamic:i(966)}},function(t,e,i){t.exports={FX:i(967)}},function(t,e,i){var n=i(72),r=i(0),s=i(2),a=new r({initialize:function(t,e){this.audioContext=t,this.frequencyValue=s(e,"frequency",200),this.attack=s(e,"attack",0),this.decay=s(e,"decay",1),this.type=s(e,"type","sine"),this.volumeValue=s(e,"volume",1),this.panValue=s(e,"pan",0),this.wait=s(e,"wait",0),this.pitchBendAmount=s(e,"pitchBend",0),this.reverse=s(e,"reverse",!1),this.randomValue=s(e,"random",0),this.dissonance=s(e,"dissonance",0),this.echo=s(e,"echo",!1),this.echoDelay=s(e,"echo.delay",0),this.echoFeedback=s(e,"echo.feedback",0),this.echoFilter=s(e,"echo.filter",0),this.reverb=s(e,"reverb",!1),this.reverbDuration=s(e,"reverb.duration",0),this.reverbDecay=s(e,"reverb.decay",0),this.reverbReverse=s(e,"reverb.reverse",!1),this.timeout=s(e,"timeout",!1),this.volume=t.createGain(),this.pan=t.createStereoPanner?t.createStereoPanner():t.createPanner(),this.volume.connect(this.pan),this.pan.connect(t.destination),this.volume.gain.value=this.volumeValue,t.createStereoPanner?this.pan.pan.value=this.panValue:this.pan.setPosition(this.panValue,0,1-Math.abs(this.panValue));var i=t.createOscillator();i.connect(this.volume),i.type=this.type,this.randomValue>0?i.frequency.value=n(this.frequencyValue-this.randomValue/2,this.frequencyValue+this.randomValue/2):i.frequency.value=this.frequencyValue,this.attack>0&&this.fadeIn(this.volume),this.fadeOut(this.volume),this.pitchBendAmount>0&&this.pitchBend(i),this.echo&&this.addEcho(this.volume),this.reverb&&this.addReverb(this.volume),this.dissonance>0&&this.addDissonance(),this.play(i);var r=this;i.onended=function(){r.pan.disconnect(),r.volume.disconnect()}},play:function(t){t.start(this.audioContext.currentTime+this.wait),t.stop(this.audioContext.currentTime+this.wait+2)},fadeIn:function(t){t.gain.value=0,t.gain.linearRampToValueAtTime(0,this.audioContext.currentTime+this.wait),t.gain.linearRampToValueAtTime(this.volumeValue,this.audioContext.currentTime+this.wait+this.attack)},fadeOut:function(t){t.gain.linearRampToValueAtTime(this.volumeValue,this.audioContext.currentTime+this.wait+this.attack),t.gain.linearRampToValueAtTime(0,this.audioContext.currentTime+this.wait+this.attack+this.decay)},addReverb:function(t){var e=this.audioContext.createConvolver();e.buffer=this.impulseResponse(this.reverbDuration,this.reverbDecay,this.reverbReverse,this.audioContext),t.connect(e),e.connect(this.pan)},addEcho:function(t){var e=this.audioContext.createGain(),i=this.audioContext.createDelay(),n=this.audioContext.createBiquadFilter();e.gain.value=this.echoFeedback,i.delayTime.value=this.echoDelay,this.echoFilter&&(n.frequency.value=this.echoFilter),i.connect(e),this.echoFilter?(e.connect(n),n.connect(i)):e.connect(i),t.connect(i),i.connect(this.pan)},pitchBend:function(t){var e=t.frequency.value;this.reverse?(t.frequency.linearRampToValueAtTime(e,this.audioContext.currentTime+this.wait),t.frequency.linearRampToValueAtTime(e+this.pitchBendAmount,this.audioContext.currentTime+this.wait+this.attack+this.decay)):(t.frequency.linearRampToValueAtTime(e,this.audioContext.currentTime+this.wait),t.frequency.linearRampToValueAtTime(e-this.pitchBendAmount,this.audioContext.currentTime+this.wait+this.attack+this.decay))},addDissonance:function(){var t=this.audioContext,e=t.createOscillator(),i=t.createOscillator(),n=t.createGain(),r=t.createGain();n.gain.value=this.volumeValue,r.gain.value=this.volumeValue,e.connect(n),i.connect(r),n.connect(t.destination),r.connect(t.destination),e.type="sawtooth",i.type="sawtooth",e.frequency.value=this.frequencyValue+this.dissonance,i.frequency.value=this.frequencyValue-this.dissonance,this.attack>0&&(this.fadeIn(n),this.fadeIn(r)),this.decay>0&&(this.fadeOut(n),this.fadeOut(r)),this.pitchBendAmount>0&&(this.pitchBend(e),this.pitchBend(i)),this.echo&&(this.addEcho(n),this.addEcho(r)),this.reverb&&(this.addReverb(n),this.addReverb(r)),this.play(e),this.play(i)},impulseResponse:function(t,e,i){for(var n=this.audioContext.sampleRate*t,r=this.audioContext.createBuffer(2,n,this.audioContext.sampleRate),s=r.getChannelData(0),a=r.getChannelData(1),o=0;o<n;o++){var h=i?n-o:o;s[o]=(2*Math.random()-1)*Math.pow(1-h/n,e),a[o]=(2*Math.random()-1)*Math.pow(1-h/n,e)}return r}});t.exports=a},function(t,e,i){t.exports={Map:i(165),RTree:i(969),Set:i(55)}},function(t,e,i){function n(t,e){if(!(this instanceof n))return new n(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function r(t,e,i){if(!i)return e.indexOf(t);for(var n=0;n<e.length;n++)if(i(t,e[n]))return n;return-1}function s(t,e){a(t,0,t.children.length,e,t)}function a(t,e,i,n,r){r||(r=g(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var s,a=e;a<i;a++)s=t.children[a],o(r,t.leaf?n(s):s);return r}function o(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function h(t,e){return t.minX-e.minX}function u(t,e){return t.minY-e.minY}function c(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function l(t){return t.maxX-t.minX+(t.maxY-t.minY)}function f(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function d(t,e){var i=Math.max(t.minX,e.minX),n=Math.max(t.minY,e.minY),r=Math.min(t.maxX,e.maxX),s=Math.min(t.maxY,e.maxY);return Math.max(0,r-i)*Math.max(0,s-n)}function p(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function v(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function g(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function x(t,e,i,n,r){for(var s,a=[e,i];a.length;)i=a.pop(),e=a.pop(),i-e<=n||(s=e+Math.ceil((i-e)/n/2)*n,m(t,s,e,i,r),a.push(e,s,s,i))}var m=i(230);n.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,i=[],n=this.toBBox;if(!v(t,e))return i;for(var r,s,a,o,h=[];e;){for(r=0,s=e.children.length;r<s;r++)a=e.children[r],o=e.leaf?n(a):a,v(t,o)&&(e.leaf?i.push(a):p(t,o)?this._all(a,i):h.push(a));e=h.pop()}return i},collides:function(t){var e=this.data,i=this.toBBox;if(!v(t,e))return!1;for(var n,r,s,a,o=[];e;){for(n=0,r=e.children.length;n<r;n++)if(s=e.children[n],a=e.leaf?i(s):s,v(t,a)){if(e.leaf||p(t,a))return!0;o.push(s)}e=o.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,i=t.length;e<i;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=g([]),this},remove:function(t,e){if(!t)return this;for(var i,n,s,a,o=this.data,h=this.toBBox(t),u=[],c=[];o||u.length;){if(o||(o=u.pop(),n=u[u.length-1],i=c.pop(),a=!0),o.leaf&&-1!==(s=r(t,o.children,e)))return o.children.splice(s,1),u.push(o),this._condense(u),this;a||o.leaf||!p(o,h)?n?(i++,o=n.children[i],a=!1):o=null:(u.push(o),c.push(i),i=0,n=o,o=o.children[0])}return this},toBBox:function(t){return t},compareMinX:h,compareMinY:u,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var i=[];t;)t.leaf?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},_build:function(t,e,i,n){var r,a=i-e+1,o=this._maxEntries;if(a<=o)return r=g(t.slice(e,i+1)),s(r,this.toBBox),r;n||(n=Math.ceil(Math.log(a)/Math.log(o)),o=Math.ceil(a/Math.pow(o,n-1))),r=g([]),r.leaf=!1,r.height=n;var h,u,c,l,f=Math.ceil(a/o),d=f*Math.ceil(Math.sqrt(o));for(x(t,e,i,d,this.compareMinX),h=e;h<=i;h+=d)for(c=Math.min(h+d-1,i),x(t,h,c,f,this.compareMinY),u=h;u<=c;u+=f)l=Math.min(u+f-1,c),r.children.push(this._build(t,u,l,n-1));return s(r,this.toBBox),r},_chooseSubtree:function(t,e,i,n){for(var r,s,a,o,h,u,l,d;;){if(n.push(e),e.leaf||n.length-1===i)break;for(l=d=1/0,r=0,s=e.children.length;r<s;r++)a=e.children[r],h=c(a),u=f(t,a)-h,u<d?(d=u,l=h<l?h:l,o=a):u===d&&h<l&&(l=h,o=a);e=o||e.children[0]}return e},_insert:function(t,e,i){var n=this.toBBox,r=i?t:n(t),s=[],a=this._chooseSubtree(r,this.data,e,s);for(a.children.push(t),o(a,r);e>=0&&s[e].children.length>this._maxEntries;)this._split(s,e),e--;this._adjustParentBBoxes(r,s,e)},_split:function(t,e){var i=t[e],n=i.children.length,r=this._minEntries;this._chooseSplitAxis(i,r,n);var a=this._chooseSplitIndex(i,r,n),o=g(i.children.splice(a,i.children.length-a));o.height=i.height,o.leaf=i.leaf,s(i,this.toBBox),s(o,this.toBBox),e?t[e-1].children.push(o):this._splitRoot(i,o)},_splitRoot:function(t,e){this.data=g([t,e]),this.data.height=t.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,i){var n,r,s,o,h,u,l,f;for(u=l=1/0,n=e;n<=i-e;n++)r=a(t,0,n,this.toBBox),s=a(t,n,i,this.toBBox),o=d(r,s),h=c(r)+c(s),o<u?(u=o,f=n,l=h<l?h:l):o===u&&h<l&&(l=h,f=n);return f},_chooseSplitAxis:function(t,e,i){var n=t.leaf?this.compareMinX:h,r=t.leaf?this.compareMinY:u;this._allDistMargin(t,e,i,n)<this._allDistMargin(t,e,i,r)&&t.children.sort(n)},_allDistMargin:function(t,e,i,n){t.children.sort(n);var r,s,h=this.toBBox,u=a(t,0,e,h),c=a(t,i-e,i,h),f=l(u)+l(c);for(r=e;r<i-e;r++)s=t.children[r],o(u,t.leaf?h(s):s),f+=l(u);for(r=i-e-1;r>=e;r--)s=t.children[r],o(c,t.leaf?h(s):s),f+=l(c);return f},_adjustParentBBoxes:function(t,e,i){for(var n=i;n>=0;n--)o(e[n],t)},_condense:function(t){for(var e,i=t.length-1;i>=0;i--)0===t[i].children.length?i>0?(e=t[i-1].children,e.splice(e.indexOf(t[i]),1)):this.clear():s(t[i],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}},t.exports=n},function(t,e,i){t.exports={Align:i(971),Array:i(984),Bounds:i(989),Objects:i(992),String:i(995)}},function(t,e,i){t.exports={InBottomCenter:i(107),InBottomLeft:i(108),InBottomRight:i(109),InCenter:i(110),InLeftCenter:i(112),InRightCenter:i(113),InTopCenter:i(114),InTopLeft:i(115),InTopRight:i(116),ToBottomCenter:i(972),ToBottomLeft:i(973),ToBottomRight:i(974),ToLeftBottom:i(975),ToLeftCenter:i(976),ToLeftTop:i(977),ToRightBottom:i(978),ToRightCenter:i(979),ToRightTop:i(980),ToTopCenter:i(981),ToTopLeft:i(982),ToTopRight:i(983)}},function(t,e,i){var n=i(32),r=i(15),s=i(33),a=i(22),o=function(t,e,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),s(t,n(e)+i),a(t,r(e)+o),t};t.exports=o},function(t,e,i){var n=i(17),r=i(15),s=i(18),a=i(22),o=function(t,e,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),s(t,n(e)-i),a(t,r(e)+o),t};t.exports=o},function(t,e,i){var n=i(19),r=i(15),s=i(20),a=i(22),o=function(t,e,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),s(t,n(e)+i),a(t,r(e)+o),t};t.exports=o},function(t,e,i){var n=i(17),r=i(15),s=i(20),a=i(16),o=function(t,e,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),s(t,n(e)-i),a(t,r(e)+o),t};t.exports=o},function(t,e,i){var n=i(17),r=i(34),s=i(20),a=i(35),o=function(t,e,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),s(t,n(e)-i),a(t,r(e)+o),t};t.exports=o},function(t,e,i){var n=i(17),r=i(21),s=i(20),a=i(22),o=function(t,e,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),s(t,n(e)-i),a(t,r(e)-o),t};t.exports=o},function(t,e,i){var n=i(19),r=i(15),s=i(18),a=i(16),o=function(t,e,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),s(t,n(e)+i),a(t,r(e)+o),t};t.exports=o},function(t,e,i){var n=i(19),r=i(34),s=i(18),a=i(35),o=function(t,e,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),s(t,n(e)+i),a(t,r(e)+o),t};t.exports=o},function(t,e,i){var n=i(19),r=i(21),s=i(18),a=i(22),o=function(t,e,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),s(t,n(e)+i),a(t,r(e)-o),t};t.exports=o},function(t,e,i){var n=i(32),r=i(21),s=i(33),a=i(16),o=function(t,e,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),s(t,n(e)+i),a(t,r(e)-o),t};t.exports=o},function(t,e,i){var n=i(17),r=i(21),s=i(18),a=i(16),o=function(t,e,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),s(t,n(e)-i),a(t,r(e)-o),t};t.exports=o},function(t,e,i){var n=i(19),r=i(21),s=i(20),a=i(16),o=function(t,e,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),s(t,n(e)+i),a(t,r(e)-o),t};t.exports=o},function(t,e,i){t.exports={FindClosestInSorted:i(985),GetRandomElement:i(986),NumberArray:i(190),NumberArrayStep:i(987),QuickSelect:i(230),Range:i(184),RemoveRandomElement:i(988),RotateLeft:i(121),RotateRight:i(122),Shuffle:i(185),SpliceOne:i(231)}},function(t,e){var i=function(t,e){if(!e.length)return NaN;if(1===e.length||t<e[0])return e[0];for(var i=1;e[i]<t;)i++;var n=e[i-1],r=i<e.length?e[i]:Number.POSITIVE_INFINITY;return r-t<=t-n?r:n};t.exports=i},function(t,e){var i=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=t.length);var n=e+Math.floor(Math.random()*i);return void 0===t[n]?null:t[n]};t.exports=i},function(t,e,i){var n=i(154),r=function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=null),void 0===i&&(i=1),null===e&&(e=t,t=0);for(var r=[],s=Math.max(n((e-t)/(i||1)),0),a=0;a<s;a++)r.push(t),t+=i;return r};t.exports=r},function(t,e,i){var n=i(231),r=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=t.length);var r=e+Math.floor(Math.random()*i);return n(t,r)};t.exports=r},function(t,e,i){t.exports={CenterOn:i(111),GetBottom:i(15),GetCenterX:i(32),GetCenterY:i(34),GetLeft:i(17),GetOffsetX:i(990),GetOffsetY:i(991),GetRight:i(19),GetTop:i(21),SetBottom:i(16),SetCenterX:i(33),SetCenterY:i(35),SetLeft:i(18),SetRight:i(20),SetTop:i(22)}},function(t,e){var i=function(t){return t.width*t.originX};t.exports=i},function(t,e){var i=function(t){return t.height*t.originY};t.exports=i},function(t,e,i){t.exports={Clone:i(59),Extend:i(64),GetAdvancedValue:i(4),GetFastValue:i(7),GetMinMaxValue:i(993),GetValue:i(2),IsPlainObject:i(104),Merge:i(94),MergeRight:i(994)}},function(t,e,i){var n=i(2),r=i(49),s=function(t,e,i,s,a){void 0===a&&(a=i);var o=n(t,e,a);return r(o,i,s)};t.exports=s},function(t,e,i){var n=i(59),r=function(t,e){var i=n(t);for(var r in e)i.hasOwnProperty(r)&&(i[r]=e[r]);return i};t.exports=r},function(t,e,i){t.exports={Pad:i(164),Format:i(996),Reverse:i(997)}},function(t,e){var i=function(t,e){return t.replace(/%([0-9]+)/g,function(t,i){return e[Number(i)-1]}),t};t.exports=i},function(t,e){var i=function(t){return t.split("").reverse().join("")};t.exports=i}])});